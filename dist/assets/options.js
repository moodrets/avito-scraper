var Ac=Object.defineProperty;var Pc=(e,t,n)=>t in e?Ac(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ss=(e,t,n)=>(Pc(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ho(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Ge={},sr=[],qt=()=>{},$c=()=>!1,Nc=/^on[^a-z]/,qi=e=>Nc.test(e),po=e=>e.startsWith("onUpdate:"),ct=Object.assign,yo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ic=Object.prototype.hasOwnProperty,Le=(e,t)=>Ic.call(e,t),Se=Array.isArray,or=e=>Zr(e)==="[object Map]",Va=e=>Zr(e)==="[object Set]",Fc=e=>Zr(e)==="[object RegExp]",Ee=e=>typeof e=="function",at=e=>typeof e=="string",mo=e=>typeof e=="symbol",tt=e=>e!==null&&typeof e=="object",Ha=e=>tt(e)&&Ee(e.then)&&Ee(e.catch),qa=Object.prototype.toString,Zr=e=>qa.call(e),Mc=e=>Zr(e).slice(8,-1),Ya=e=>Zr(e)==="[object Object]",go=e=>at(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_i=ho(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Lc=/-(\w)/g,pr=Yi(e=>e.replace(Lc,(t,n)=>n?n.toUpperCase():"")),jc=/\B([A-Z])/g,vr=Yi(e=>e.replace(jc,"-$1").toLowerCase()),Ja=Yi(e=>e.charAt(0).toUpperCase()+e.slice(1)),os=Yi(e=>e?`on${Ja(e)}`:""),Rr=(e,t)=>!Object.is(e,t),ar=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Pi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Ds=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Wo;const ks=()=>Wo||(Wo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vo(e){if(Se(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=at(r)?Uc(r):vo(r);if(i)for(const s in i)t[s]=i[s]}return t}else{if(at(e))return e;if(tt(e))return e}}const Bc=/;(?![^(]*\))/g,Rc=/:([^]+)/,Kc=/\/\*[^]*?\*\//g;function Uc(e){const t={};return e.replace(Kc,"").split(Bc).forEach(n=>{if(n){const r=n.split(Rc);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function At(e){let t="";if(at(e))t=e;else if(Se(e))for(let n=0;n<e.length;n++){const r=At(e[n]);r&&(t+=r+" ")}else if(tt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Vc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hc=ho(Vc);function Wa(e){return!!e||e===""}const qe=e=>at(e)?e:e==null?"":Se(e)||tt(e)&&(e.toString===qa||!Ee(e.toString))?JSON.stringify(e,za,2):String(e),za=(e,t)=>t&&t.__v_isRef?za(e,t.value):or(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Va(t)?{[`Set(${t.size})`]:[...t.values()]}:tt(t)&&!Se(t)&&!Ya(t)?String(t):t;let Bt;class qc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Bt,!t&&Bt&&(this.index=(Bt.scopes||(Bt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Bt;try{return Bt=this,t()}finally{Bt=n}}}on(){Bt=this}off(){Bt=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Yc(e,t=Bt){t&&t.active&&t.effects.push(e)}function Jc(){return Bt}const bo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ga=e=>(e.w&Cn)>0,Xa=e=>(e.n&Cn)>0,Wc=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Cn},zc=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];Ga(i)&&!Xa(i)?i.delete(e):t[n++]=i,i.w&=~Cn,i.n&=~Cn}t.length=n}},Ss=new WeakMap;let Sr=0,Cn=1;const Ts=30;let Rt;const Rn=Symbol(""),Os=Symbol("");class _o{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Yc(this,r)}run(){if(!this.active)return this.fn();let t=Rt,n=wn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Rt,Rt=this,wn=!0,Cn=1<<++Sr,Sr<=Ts?Wc(this):zo(this),this.fn()}finally{Sr<=Ts&&zc(this),Cn=1<<--Sr,Rt=this.parent,wn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Rt===this?this.deferStop=!0:this.active&&(zo(this),this.onStop&&this.onStop(),this.active=!1)}}function zo(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let wn=!0;const Qa=[];function br(){Qa.push(wn),wn=!1}function _r(){const e=Qa.pop();wn=e===void 0?!0:e}function Dt(e,t,n){if(wn&&Rt){let r=Ss.get(e);r||Ss.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=bo()),Za(i)}}function Za(e,t){let n=!1;Sr<=Ts?Xa(e)||(e.n|=Cn,n=!Ga(e)):n=!e.has(Rt),n&&(e.add(Rt),Rt.deps.push(e))}function fn(e,t,n,r,i,s){const o=Ss.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(n==="length"&&Se(e)){const c=Number(r);o.forEach((u,d)=>{(d==="length"||d>=c)&&l.push(u)})}else switch(n!==void 0&&l.push(o.get(n)),t){case"add":Se(e)?go(n)&&l.push(o.get("length")):(l.push(o.get(Rn)),or(e)&&l.push(o.get(Os)));break;case"delete":Se(e)||(l.push(o.get(Rn)),or(e)&&l.push(o.get(Os)));break;case"set":or(e)&&l.push(o.get(Rn));break}if(l.length===1)l[0]&&Es(l[0]);else{const c=[];for(const u of l)u&&c.push(...u);Es(bo(c))}}function Es(e,t){const n=Se(e)?e:[...e];for(const r of n)r.computed&&Go(r);for(const r of n)r.computed||Go(r)}function Go(e,t){(e!==Rt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Gc=ho("__proto__,__v_isRef,__isVue"),el=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(mo)),Xc=wo(),Qc=wo(!1,!0),Zc=wo(!0),Xo=eu();function eu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Re(this);for(let s=0,o=this.length;s<o;s++)Dt(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Re)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){br();const r=Re(this)[t].apply(this,n);return _r(),r}}),e}function tu(e){const t=Re(this);return Dt(t,"has",e),t.hasOwnProperty(e)}function wo(e=!1,t=!1){return function(r,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&s===(e?t?gu:sl:t?il:rl).get(r))return r;const o=Se(r);if(!e){if(o&&Le(Xo,i))return Reflect.get(Xo,i,s);if(i==="hasOwnProperty")return tu}const l=Reflect.get(r,i,s);return(mo(i)?el.has(i):Gc(i))||(e||Dt(r,"get",i),t)?l:yt(l)?o&&go(i)?l:l.value:tt(l)?e?ol(l):wr(l):l}}const nu=tl(),ru=tl(!0);function tl(e=!1){return function(n,r,i,s){let o=n[r];if(yr(o)&&yt(o)&&!yt(i))return!1;if(!e&&(!$i(i)&&!yr(i)&&(o=Re(o),i=Re(i)),!Se(n)&&yt(o)&&!yt(i)))return o.value=i,!0;const l=Se(n)&&go(r)?Number(r)<n.length:Le(n,r),c=Reflect.set(n,r,i,s);return n===Re(s)&&(l?Rr(i,o)&&fn(n,"set",r,i):fn(n,"add",r,i)),c}}function iu(e,t){const n=Le(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&fn(e,"delete",t,void 0),r}function su(e,t){const n=Reflect.has(e,t);return(!mo(t)||!el.has(t))&&Dt(e,"has",t),n}function ou(e){return Dt(e,"iterate",Se(e)?"length":Rn),Reflect.ownKeys(e)}const nl={get:Xc,set:nu,deleteProperty:iu,has:su,ownKeys:ou},au={get:Zc,set(e,t){return!0},deleteProperty(e,t){return!0}},lu=ct({},nl,{get:Qc,set:ru}),xo=e=>e,Ji=e=>Reflect.getPrototypeOf(e);function oi(e,t,n=!1,r=!1){e=e.__v_raw;const i=Re(e),s=Re(t);n||(t!==s&&Dt(i,"get",t),Dt(i,"get",s));const{has:o}=Ji(i),l=r?xo:n?ko:Kr;if(o.call(i,t))return l(e.get(t));if(o.call(i,s))return l(e.get(s));e!==i&&e.get(t)}function ai(e,t=!1){const n=this.__v_raw,r=Re(n),i=Re(e);return t||(e!==i&&Dt(r,"has",e),Dt(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function li(e,t=!1){return e=e.__v_raw,!t&&Dt(Re(e),"iterate",Rn),Reflect.get(e,"size",e)}function Qo(e){e=Re(e);const t=Re(this);return Ji(t).has.call(t,e)||(t.add(e),fn(t,"add",e,e)),this}function Zo(e,t){t=Re(t);const n=Re(this),{has:r,get:i}=Ji(n);let s=r.call(n,e);s||(e=Re(e),s=r.call(n,e));const o=i.call(n,e);return n.set(e,t),s?Rr(t,o)&&fn(n,"set",e,t):fn(n,"add",e,t),this}function ea(e){const t=Re(this),{has:n,get:r}=Ji(t);let i=n.call(t,e);i||(e=Re(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&fn(t,"delete",e,void 0),s}function ta(){const e=Re(this),t=e.size!==0,n=e.clear();return t&&fn(e,"clear",void 0,void 0),n}function ci(e,t){return function(r,i){const s=this,o=s.__v_raw,l=Re(o),c=t?xo:e?ko:Kr;return!e&&Dt(l,"iterate",Rn),o.forEach((u,d)=>r.call(i,c(u),c(d),s))}}function ui(e,t,n){return function(...r){const i=this.__v_raw,s=Re(i),o=or(s),l=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,u=i[e](...r),d=n?xo:t?ko:Kr;return!t&&Dt(s,"iterate",c?Os:Rn),{next(){const{value:w,done:x}=u.next();return x?{value:w,done:x}:{value:l?[d(w[0]),d(w[1])]:d(w),done:x}},[Symbol.iterator](){return this}}}}function yn(e){return function(...t){return e==="delete"?!1:this}}function cu(){const e={get(s){return oi(this,s)},get size(){return li(this)},has:ai,add:Qo,set:Zo,delete:ea,clear:ta,forEach:ci(!1,!1)},t={get(s){return oi(this,s,!1,!0)},get size(){return li(this)},has:ai,add:Qo,set:Zo,delete:ea,clear:ta,forEach:ci(!1,!0)},n={get(s){return oi(this,s,!0)},get size(){return li(this,!0)},has(s){return ai.call(this,s,!0)},add:yn("add"),set:yn("set"),delete:yn("delete"),clear:yn("clear"),forEach:ci(!0,!1)},r={get(s){return oi(this,s,!0,!0)},get size(){return li(this,!0)},has(s){return ai.call(this,s,!0)},add:yn("add"),set:yn("set"),delete:yn("delete"),clear:yn("clear"),forEach:ci(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=ui(s,!1,!1),n[s]=ui(s,!0,!1),t[s]=ui(s,!1,!0),r[s]=ui(s,!0,!0)}),[e,n,t,r]}const[uu,fu,hu,du]=cu();function Co(e,t){const n=t?e?du:hu:e?fu:uu;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Le(n,i)&&i in r?n:r,i,s)}const pu={get:Co(!1,!1)},yu={get:Co(!1,!0)},mu={get:Co(!0,!1)},rl=new WeakMap,il=new WeakMap,sl=new WeakMap,gu=new WeakMap;function vu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bu(e){return e.__v_skip||!Object.isExtensible(e)?0:vu(Mc(e))}function wr(e){return yr(e)?e:Do(e,!1,nl,pu,rl)}function _u(e){return Do(e,!1,lu,yu,il)}function ol(e){return Do(e,!0,au,mu,sl)}function Do(e,t,n,r,i){if(!tt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=bu(e);if(o===0)return e;const l=new Proxy(e,o===2?r:n);return i.set(e,l),l}function lr(e){return yr(e)?lr(e.__v_raw):!!(e&&e.__v_isReactive)}function yr(e){return!!(e&&e.__v_isReadonly)}function $i(e){return!!(e&&e.__v_isShallow)}function al(e){return lr(e)||yr(e)}function Re(e){const t=e&&e.__v_raw;return t?Re(t):e}function ll(e){return Pi(e,"__v_skip",!0),e}const Kr=e=>tt(e)?wr(e):e,ko=e=>tt(e)?ol(e):e;function cl(e){wn&&Rt&&(e=Re(e),Za(e.dep||(e.dep=bo())))}function ul(e,t){e=Re(e);const n=e.dep;n&&Es(n)}function yt(e){return!!(e&&e.__v_isRef===!0)}function Wn(e){return wu(e,!1)}function wu(e,t){return yt(e)?e:new xu(e,t)}class xu{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Re(t),this._value=n?t:Kr(t)}get value(){return cl(this),this._value}set value(t){const n=this.__v_isShallow||$i(t)||yr(t);t=n?t:Re(t),Rr(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Kr(t),ul(this))}}function ke(e){return yt(e)?e.value:e}const Cu={get:(e,t,n)=>ke(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return yt(i)&&!yt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function fl(e){return lr(e)?e:new Proxy(e,Cu)}class Du{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new _o(t,()=>{this._dirty||(this._dirty=!0,ul(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Re(this);return cl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function ku(e,t,n=!1){let r,i;const s=Ee(e);return s?(r=e,i=qt):(r=e.get,i=e.set),new Du(r,i,s||!i,n)}function xn(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){Wi(s,t,n)}return i}function Yt(e,t,n,r){if(Ee(e)){const s=xn(e,t,n,r);return s&&Ha(s)&&s.catch(o=>{Wi(o,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(Yt(e[s],t,n,r));return i}function Wi(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,l=n;for(;s;){const u=s.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,o,l)===!1)return}s=s.parent}const c=t.appContext.config.errorHandler;if(c){xn(c,null,10,[e,o,l]);return}}Su(e,n,i,r)}function Su(e,t,n,r=!0){console.error(e)}let Ur=!1,As=!1;const dt=[];let Qt=0;const cr=[];let rn=null,Mn=0;const hl=Promise.resolve();let So=null;function Tu(e){const t=So||hl;return e?t.then(this?e.bind(this):e):t}function Ou(e){let t=Qt+1,n=dt.length;for(;t<n;){const r=t+n>>>1;Vr(dt[r])<e?t=r+1:n=r}return t}function To(e){(!dt.length||!dt.includes(e,Ur&&e.allowRecurse?Qt+1:Qt))&&(e.id==null?dt.push(e):dt.splice(Ou(e.id),0,e),dl())}function dl(){!Ur&&!As&&(As=!0,So=hl.then(yl))}function Eu(e){const t=dt.indexOf(e);t>Qt&&dt.splice(t,1)}function Au(e){Se(e)?cr.push(...e):(!rn||!rn.includes(e,e.allowRecurse?Mn+1:Mn))&&cr.push(e),dl()}function na(e,t=Ur?Qt+1:0){for(;t<dt.length;t++){const n=dt[t];n&&n.pre&&(dt.splice(t,1),t--,n())}}function pl(e){if(cr.length){const t=[...new Set(cr)];if(cr.length=0,rn){rn.push(...t);return}for(rn=t,rn.sort((n,r)=>Vr(n)-Vr(r)),Mn=0;Mn<rn.length;Mn++)rn[Mn]();rn=null,Mn=0}}const Vr=e=>e.id==null?1/0:e.id,Pu=(e,t)=>{const n=Vr(e)-Vr(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function yl(e){As=!1,Ur=!0,dt.sort(Pu);const t=qt;try{for(Qt=0;Qt<dt.length;Qt++){const n=dt[Qt];n&&n.active!==!1&&xn(n,null,14)}}finally{Qt=0,dt.length=0,pl(),Ur=!1,So=null,(dt.length||cr.length)&&yl()}}function $u(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ge;let i=n;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in r){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:w,trim:x}=r[d]||Ge;x&&(i=n.map(S=>at(S)?S.trim():S)),w&&(i=n.map(Ds))}let l,c=r[l=os(t)]||r[l=os(pr(t))];!c&&s&&(c=r[l=os(vr(t))]),c&&Yt(c,e,6,i);const u=r[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Yt(u,e,6,i)}}function ml(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},l=!1;if(!Ee(e)){const c=u=>{const d=ml(u,t,!0);d&&(l=!0,ct(o,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!s&&!l?(tt(e)&&r.set(e,null),null):(Se(s)?s.forEach(c=>o[c]=null):ct(o,s),tt(e)&&r.set(e,o),o)}function zi(e,t){return!e||!qi(t)?!1:(t=t.slice(2).replace(/Once$/,""),Le(e,t[0].toLowerCase()+t.slice(1))||Le(e,vr(t))||Le(e,t))}let mt=null,gl=null;function Ni(e){const t=mt;return mt=e,gl=e&&e.type.__scopeId||null,t}function Kt(e,t=mt,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&ha(-1);const s=Ni(t);let o;try{o=e(...i)}finally{Ni(s),r._d&&ha(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function as(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:l,attrs:c,emit:u,render:d,renderCache:w,data:x,setupState:S,ctx:$,inheritAttrs:O}=e;let L,j;const A=Ni(e);try{if(n.shapeFlag&4){const I=i||r;L=Xt(d.call(I,I,w,s,S,x,$)),j=c}else{const I=t;L=Xt(I.length>1?I(s,{attrs:c,slots:l,emit:u}):I(s,null)),j=t.props?c:Nu(c)}}catch(I){Nr.length=0,Wi(I,e,1),L=et(Dn)}let P=L;if(j&&O!==!1){const I=Object.keys(j),{shapeFlag:U}=P;I.length&&U&7&&(o&&I.some(po)&&(j=Iu(j,o)),P=qn(P,j))}return n.dirs&&(P=qn(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),L=P,Ni(A),L}const Nu=e=>{let t;for(const n in e)(n==="class"||n==="style"||qi(n))&&((t||(t={}))[n]=e[n]);return t},Iu=(e,t)=>{const n={};for(const r in e)(!po(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Fu(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:l,patchFlag:c}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?ra(r,o,u):!!o;if(c&8){const d=t.dynamicProps;for(let w=0;w<d.length;w++){const x=d[w];if(o[x]!==r[x]&&!zi(u,x))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?ra(r,o,u):!0:!!o;return!1}function ra(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!zi(n,s))return!0}return!1}function Mu({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const vl=e=>e.__isSuspense;function Lu(e,t){t&&t.pendingBranch?Se(e)?t.effects.push(...e):t.effects.push(e):Au(e)}const fi={};function wi(e,t,n){return bl(e,t,n)}function bl(e,t,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Ge){var l;const c=Jc()===((l=ht)==null?void 0:l.scope)?ht:null;let u,d=!1,w=!1;if(yt(e)?(u=()=>e.value,d=$i(e)):lr(e)?(u=()=>e,r=!0):Se(e)?(w=!0,d=e.some(I=>lr(I)||$i(I)),u=()=>e.map(I=>{if(yt(I))return I.value;if(lr(I))return jn(I);if(Ee(I))return xn(I,c,2)})):Ee(e)?t?u=()=>xn(e,c,2):u=()=>{if(!(c&&c.isUnmounted))return x&&x(),Yt(e,c,3,[S])}:u=qt,t&&r){const I=u;u=()=>jn(I())}let x,S=I=>{x=A.onStop=()=>{xn(I,c,4)}},$;if(qr)if(S=qt,t?n&&Yt(t,c,3,[u(),w?[]:void 0,S]):u(),i==="sync"){const I=Pf();$=I.__watcherHandles||(I.__watcherHandles=[])}else return qt;let O=w?new Array(e.length).fill(fi):fi;const L=()=>{if(A.active)if(t){const I=A.run();(r||d||(w?I.some((U,W)=>Rr(U,O[W])):Rr(I,O)))&&(x&&x(),Yt(t,c,3,[I,O===fi?void 0:w&&O[0]===fi?[]:O,S]),O=I)}else A.run()};L.allowRecurse=!!t;let j;i==="sync"?j=L:i==="post"?j=()=>ft(L,c&&c.suspense):(L.pre=!0,c&&(L.id=c.uid),j=()=>To(L));const A=new _o(u,j);t?n?L():O=A.run():i==="post"?ft(A.run.bind(A),c&&c.suspense):A.run();const P=()=>{A.stop(),c&&c.scope&&yo(c.scope.effects,A)};return $&&$.push(P),P}function ju(e,t,n){const r=this.proxy,i=at(e)?e.includes(".")?_l(r,e):()=>r[e]:e.bind(r,r);let s;Ee(t)?s=t:(s=t.handler,n=t);const o=ht;mr(this);const l=bl(i,s.bind(r),n);return o?mr(o):Un(),l}function _l(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function jn(e,t){if(!tt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),yt(e))jn(e.value,t);else if(Se(e))for(let n=0;n<e.length;n++)jn(e[n],t);else if(Va(e)||or(e))e.forEach(n=>{jn(n,t)});else if(Ya(e))for(const n in e)jn(e[n],t);return e}function Pn(e,t){const n=mt;if(n===null)return e;const r=Zi(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,l,c,u=Ge]=t[s];o&&(Ee(o)&&(o={mounted:o,updated:o}),o.deep&&jn(l),i.push({dir:o,instance:r,value:l,oldValue:void 0,arg:c,modifiers:u}))}return e}function $n(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const l=i[o];s&&(l.oldValue=s[o].value);let c=l.dir[r];c&&(br(),Yt(c,n,8,[e.el,l,e,t]),_r())}}function wl(e,t){e.shapeFlag&6&&e.component?wl(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function En(e,t){return Ee(e)?(()=>ct({name:e.name},t,{setup:e}))():e}const ur=e=>!!e.type.__asyncLoader,xl=e=>e.type.__isKeepAlive,Bu={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=No(),r=n.ctx;if(!r.renderer)return()=>{const A=t.default&&t.default();return A&&A.length===1?A[0]:A};const i=new Map,s=new Set;let o=null;const l=n.suspense,{renderer:{p:c,m:u,um:d,o:{createElement:w}}}=r,x=w("div");r.activate=(A,P,I,U,W)=>{const V=A.component;u(A,P,I,0,l),c(V.vnode,A,P,I,V,l,U,A.slotScopeIds,W),ft(()=>{V.isDeactivated=!1,V.a&&ar(V.a);const re=A.props&&A.props.onVnodeMounted;re&&It(re,V.parent,A)},l)},r.deactivate=A=>{const P=A.component;u(A,x,null,1,l),ft(()=>{P.da&&ar(P.da);const I=A.props&&A.props.onVnodeUnmounted;I&&It(I,P.parent,A),P.isDeactivated=!0},l)};function S(A){ls(A),d(A,n,l,!0)}function $(A){i.forEach((P,I)=>{const U=ma(P.type);U&&(!A||!A(U))&&O(I)})}function O(A){const P=i.get(A);!o||!er(P,o)?S(P):o&&ls(o),i.delete(A),s.delete(A)}wi(()=>[e.include,e.exclude],([A,P])=>{A&&$(I=>Tr(A,I)),P&&$(I=>!Tr(P,I))},{flush:"post",deep:!0});let L=null;const j=()=>{L!=null&&i.set(L,cs(n.subTree))};return xr(j),Dl(j),Oo(()=>{i.forEach(A=>{const{subTree:P,suspense:I}=n,U=cs(P);if(A.type===U.type&&A.key===U.key){ls(U);const W=U.component.da;W&&ft(W,I);return}S(A)})}),()=>{if(L=null,!t.default)return null;const A=t.default(),P=A[0];if(A.length>1)return o=null,A;if(!Po(P)||!(P.shapeFlag&4)&&!(P.shapeFlag&128))return o=null,P;let I=cs(P);const U=I.type,W=ma(ur(I)?I.type.__asyncResolved||{}:U),{include:V,exclude:re,max:D}=e;if(V&&(!W||!Tr(V,W))||re&&W&&Tr(re,W))return o=I,P;const b=I.key==null?U:I.key,K=i.get(b);return I.el&&(I=qn(I),P.shapeFlag&128&&(P.ssContent=I)),L=b,K?(I.el=K.el,I.component=K.component,I.transition&&wl(I,I.transition),I.shapeFlag|=512,s.delete(b),s.add(b)):(s.add(b),D&&s.size>parseInt(D,10)&&O(s.values().next().value)),I.shapeFlag|=256,o=I,vl(P.type)?P:I}}},Ru=Bu;function Tr(e,t){return Se(e)?e.some(n=>Tr(n,t)):at(e)?e.split(",").includes(t):Fc(e)?e.test(t):!1}function Ku(e,t){Cl(e,"a",t)}function Uu(e,t){Cl(e,"da",t)}function Cl(e,t,n=ht){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Gi(t,r,n),n){let i=n.parent;for(;i&&i.parent;)xl(i.parent.vnode)&&Vu(r,t,n,i),i=i.parent}}function Vu(e,t,n,r){const i=Gi(t,e,r,!0);kl(()=>{yo(r[t],i)},n)}function ls(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function cs(e){return e.shapeFlag&128?e.ssContent:e}function Gi(e,t,n=ht,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;br(),mr(n);const l=Yt(t,n,e,o);return Un(),_r(),l});return r?i.unshift(s):i.push(s),s}}const dn=e=>(t,n=ht)=>(!qr||e==="sp")&&Gi(e,(...r)=>t(...r),n),Hu=dn("bm"),xr=dn("m"),qu=dn("bu"),Dl=dn("u"),Oo=dn("bum"),kl=dn("um"),Yu=dn("sp"),Ju=dn("rtg"),Wu=dn("rtc");function zu(e,t=ht){Gi("ec",e,t)}const Gu=Symbol.for("v-ndc");function Kn(e,t,n,r){let i;const s=n&&n[r];if(Se(e)||at(e)){i=new Array(e.length);for(let o=0,l=e.length;o<l;o++)i[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,s&&s[o])}else if(tt(e))if(e[Symbol.iterator])i=Array.from(e,(o,l)=>t(o,l,void 0,s&&s[l]));else{const o=Object.keys(e);i=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const u=o[l];i[l]=t(e[u],u,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function Xu(e,t,n={},r,i){if(mt.isCE||mt.parent&&ur(mt.parent)&&mt.parent.isCE)return t!=="default"&&(n.name=t),et("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),we();const o=s&&Sl(s(n)),l=Zt(st,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function Sl(e){return e.some(t=>Po(t)?!(t.type===Dn||t.type===st&&!Sl(t.children)):!0)?e:null}const Ps=e=>e?Ll(e)?Zi(e)||e.proxy:Ps(e.parent):null,$r=ct(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ps(e.parent),$root:e=>Ps(e.root),$emit:e=>e.emit,$options:e=>Eo(e),$forceUpdate:e=>e.f||(e.f=()=>To(e.update)),$nextTick:e=>e.n||(e.n=Tu.bind(e.proxy)),$watch:e=>ju.bind(e)}),us=(e,t)=>e!==Ge&&!e.__isScriptSetup&&Le(e,t),Qu={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:l,appContext:c}=e;let u;if(t[0]!=="$"){const S=o[t];if(S!==void 0)switch(S){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(us(r,t))return o[t]=1,r[t];if(i!==Ge&&Le(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&Le(u,t))return o[t]=3,s[t];if(n!==Ge&&Le(n,t))return o[t]=4,n[t];$s&&(o[t]=0)}}const d=$r[t];let w,x;if(d)return t==="$attrs"&&Dt(e,"get",t),d(e);if((w=l.__cssModules)&&(w=w[t]))return w;if(n!==Ge&&Le(n,t))return o[t]=4,n[t];if(x=c.config.globalProperties,Le(x,t))return x[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return us(i,t)?(i[t]=n,!0):r!==Ge&&Le(r,t)?(r[t]=n,!0):Le(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let l;return!!n[o]||e!==Ge&&Le(e,o)||us(t,o)||(l=s[0])&&Le(l,o)||Le(r,o)||Le($r,o)||Le(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Le(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Zu(){return ef().slots}function ef(){const e=No();return e.setupContext||(e.setupContext=Bl(e))}function ia(e){return Se(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let $s=!0;function tf(e){const t=Eo(e),n=e.proxy,r=e.ctx;$s=!1,t.beforeCreate&&sa(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:l,provide:c,inject:u,created:d,beforeMount:w,mounted:x,beforeUpdate:S,updated:$,activated:O,deactivated:L,beforeDestroy:j,beforeUnmount:A,destroyed:P,unmounted:I,render:U,renderTracked:W,renderTriggered:V,errorCaptured:re,serverPrefetch:D,expose:b,inheritAttrs:K,components:B,directives:ge,filters:ae}=t;if(u&&nf(u,r,null),o)for(const ue in o){const oe=o[ue];Ee(oe)&&(r[ue]=oe.bind(n))}if(i){const ue=i.call(n,n);tt(ue)&&(e.data=wr(ue))}if($s=!0,s)for(const ue in s){const oe=s[ue],Ue=Ee(oe)?oe.bind(n,n):Ee(oe.get)?oe.get.bind(n,n):qt,Ke=!Ee(oe)&&Ee(oe.set)?oe.set.bind(n):qt,Qe=Rl({get:Ue,set:Ke});Object.defineProperty(r,ue,{enumerable:!0,configurable:!0,get:()=>Qe.value,set:Be=>Qe.value=Be})}if(l)for(const ue in l)Tl(l[ue],r,n,ue);if(c){const ue=Ee(c)?c.call(n):c;Reflect.ownKeys(ue).forEach(oe=>{cf(oe,ue[oe])})}d&&sa(d,e,"c");function me(ue,oe){Se(oe)?oe.forEach(Ue=>ue(Ue.bind(n))):oe&&ue(oe.bind(n))}if(me(Hu,w),me(xr,x),me(qu,S),me(Dl,$),me(Ku,O),me(Uu,L),me(zu,re),me(Wu,W),me(Ju,V),me(Oo,A),me(kl,I),me(Yu,D),Se(b))if(b.length){const ue=e.exposed||(e.exposed={});b.forEach(oe=>{Object.defineProperty(ue,oe,{get:()=>n[oe],set:Ue=>n[oe]=Ue})})}else e.exposed||(e.exposed={});U&&e.render===qt&&(e.render=U),K!=null&&(e.inheritAttrs=K),B&&(e.components=B),ge&&(e.directives=ge)}function nf(e,t,n=qt){Se(e)&&(e=Ns(e));for(const r in e){const i=e[r];let s;tt(i)?"default"in i?s=xi(i.from||r,i.default,!0):s=xi(i.from||r):s=xi(i),yt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function sa(e,t,n){Yt(Se(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Tl(e,t,n,r){const i=r.includes(".")?_l(n,r):()=>n[r];if(at(e)){const s=t[e];Ee(s)&&wi(i,s)}else if(Ee(e))wi(i,e.bind(n));else if(tt(e))if(Se(e))e.forEach(s=>Tl(s,t,n,r));else{const s=Ee(e.handler)?e.handler.bind(n):t[e.handler];Ee(s)&&wi(i,s,e)}}function Eo(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,l=s.get(t);let c;return l?c=l:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(u=>Ii(c,u,o,!0)),Ii(c,t,o)),tt(t)&&s.set(t,c),c}function Ii(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Ii(e,s,n,!0),i&&i.forEach(o=>Ii(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const l=rf[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const rf={data:oa,props:aa,emits:aa,methods:Or,computed:Or,beforeCreate:_t,created:_t,beforeMount:_t,mounted:_t,beforeUpdate:_t,updated:_t,beforeDestroy:_t,beforeUnmount:_t,destroyed:_t,unmounted:_t,activated:_t,deactivated:_t,errorCaptured:_t,serverPrefetch:_t,components:Or,directives:Or,watch:of,provide:oa,inject:sf};function oa(e,t){return t?e?function(){return ct(Ee(e)?e.call(this,this):e,Ee(t)?t.call(this,this):t)}:t:e}function sf(e,t){return Or(Ns(e),Ns(t))}function Ns(e){if(Se(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function _t(e,t){return e?[...new Set([].concat(e,t))]:t}function Or(e,t){return e?ct(Object.create(null),e,t):t}function aa(e,t){return e?Se(e)&&Se(t)?[...new Set([...e,...t])]:ct(Object.create(null),ia(e),ia(t??{})):t}function of(e,t){if(!e)return t;if(!t)return e;const n=ct(Object.create(null),e);for(const r in t)n[r]=_t(e[r],t[r]);return n}function Ol(){return{app:null,config:{isNativeTag:$c,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let af=0;function lf(e,t){return function(r,i=null){Ee(r)||(r=ct({},r)),i!=null&&!tt(i)&&(i=null);const s=Ol(),o=new Set;let l=!1;const c=s.app={_uid:af++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:$f,get config(){return s.config},set config(u){},use(u,...d){return o.has(u)||(u&&Ee(u.install)?(o.add(u),u.install(c,...d)):Ee(u)&&(o.add(u),u(c,...d))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,d){return d?(s.components[u]=d,c):s.components[u]},directive(u,d){return d?(s.directives[u]=d,c):s.directives[u]},mount(u,d,w){if(!l){const x=et(r,i);return x.appContext=s,d&&t?t(x,u):e(x,u,w),l=!0,c._container=u,u.__vue_app__=c,Zi(x.component)||x.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return s.provides[u]=d,c},runWithContext(u){Fi=c;try{return u()}finally{Fi=null}}};return c}}let Fi=null;function cf(e,t){if(ht){let n=ht.provides;const r=ht.parent&&ht.parent.provides;r===n&&(n=ht.provides=Object.create(r)),n[e]=t}}function xi(e,t,n=!1){const r=ht||mt;if(r||Fi){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Fi._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Ee(t)?t.call(r&&r.proxy):t}}function uf(e,t,n,r=!1){const i={},s={};Pi(s,Qi,1),e.propsDefaults=Object.create(null),El(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:_u(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function ff(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,l=Re(i),[c]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let w=0;w<d.length;w++){let x=d[w];if(zi(e.emitsOptions,x))continue;const S=t[x];if(c)if(Le(s,x))S!==s[x]&&(s[x]=S,u=!0);else{const $=pr(x);i[$]=Is(c,l,$,S,e,!1)}else S!==s[x]&&(s[x]=S,u=!0)}}}else{El(e,t,i,s)&&(u=!0);let d;for(const w in l)(!t||!Le(t,w)&&((d=vr(w))===w||!Le(t,d)))&&(c?n&&(n[w]!==void 0||n[d]!==void 0)&&(i[w]=Is(c,l,w,void 0,e,!0)):delete i[w]);if(s!==l)for(const w in s)(!t||!Le(t,w))&&(delete s[w],u=!0)}u&&fn(e,"set","$attrs")}function El(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,l;if(t)for(let c in t){if(_i(c))continue;const u=t[c];let d;i&&Le(i,d=pr(c))?!s||!s.includes(d)?n[d]=u:(l||(l={}))[d]=u:zi(e.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(s){const c=Re(n),u=l||Ge;for(let d=0;d<s.length;d++){const w=s[d];n[w]=Is(i,c,w,u[w],e,!Le(u,w))}}return o}function Is(e,t,n,r,i,s){const o=e[n];if(o!=null){const l=Le(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Ee(c)){const{propsDefaults:u}=i;n in u?r=u[n]:(mr(i),r=u[n]=c.call(null,t),Un())}else r=c}o[0]&&(s&&!l?r=!1:o[1]&&(r===""||r===vr(n))&&(r=!0))}return r}function Al(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},l=[];let c=!1;if(!Ee(e)){const d=w=>{c=!0;const[x,S]=Al(w,t,!0);ct(o,x),S&&l.push(...S)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!c)return tt(e)&&r.set(e,sr),sr;if(Se(s))for(let d=0;d<s.length;d++){const w=pr(s[d]);la(w)&&(o[w]=Ge)}else if(s)for(const d in s){const w=pr(d);if(la(w)){const x=s[d],S=o[w]=Se(x)||Ee(x)?{type:x}:ct({},x);if(S){const $=fa(Boolean,S.type),O=fa(String,S.type);S[0]=$>-1,S[1]=O<0||$<O,($>-1||Le(S,"default"))&&l.push(w)}}}const u=[o,l];return tt(e)&&r.set(e,u),u}function la(e){return e[0]!=="$"}function ca(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function ua(e,t){return ca(e)===ca(t)}function fa(e,t){return Se(t)?t.findIndex(n=>ua(n,e)):Ee(t)&&ua(t,e)?0:-1}const Pl=e=>e[0]==="_"||e==="$stable",Ao=e=>Se(e)?e.map(Xt):[Xt(e)],hf=(e,t,n)=>{if(t._n)return t;const r=Kt((...i)=>Ao(t(...i)),n);return r._c=!1,r},$l=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Pl(i))continue;const s=e[i];if(Ee(s))t[i]=hf(i,s,r);else if(s!=null){const o=Ao(s);t[i]=()=>o}}},Nl=(e,t)=>{const n=Ao(t);e.slots.default=()=>n},df=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Re(t),Pi(t,"_",n)):$l(t,e.slots={})}else e.slots={},t&&Nl(e,t);Pi(e.slots,Qi,1)},pf=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=Ge;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(ct(i,t),!n&&l===1&&delete i._):(s=!t.$stable,$l(t,i)),o=t}else t&&(Nl(e,t),o={default:1});if(s)for(const l in i)!Pl(l)&&!(l in o)&&delete i[l]};function Fs(e,t,n,r,i=!1){if(Se(e)){e.forEach((x,S)=>Fs(x,t&&(Se(t)?t[S]:t),n,r,i));return}if(ur(r)&&!i)return;const s=r.shapeFlag&4?Zi(r.component)||r.component.proxy:r.el,o=i?null:s,{i:l,r:c}=e,u=t&&t.r,d=l.refs===Ge?l.refs={}:l.refs,w=l.setupState;if(u!=null&&u!==c&&(at(u)?(d[u]=null,Le(w,u)&&(w[u]=null)):yt(u)&&(u.value=null)),Ee(c))xn(c,l,12,[o,d]);else{const x=at(c),S=yt(c);if(x||S){const $=()=>{if(e.f){const O=x?Le(w,c)?w[c]:d[c]:c.value;i?Se(O)&&yo(O,s):Se(O)?O.includes(s)||O.push(s):x?(d[c]=[s],Le(w,c)&&(w[c]=d[c])):(c.value=[s],e.k&&(d[e.k]=c.value))}else x?(d[c]=o,Le(w,c)&&(w[c]=o)):S&&(c.value=o,e.k&&(d[e.k]=o))};o?($.id=-1,ft($,n)):$()}}}const ft=Lu;function yf(e){return mf(e)}function mf(e,t){const n=ks();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:l,createComment:c,setText:u,setElementText:d,parentNode:w,nextSibling:x,setScopeId:S=qt,insertStaticContent:$}=e,O=(a,f,p,y=null,g=null,_=null,C=!1,E=null,F=!!f.dynamicChildren)=>{if(a===f)return;a&&!er(a,f)&&(y=R(a),Be(a,g,_,!0),a=null),f.patchFlag===-2&&(F=!1,f.dynamicChildren=null);const{type:M,ref:J,shapeFlag:H}=f;switch(M){case Xi:L(a,f,p,y);break;case Dn:j(a,f,p,y);break;case fs:a==null&&A(f,p,y,C);break;case st:B(a,f,p,y,g,_,C,E,F);break;default:H&1?U(a,f,p,y,g,_,C,E,F):H&6?ge(a,f,p,y,g,_,C,E,F):(H&64||H&128)&&M.process(a,f,p,y,g,_,C,E,F,Y)}J!=null&&g&&Fs(J,a&&a.ref,_,f||a,!f)},L=(a,f,p,y)=>{if(a==null)r(f.el=l(f.children),p,y);else{const g=f.el=a.el;f.children!==a.children&&u(g,f.children)}},j=(a,f,p,y)=>{a==null?r(f.el=c(f.children||""),p,y):f.el=a.el},A=(a,f,p,y)=>{[a.el,a.anchor]=$(a.children,f,p,y,a.el,a.anchor)},P=({el:a,anchor:f},p,y)=>{let g;for(;a&&a!==f;)g=x(a),r(a,p,y),a=g;r(f,p,y)},I=({el:a,anchor:f})=>{let p;for(;a&&a!==f;)p=x(a),i(a),a=p;i(f)},U=(a,f,p,y,g,_,C,E,F)=>{C=C||f.type==="svg",a==null?W(f,p,y,g,_,C,E,F):D(a,f,g,_,C,E,F)},W=(a,f,p,y,g,_,C,E)=>{let F,M;const{type:J,props:H,shapeFlag:G,transition:Z,dirs:ie}=a;if(F=a.el=o(a.type,_,H&&H.is,H),G&8?d(F,a.children):G&16&&re(a.children,F,null,y,g,_&&J!=="foreignObject",C,E),ie&&$n(a,null,y,"created"),V(F,a,a.scopeId,C,y),H){for(const ye in H)ye!=="value"&&!_i(ye)&&s(F,ye,null,H[ye],_,a.children,y,g,Fe);"value"in H&&s(F,"value",null,H.value),(M=H.onVnodeBeforeMount)&&It(M,y,a)}ie&&$n(a,null,y,"beforeMount");const fe=(!g||g&&!g.pendingBranch)&&Z&&!Z.persisted;fe&&Z.beforeEnter(F),r(F,f,p),((M=H&&H.onVnodeMounted)||fe||ie)&&ft(()=>{M&&It(M,y,a),fe&&Z.enter(F),ie&&$n(a,null,y,"mounted")},g)},V=(a,f,p,y,g)=>{if(p&&S(a,p),y)for(let _=0;_<y.length;_++)S(a,y[_]);if(g){let _=g.subTree;if(f===_){const C=g.vnode;V(a,C,C.scopeId,C.slotScopeIds,g.parent)}}},re=(a,f,p,y,g,_,C,E,F=0)=>{for(let M=F;M<a.length;M++){const J=a[M]=E?gn(a[M]):Xt(a[M]);O(null,J,f,p,y,g,_,C,E)}},D=(a,f,p,y,g,_,C)=>{const E=f.el=a.el;let{patchFlag:F,dynamicChildren:M,dirs:J}=f;F|=a.patchFlag&16;const H=a.props||Ge,G=f.props||Ge;let Z;p&&Nn(p,!1),(Z=G.onVnodeBeforeUpdate)&&It(Z,p,f,a),J&&$n(f,a,p,"beforeUpdate"),p&&Nn(p,!0);const ie=g&&f.type!=="foreignObject";if(M?b(a.dynamicChildren,M,E,p,y,ie,_):C||oe(a,f,E,null,p,y,ie,_,!1),F>0){if(F&16)K(E,f,H,G,p,y,g);else if(F&2&&H.class!==G.class&&s(E,"class",null,G.class,g),F&4&&s(E,"style",H.style,G.style,g),F&8){const fe=f.dynamicProps;for(let ye=0;ye<fe.length;ye++){const te=fe[ye],m=H[te],h=G[te];(h!==m||te==="value")&&s(E,te,m,h,g,a.children,p,y,Fe)}}F&1&&a.children!==f.children&&d(E,f.children)}else!C&&M==null&&K(E,f,H,G,p,y,g);((Z=G.onVnodeUpdated)||J)&&ft(()=>{Z&&It(Z,p,f,a),J&&$n(f,a,p,"updated")},y)},b=(a,f,p,y,g,_,C)=>{for(let E=0;E<f.length;E++){const F=a[E],M=f[E],J=F.el&&(F.type===st||!er(F,M)||F.shapeFlag&70)?w(F.el):p;O(F,M,J,null,y,g,_,C,!0)}},K=(a,f,p,y,g,_,C)=>{if(p!==y){if(p!==Ge)for(const E in p)!_i(E)&&!(E in y)&&s(a,E,p[E],null,C,f.children,g,_,Fe);for(const E in y){if(_i(E))continue;const F=y[E],M=p[E];F!==M&&E!=="value"&&s(a,E,M,F,C,f.children,g,_,Fe)}"value"in y&&s(a,"value",p.value,y.value)}},B=(a,f,p,y,g,_,C,E,F)=>{const M=f.el=a?a.el:l(""),J=f.anchor=a?a.anchor:l("");let{patchFlag:H,dynamicChildren:G,slotScopeIds:Z}=f;Z&&(E=E?E.concat(Z):Z),a==null?(r(M,p,y),r(J,p,y),re(f.children,p,J,g,_,C,E,F)):H>0&&H&64&&G&&a.dynamicChildren?(b(a.dynamicChildren,G,p,g,_,C,E),(f.key!=null||g&&f===g.subTree)&&Il(a,f,!0)):oe(a,f,p,J,g,_,C,E,F)},ge=(a,f,p,y,g,_,C,E,F)=>{f.slotScopeIds=E,a==null?f.shapeFlag&512?g.ctx.activate(f,p,y,C,F):ae(f,p,y,g,_,C,F):Ae(a,f,F)},ae=(a,f,p,y,g,_,C)=>{const E=a.component=kf(a,y,g);if(xl(a)&&(E.ctx.renderer=Y),Sf(E),E.asyncDep){if(g&&g.registerDep(E,me),!a.el){const F=E.subTree=et(Dn);j(null,F,f,p)}return}me(E,a,f,p,g,_,C)},Ae=(a,f,p)=>{const y=f.component=a.component;if(Fu(a,f,p))if(y.asyncDep&&!y.asyncResolved){ue(y,f,p);return}else y.next=f,Eu(y.update),y.update();else f.el=a.el,y.vnode=f},me=(a,f,p,y,g,_,C)=>{const E=()=>{if(a.isMounted){let{next:J,bu:H,u:G,parent:Z,vnode:ie}=a,fe=J,ye;Nn(a,!1),J?(J.el=ie.el,ue(a,J,C)):J=ie,H&&ar(H),(ye=J.props&&J.props.onVnodeBeforeUpdate)&&It(ye,Z,J,ie),Nn(a,!0);const te=as(a),m=a.subTree;a.subTree=te,O(m,te,w(m.el),R(m),a,g,_),J.el=te.el,fe===null&&Mu(a,te.el),G&&ft(G,g),(ye=J.props&&J.props.onVnodeUpdated)&&ft(()=>It(ye,Z,J,ie),g)}else{let J;const{el:H,props:G}=f,{bm:Z,m:ie,parent:fe}=a,ye=ur(f);if(Nn(a,!1),Z&&ar(Z),!ye&&(J=G&&G.onVnodeBeforeMount)&&It(J,fe,f),Nn(a,!0),H&&k){const te=()=>{a.subTree=as(a),k(H,a.subTree,a,g,null)};ye?f.type.__asyncLoader().then(()=>!a.isUnmounted&&te()):te()}else{const te=a.subTree=as(a);O(null,te,p,y,a,g,_),f.el=te.el}if(ie&&ft(ie,g),!ye&&(J=G&&G.onVnodeMounted)){const te=f;ft(()=>It(J,fe,te),g)}(f.shapeFlag&256||fe&&ur(fe.vnode)&&fe.vnode.shapeFlag&256)&&a.a&&ft(a.a,g),a.isMounted=!0,f=p=y=null}},F=a.effect=new _o(E,()=>To(M),a.scope),M=a.update=()=>F.run();M.id=a.uid,Nn(a,!0),M()},ue=(a,f,p)=>{f.component=a;const y=a.vnode.props;a.vnode=f,a.next=null,ff(a,f.props,y,p),pf(a,f.children,p),br(),na(),_r()},oe=(a,f,p,y,g,_,C,E,F=!1)=>{const M=a&&a.children,J=a?a.shapeFlag:0,H=f.children,{patchFlag:G,shapeFlag:Z}=f;if(G>0){if(G&128){Ke(M,H,p,y,g,_,C,E,F);return}else if(G&256){Ue(M,H,p,y,g,_,C,E,F);return}}Z&8?(J&16&&Fe(M,g,_),H!==M&&d(p,H)):J&16?Z&16?Ke(M,H,p,y,g,_,C,E,F):Fe(M,g,_,!0):(J&8&&d(p,""),Z&16&&re(H,p,y,g,_,C,E,F))},Ue=(a,f,p,y,g,_,C,E,F)=>{a=a||sr,f=f||sr;const M=a.length,J=f.length,H=Math.min(M,J);let G;for(G=0;G<H;G++){const Z=f[G]=F?gn(f[G]):Xt(f[G]);O(a[G],Z,p,null,g,_,C,E,F)}M>J?Fe(a,g,_,!0,!1,H):re(f,p,y,g,_,C,E,F,H)},Ke=(a,f,p,y,g,_,C,E,F)=>{let M=0;const J=f.length;let H=a.length-1,G=J-1;for(;M<=H&&M<=G;){const Z=a[M],ie=f[M]=F?gn(f[M]):Xt(f[M]);if(er(Z,ie))O(Z,ie,p,null,g,_,C,E,F);else break;M++}for(;M<=H&&M<=G;){const Z=a[H],ie=f[G]=F?gn(f[G]):Xt(f[G]);if(er(Z,ie))O(Z,ie,p,null,g,_,C,E,F);else break;H--,G--}if(M>H){if(M<=G){const Z=G+1,ie=Z<J?f[Z].el:y;for(;M<=G;)O(null,f[M]=F?gn(f[M]):Xt(f[M]),p,ie,g,_,C,E,F),M++}}else if(M>G)for(;M<=H;)Be(a[M],g,_,!0),M++;else{const Z=M,ie=M,fe=new Map;for(M=ie;M<=G;M++){const Q=f[M]=F?gn(f[M]):Xt(f[M]);Q.key!=null&&fe.set(Q.key,M)}let ye,te=0;const m=G-ie+1;let h=!1,v=0;const T=new Array(m);for(M=0;M<m;M++)T[M]=0;for(M=Z;M<=H;M++){const Q=a[M];if(te>=m){Be(Q,g,_,!0);continue}let ee;if(Q.key!=null)ee=fe.get(Q.key);else for(ye=ie;ye<=G;ye++)if(T[ye-ie]===0&&er(Q,f[ye])){ee=ye;break}ee===void 0?Be(Q,g,_,!0):(T[ee-ie]=M+1,ee>=v?v=ee:h=!0,O(Q,f[ee],p,null,g,_,C,E,F),te++)}const N=h?gf(T):sr;for(ye=N.length-1,M=m-1;M>=0;M--){const Q=ie+M,ee=f[Q],de=Q+1<J?f[Q+1].el:y;T[M]===0?O(null,ee,p,de,g,_,C,E,F):h&&(ye<0||M!==N[ye]?Qe(ee,p,de,2):ye--)}}},Qe=(a,f,p,y,g=null)=>{const{el:_,type:C,transition:E,children:F,shapeFlag:M}=a;if(M&6){Qe(a.component.subTree,f,p,y);return}if(M&128){a.suspense.move(f,p,y);return}if(M&64){C.move(a,f,p,Y);return}if(C===st){r(_,f,p);for(let H=0;H<F.length;H++)Qe(F[H],f,p,y);r(a.anchor,f,p);return}if(C===fs){P(a,f,p);return}if(y!==2&&M&1&&E)if(y===0)E.beforeEnter(_),r(_,f,p),ft(()=>E.enter(_),g);else{const{leave:H,delayLeave:G,afterLeave:Z}=E,ie=()=>r(_,f,p),fe=()=>{H(_,()=>{ie(),Z&&Z()})};G?G(_,ie,fe):fe()}else r(_,f,p)},Be=(a,f,p,y=!1,g=!1)=>{const{type:_,props:C,ref:E,children:F,dynamicChildren:M,shapeFlag:J,patchFlag:H,dirs:G}=a;if(E!=null&&Fs(E,null,p,a,!0),J&256){f.ctx.deactivate(a);return}const Z=J&1&&G,ie=!ur(a);let fe;if(ie&&(fe=C&&C.onVnodeBeforeUnmount)&&It(fe,f,a),J&6)ce(a.component,p,y);else{if(J&128){a.suspense.unmount(p,y);return}Z&&$n(a,null,f,"beforeUnmount"),J&64?a.type.remove(a,f,p,g,Y,y):M&&(_!==st||H>0&&H&64)?Fe(M,f,p,!1,!0):(_===st&&H&384||!g&&J&16)&&Fe(F,f,p),y&&kt(a)}(ie&&(fe=C&&C.onVnodeUnmounted)||Z)&&ft(()=>{fe&&It(fe,f,a),Z&&$n(a,null,f,"unmounted")},p)},kt=a=>{const{type:f,el:p,anchor:y,transition:g}=a;if(f===st){pe(p,y);return}if(f===fs){I(a);return}const _=()=>{i(p),g&&!g.persisted&&g.afterLeave&&g.afterLeave()};if(a.shapeFlag&1&&g&&!g.persisted){const{leave:C,delayLeave:E}=g,F=()=>C(p,_);E?E(a.el,_,F):F()}else _()},pe=(a,f)=>{let p;for(;a!==f;)p=x(a),i(a),a=p;i(f)},ce=(a,f,p)=>{const{bum:y,scope:g,update:_,subTree:C,um:E}=a;y&&ar(y),g.stop(),_&&(_.active=!1,Be(C,a,f,p)),E&&ft(E,f),ft(()=>{a.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&a.asyncDep&&!a.asyncResolved&&a.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},Fe=(a,f,p,y=!1,g=!1,_=0)=>{for(let C=_;C<a.length;C++)Be(a[C],f,p,y,g)},R=a=>a.shapeFlag&6?R(a.component.subTree):a.shapeFlag&128?a.suspense.next():x(a.anchor||a.el),z=(a,f,p)=>{a==null?f._vnode&&Be(f._vnode,null,null,!0):O(f._vnode||null,a,f,null,null,null,p),na(),pl(),f._vnode=a},Y={p:O,um:Be,m:Qe,r:kt,mt:ae,mc:re,pc:oe,pbc:b,n:R,o:e};let X,k;return t&&([X,k]=t(Y)),{render:z,hydrate:X,createApp:lf(z,X)}}function Nn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Il(e,t,n=!1){const r=e.children,i=t.children;if(Se(r)&&Se(i))for(let s=0;s<r.length;s++){const o=r[s];let l=i[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[s]=gn(i[s]),l.el=o.el),n||Il(o,l)),l.type===Xi&&(l.el=o.el)}}function gf(e){const t=e.slice(),n=[0];let r,i,s,o,l;const c=e.length;for(r=0;r<c;r++){const u=e[r];if(u!==0){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)l=s+o>>1,e[n[l]]<u?s=l+1:o=l;u<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}const vf=e=>e.__isTeleport,st=Symbol.for("v-fgt"),Xi=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),fs=Symbol.for("v-stc"),Nr=[];let Ut=null;function we(e=!1){Nr.push(Ut=e?null:[])}function bf(){Nr.pop(),Ut=Nr[Nr.length-1]||null}let Hr=1;function ha(e){Hr+=e}function Fl(e){return e.dynamicChildren=Hr>0?Ut||sr:null,bf(),Hr>0&&Ut&&Ut.push(e),e}function Oe(e,t,n,r,i,s){return Fl(q(e,t,n,r,i,s,!0))}function Zt(e,t,n,r,i){return Fl(et(e,t,n,r,i,!0))}function Po(e){return e?e.__v_isVNode===!0:!1}function er(e,t){return e.type===t.type&&e.key===t.key}const Qi="__vInternal",Ml=({key:e})=>e??null,Ci=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?at(e)||yt(e)||Ee(e)?{i:mt,r:e,k:t,f:!!n}:e:null);function q(e,t=null,n=null,r=0,i=null,s=e===st?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ml(t),ref:t&&Ci(t),scopeId:gl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:mt};return l?($o(c,n),s&128&&e.normalize(c)):n&&(c.shapeFlag|=at(n)?8:16),Hr>0&&!o&&Ut&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Ut.push(c),c}const et=_f;function _f(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===Gu)&&(e=Dn),Po(e)){const l=qn(e,t,!0);return n&&$o(l,n),Hr>0&&!s&&Ut&&(l.shapeFlag&6?Ut[Ut.indexOf(e)]=l:Ut.push(l)),l.patchFlag|=-2,l}if(Ef(e)&&(e=e.__vccOpts),t){t=wf(t);let{class:l,style:c}=t;l&&!at(l)&&(t.class=At(l)),tt(c)&&(al(c)&&!Se(c)&&(c=ct({},c)),t.style=vo(c))}const o=at(e)?1:vl(e)?128:vf(e)?64:tt(e)?4:Ee(e)?2:0;return q(e,t,n,r,i,o,s,!0)}function wf(e){return e?al(e)||Qi in e?ct({},e):e:null}function qn(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=e,l=t?xf(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Ml(l),ref:t&&t.ref?n&&i?Se(i)?i.concat(Ci(t)):[i,Ci(t)]:Ci(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==st?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qn(e.ssContent),ssFallback:e.ssFallback&&qn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Jt(e=" ",t=0){return et(Xi,null,e,t)}function rt(e="",t=!1){return t?(we(),Zt(Dn,null,e)):et(Dn,null,e)}function Xt(e){return e==null||typeof e=="boolean"?et(Dn):Se(e)?et(st,null,e.slice()):typeof e=="object"?gn(e):et(Xi,null,String(e))}function gn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qn(e)}function $o(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Se(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),$o(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Qi in t)?t._ctx=mt:i===3&&mt&&(mt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ee(t)?(t={default:t,_ctx:mt},n=32):(t=String(t),r&64?(n=16,t=[Jt(t)]):n=8);e.children=t,e.shapeFlag|=n}function xf(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=At([t.class,r.class]));else if(i==="style")t.style=vo([t.style,r.style]);else if(qi(i)){const s=t[i],o=r[i];o&&s!==o&&!(Se(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function It(e,t,n,r=null){Yt(e,t,7,[n,r])}const Cf=Ol();let Df=0;function kf(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Cf,s={uid:Df++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new qc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Al(r,i),emitsOptions:ml(r,i),emit:null,emitted:null,propsDefaults:Ge,inheritAttrs:r.inheritAttrs,ctx:Ge,data:Ge,props:Ge,attrs:Ge,slots:Ge,refs:Ge,setupState:Ge,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=$u.bind(null,s),e.ce&&e.ce(s),s}let ht=null;const No=()=>ht||mt;let Io,Xn,da="__VUE_INSTANCE_SETTERS__";(Xn=ks()[da])||(Xn=ks()[da]=[]),Xn.push(e=>ht=e),Io=e=>{Xn.length>1?Xn.forEach(t=>t(e)):Xn[0](e)};const mr=e=>{Io(e),e.scope.on()},Un=()=>{ht&&ht.scope.off(),Io(null)};function Ll(e){return e.vnode.shapeFlag&4}let qr=!1;function Sf(e,t=!1){qr=t;const{props:n,children:r}=e.vnode,i=Ll(e);uf(e,n,i,t),df(e,r);const s=i?Tf(e,t):void 0;return qr=!1,s}function Tf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ll(new Proxy(e.ctx,Qu));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?Bl(e):null;mr(e),br();const s=xn(r,e,0,[e.props,i]);if(_r(),Un(),Ha(s)){if(s.then(Un,Un),t)return s.then(o=>{pa(e,o,t)}).catch(o=>{Wi(o,e,0)});e.asyncDep=s}else pa(e,s,t)}else jl(e,t)}function pa(e,t,n){Ee(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:tt(t)&&(e.setupState=fl(t)),jl(e,n)}let ya;function jl(e,t,n){const r=e.type;if(!e.render){if(!t&&ya&&!r.render){const i=r.template||Eo(e).template;if(i){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:l,compilerOptions:c}=r,u=ct(ct({isCustomElement:s,delimiters:l},o),c);r.render=ya(i,u)}}e.render=r.render||qt}mr(e),br(),tf(e),_r(),Un()}function Of(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Dt(e,"get","$attrs"),t[n]}}))}function Bl(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Of(e)},slots:e.slots,emit:e.emit,expose:t}}function Zi(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(fl(ll(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in $r)return $r[n](e)},has(t,n){return n in t||n in $r}}))}function ma(e,t=!0){return Ee(e)?e.displayName||e.name:e.name||t&&e.__name}function Ef(e){return Ee(e)&&"__vccOpts"in e}const Rl=(e,t)=>ku(e,t,qr),Af=Symbol.for("v-scx"),Pf=()=>xi(Af),$f="3.3.4",Nf="http://www.w3.org/2000/svg",Ln=typeof document<"u"?document:null,ga=Ln&&Ln.createElement("template"),If={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Ln.createElementNS(Nf,e):Ln.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Ln.createTextNode(e),createComment:e=>Ln.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ln.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{ga.innerHTML=r?`<svg>${e}</svg>`:e;const l=ga.content;if(r){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Ff(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Mf(e,t,n){const r=e.style,i=at(n);if(n&&!i){if(t&&!at(t))for(const s in t)n[s]==null&&Ms(r,s,"");for(const s in n)Ms(r,s,n[s])}else{const s=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const va=/\s*!important$/;function Ms(e,t,n){if(Se(n))n.forEach(r=>Ms(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Lf(e,t);va.test(n)?e.setProperty(vr(r),n.replace(va,""),"important"):e[r]=n}}const ba=["Webkit","Moz","ms"],hs={};function Lf(e,t){const n=hs[t];if(n)return n;let r=pr(t);if(r!=="filter"&&r in e)return hs[t]=r;r=Ja(r);for(let i=0;i<ba.length;i++){const s=ba[i]+r;if(s in e)return hs[t]=s}return t}const _a="http://www.w3.org/1999/xlink";function jf(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(_a,t.slice(6,t.length)):e.setAttributeNS(_a,t,n);else{const s=Hc(t);n==null||s&&!Wa(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function Bf(e,t,n,r,i,s,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,i,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const u=l==="OPTION"?e.getAttribute("value"):e.value,d=n??"";u!==d&&(e.value=d),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Wa(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function tr(e,t,n,r){e.addEventListener(t,n,r)}function Rf(e,t,n,r){e.removeEventListener(t,n,r)}function Kf(e,t,n,r,i=null){const s=e._vei||(e._vei={}),o=s[t];if(r&&o)o.value=r;else{const[l,c]=Uf(t);if(r){const u=s[t]=qf(r,i);tr(e,l,u,c)}else o&&(Rf(e,l,o,c),s[t]=void 0)}}const wa=/(?:Once|Passive|Capture)$/;function Uf(e){let t;if(wa.test(e)){t={};let r;for(;r=e.match(wa);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vr(e.slice(2)),t]}let ds=0;const Vf=Promise.resolve(),Hf=()=>ds||(Vf.then(()=>ds=0),ds=Date.now());function qf(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Yt(Yf(r,n.value),t,5,[r])};return n.value=e,n.attached=Hf(),n}function Yf(e,t){if(Se(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const xa=/^on[a-z]/,Jf=(e,t,n,r,i=!1,s,o,l,c)=>{t==="class"?Ff(e,r,i):t==="style"?Mf(e,n,r):qi(t)?po(t)||Kf(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Wf(e,t,r,i))?Bf(e,t,r,s,o,l,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),jf(e,t,r,i))};function Wf(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&xa.test(t)&&Ee(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||xa.test(t)&&at(n)?!1:t in e}const Ca=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Se(t)?n=>ar(t,n):t};function zf(e){e.target.composing=!0}function Da(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const In={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=Ca(i);const s=r||i.props&&i.props.type==="number";tr(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n&&(l=l.trim()),s&&(l=Ds(l)),e._assign(l)}),n&&tr(e,"change",()=>{e.value=e.value.trim()}),t||(tr(e,"compositionstart",zf),tr(e,"compositionend",Da),tr(e,"change",Da))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},s){if(e._assign=Ca(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&Ds(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},Gf=["ctrl","shift","alt","meta"],Xf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Gf.some(n=>e[`${n}Key`]&&!t.includes(n))},Wt=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const s=Xf[t[i]];if(s&&s(n,t))return}return e(n,...r)},Qf=ct({patchProp:Jf},If);let ka;function Zf(){return ka||(ka=yf(Qf))}const eh=(...e)=>{const t=Zf().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=th(r);if(!i)return;const s=t._component;!Ee(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function th(e){return at(e)?document.querySelector(e):e}const nh={key:0,class:"button-loader"},rh=q("i",{class:"font-icon animate-spin text-3xl block"},"rotate_right",-1),ih=[rh],Vt=En({__name:"Button",props:{icon:{default:""},loading:{type:Boolean,default:!1},theme:{default:"info"}},setup(e){const t=e,n=Zu();return(r,i)=>(we(),Oe("button",{class:At(["button",[`button--${t.theme}`,t.loading?"pointer-events-none":"",t.icon?"px-3 py-1.5 ":"px-3 py-2.5"]])},[t.loading?(we(),Oe("div",nh,ih)):rt("",!0),t.icon?(we(),Oe("i",{key:1,class:At([{"opacity-0":t.loading,"mr-2":ke(n).default},"font-icon"])},qe(t.icon),3)):rt("",!0),ke(n).default?(we(),Oe("span",{key:2,class:At({"opacity-0":t.loading})},[Xu(r.$slots,"default")],2)):rt("",!0)],2))}});const sh=Wn(!1);var Et=(e=>(e.FilterSaved=" ",e.FilterSaveError="   ",e.FilterCleared="  (  )",e.ParsingCanceled="  ",e.ParsingStarted="  ",e.TabOpenError="   ",e.ProfileCreated="   ",e.ProfileLinkCopied="   ",e.ProfileDeleted="  ",e.InfoCopied="   ",e.ProductNameCopied="    ",e.DBExportError="   ",e.DBExportSuccess="   ",e.DBImportError="   ",e.DBImportSuccess="   ",e.DBDropSuccess="   ",e.DBDropError="    ",e))(Et||{}),Mt=(e=>(e.ReviewsFilter="reviews_filter",e.ProfileInfoList="profile_info_list",e.ProfileSavedList="profile_saved_list",e.Settings="settings",e))(Mt||{});const bn=Wn(Mt.ReviewsFilter),Sa=e=>{bn.value=e},oh={class:"mb-8 border-b border-gray-500 sticky top-0 z-[100] bg-gray-700"},ah={class:"centered py-3 flex flex-wrap items-center gap-3"},lh=En({__name:"Header",setup(e){const t=[{value:Mt.ReviewsFilter,text:" ",icon:"tune"},{value:Mt.ProfileInfoList,text:" ",icon:"view_list"},{value:Mt.ProfileSavedList,text:" ",icon:"people"}];return(n,r)=>(we(),Oe("header",oh,[q("div",ah,[(we(),Oe(st,null,Kn(t,i=>et(Vt,{key:i.value,icon:i.icon,class:At([ke(bn)===i.value?"ring-2 ring-white":""]),onClick:s=>ke(Sa)(i.value)},{default:Kt(()=>[Jt(qe(i.text),1)]),_:2},1032,["icon","class","onClick"])),64)),et(Vt,{theme:"info",type:"button",icon:"settings",class:At(["ml-auto",[ke(bn)===ke(Mt).Settings?"ring-2 ring-white":""]]),onClick:r[0]||(r[0]=i=>ke(Sa)(ke(Mt).Settings))},null,8,["class"])]),q("div",{class:At(["h-1.5 progress-loader transition-all",{"opacity-0":!ke(sh)}])},null,2)]))}});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kl={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ch,function(){return function(){var n={d:function(k,a){for(var f in a)n.o(a,f)&&!n.o(k,f)&&Object.defineProperty(k,f,{enumerable:!0,get:a[f]})},o:function(k,a){return Object.prototype.hasOwnProperty.call(k,a)}},r={};n.d(r,{default:function(){return Y}});var i={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},s={classes:"",inline:!1,locale:{days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:i.days,minView:i.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function o(k){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof k=="string"?a.querySelector(k):k}function l(){let{tagName:k="div",className:a="",innerHtml:f="",id:p="",attrs:y={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=document.createElement(k);return a&&g.classList.add(...a.split(" ")),p&&(g.id=p),f&&(g.innerHTML=f),y&&c(g,y),g}function c(k,a){for(let[f,p]of Object.entries(a))p!==void 0&&k.setAttribute(f,p);return k}function u(k){return new Date(k.getFullYear(),k.getMonth()+1,0).getDate()}function d(k){let a=k.getHours(),{hours:f,dayPeriod:p}=w(a);return{year:k.getFullYear(),month:k.getMonth(),fullMonth:k.getMonth()+1<10?"0"+(k.getMonth()+1):k.getMonth()+1,date:k.getDate(),fullDate:k.getDate()<10?"0"+k.getDate():k.getDate(),day:k.getDay(),hours:a,fullHours:x(a),hours12:f,dayPeriod:p,fullHours12:x(f),minutes:k.getMinutes(),fullMinutes:k.getMinutes()<10?"0"+k.getMinutes():k.getMinutes()}}function w(k){return{dayPeriod:k>11?"pm":"am",hours:k%12==0?12:k%12}}function x(k){return k<10?"0"+k:k}function S(k){let a=10*Math.floor(k.getFullYear()/10);return[a,a+9]}function $(){let k=[];for(var a=arguments.length,f=new Array(a),p=0;p<a;p++)f[p]=arguments[p];return f.forEach(y=>{if(typeof y=="object")for(let g in y)y[g]&&k.push(g);else y&&k.push(y)}),k.join(" ")}function O(k,a){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.days;if(!k||!a)return!1;let p=d(k),y=d(a);return{[i.days]:p.date===y.date&&p.month===y.month&&p.year===y.year,[i.months]:p.month===y.month&&p.year===y.year,[i.years]:p.year===y.year}[f]}function L(k,a,f){let p=A(k,!1).getTime(),y=A(a,!1).getTime();return f?p>=y:p>y}function j(k,a){return!L(k,a,!0)}function A(k){let a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],f=new Date(k.getTime());return typeof a!="boolean"||a||P(f),f}function P(k){return k.setHours(0,0,0,0),k}function I(k,a,f){k.length?k.forEach(p=>{p.addEventListener(a,f)}):k.addEventListener(a,f)}function U(k,a){return!(!k||k===document||k instanceof DocumentFragment)&&(k.matches(a)?k:U(k.parentNode,a))}function W(k,a,f){return k>f?f:k<a?a:k}function V(k){for(var a=arguments.length,f=new Array(a>1?a-1:0),p=1;p<a;p++)f[p-1]=arguments[p];return f.filter(y=>y).forEach(y=>{for(let[g,_]of Object.entries(y))if(_!==void 0&&_.toString()==="[object Object]"){let C=k[g]!==void 0?k[g].toString():void 0,E=_.toString(),F=Array.isArray(_)?[]:{};k[g]=k[g]?C!==E?F:k[g]:F,V(k[g],_)}else k[g]=_}),k}function re(k){let a=k;return k instanceof Date||(a=new Date(k)),isNaN(a.getTime())&&(console.log(`Unable to convert value "${k}" to Date object`),a=!1),a}function D(k){let a="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+a+")("+k+")($|<|"+a+")","g")}function b(k,a,f){return(a=function(p){var y=function(g,_){if(typeof g!="object"||g===null)return g;var C=g[Symbol.toPrimitive];if(C!==void 0){var E=C.call(g,_);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(p,"string");return typeof y=="symbol"?y:String(y)}(a))in k?Object.defineProperty(k,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):k[a]=f,k}class K{constructor(){let{type:a,date:f,dp:p,opts:y,body:g}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),b(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),b(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),b(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),b(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),b(this,"onChangeFocusDate",_=>{if(!_)return void(this.focused&&this.removeFocus());let C=O(_,this.date,this.type);C?this.focus():!C&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),b(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=a,this.singleType=this.type.slice(0,-1),this.date=f,this.dp=p,this.opts=y,this.body=g,this.customData=!1,this.init()}init(){let{range:a,onRenderCell:f}=this.opts;f&&(this.customData=f({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),a&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var a;let{year:f,month:p,date:y}=d(this.date),g=((a=this.customData)===null||a===void 0?void 0:a.attrs)||{};this.$cell=l({className:this._getClassName(),attrs:{"data-year":f,"data-month":p,"data-date":y,...g}})}_getClassName(){var a,f;let p=new Date,{selectOtherMonths:y,selectOtherYears:g}=this.opts,{minDate:_,maxDate:C}=this.dp,{day:E}=d(this.date),F=this._isOutOfMinMaxRange(),M=(a=this.customData)===null||a===void 0?void 0:a.disabled,J=$("air-datepicker-cell",`-${this.singleType}-`,{"-current-":O(p,this.date,this.type),"-min-date-":_&&O(_,this.date,this.type),"-max-date-":C&&O(C,this.date,this.type)}),H="";switch(this.type){case i.days:H=$({"-weekend-":this.dp.isWeekend(E),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!y||F||M});break;case i.months:H=$({"-disabled-":F||M});break;case i.years:H=$({"-other-decade-":this.isOtherDecade,"-disabled-":F||this.isOtherDecade&&!g||M})}return $(J,H,(f=this.customData)===null||f===void 0?void 0:f.classes)}_getHtml(){var a;let{year:f,month:p,date:y}=d(this.date),{showOtherMonths:g,showOtherYears:_}=this.opts;if((a=this.customData)!==null&&a!==void 0&&a.html)return this.customData.html;switch(this.type){case i.days:return!g&&this.isOtherMonth?"":y;case i.months:return this.dp.locale[this.opts.monthsField][p];case i.years:return!_&&this.isOtherDecade?"":f}}_isOutOfMinMaxRange(){let{minDate:a,maxDate:f}=this.dp,{type:p,date:y}=this,{month:g,year:_,date:C}=d(y),E=p===i.days,F=p===i.years,M=!!a&&new Date(_,F?a.getMonth():g,E?C:a.getDate()),J=!!f&&new Date(_,F?f.getMonth():g,E?C:f.getDate());return a&&f?j(M,a)||L(J,f):a?j(M,a):f?L(J,f):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:a,rangeDateTo:f}=this.dp,p=$({"-in-range-":a&&f&&(y=this.date,g=a,_=f,L(y,g)&&j(y,_)),"-range-from-":a&&O(this.date,a,this.type),"-range-to-":f&&O(this.date,f,this.type)});var y,g,_;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),p&&this.$cell.classList.add(...p.split(" "))}_handleSelectedStatus(){let a=this.dp._checkIfDateIsSelected(this.date,this.type);a?this.select():!a&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){O(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function B(k,a,f){return(a=function(p){var y=function(g,_){if(typeof g!="object"||g===null)return g;var C=g[Symbol.toPrimitive];if(C!==void 0){var E=C.call(g,_);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(p,"string");return typeof y=="symbol"?y:String(y)}(a))in k?Object.defineProperty(k,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):k[a]=f,k}let ge={[i.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${i.days}-"></div>`,[i.months]:`<div class="air-datepicker-body--cells -${i.months}-"></div>`,[i.years]:`<div class="air-datepicker-body--cells -${i.years}-"></div>`};const ae=".air-datepicker-cell";class Ae{constructor(a){let{dp:f,type:p,opts:y}=a;B(this,"handleClick",g=>{let _=g.target.closest(ae).adpCell;if(_.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let C=this.dp._checkIfDateIsSelected(_.date,_.type);C?this.dp._handleAlreadySelectedDates(C,_.date):this.dp.selectDate(_.date)}),B(this,"handleDayNameClick",g=>{let _=g.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(_),datepicker:this.dp})}),B(this,"onChangeCurrentView",g=>{g!==this.type?this.hide():(this.show(),this.render())}),B(this,"onMouseOverCell",g=>{let _=U(g.target,ae);this.dp.setFocusDate(!!_&&_.adpCell.date)}),B(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),B(this,"onClickBody",g=>{let{onClickDayName:_}=this.opts,C=g.target;C.closest(ae)&&this.handleClick(g),_&&C.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(g)}),B(this,"onMouseDown",g=>{this.pressed=!0;let _=U(g.target,ae),C=_&&_.adpCell;O(C.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),O(C.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),B(this,"onMouseMove",g=>{if(!this.pressed||!this.dp.isMinViewReached)return;g.preventDefault();let _=U(g.target,ae),C=_&&_.adpCell,{selectedDates:E,rangeDateTo:F,rangeDateFrom:M}=this.dp;if(!C||C.isDisabled)return;let{date:J}=C;if(E.length===2){if(this.rangeFromFocused&&!L(J,F)){let{hours:H,minutes:G}=d(M);J.setHours(H),J.setMinutes(G),this.dp.rangeDateFrom=J,this.dp.replaceDate(M,J)}if(this.rangeToFocused&&!j(J,M)){let{hours:H,minutes:G}=d(F);J.setHours(H),J.setMinutes(G),this.dp.rangeDateTo=J,this.dp.replaceDate(F,J)}}}),B(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),B(this,"onChangeViewDate",(g,_)=>{if(!this.isVisible)return;let C=S(g),E=S(_);switch(this.dp.currentView){case i.days:if(O(g,_,i.months))return;break;case i.months:if(O(g,_,i.years))return;break;case i.years:if(C[0]===E[0]&&C[1]===E[1])return}this.render()}),B(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(g=>{this.$cells.appendChild(g.render())})}),this.dp=f,this.type=p,this.opts=y,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===i.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:a,dynamicRange:f}=this.opts;I(this.$el,"mouseover",this.onMouseOverCell),I(this.$el,"mouseout",this.onMouseOutCell),I(this.$el,"click",this.onClickBody),a&&f&&(I(this.$el,"mousedown",this.onMouseDown),I(this.$el,"mousemove",this.onMouseMove),I(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=l({className:`air-datepicker-body -${this.type}-`,innerHtml:ge[this.type]}),this.$names=o(".air-datepicker-body--day-names",this.$el),this.$cells=o(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,f="",p=this.dp.isWeekend,{onClickDayName:y}=this.opts,g=a,_=0;for(;_<7;){let C=g%7;f+=`<div class="${$("air-datepicker-body--day-name",{[i.cssClassWeekend]:p(C),"-clickable-":!!y})}" data-day-index='${C}'>${this.dp.locale.daysMin[C]}</div>`,_++,g++}return f}_getDaysCells(){let{viewDate:a,locale:{firstDay:f}}=this.dp,p=u(a),{year:y,month:g}=d(a),_=new Date(y,g,1),C=new Date(y,g,p),E=_.getDay()-f,F=6-C.getDay()+f;E=E<0?E+7:E,F=F>6?F-7:F;let M=function(fe,ye){let{year:te,month:m,date:h}=d(fe);return new Date(te,m,h-ye)}(_,E),J=p+E+F,H=M.getDate(),{year:G,month:Z}=d(M),ie=0;for(;ie<J;){let fe=new Date(G,Z,H+ie);this._generateCell(fe),ie++}}_generateCell(a){let{type:f,dp:p,opts:y}=this,g=new K({type:f,dp:p,opts:y,date:a,body:this});return this.cells.push(g),g}_generateDayCells(){this._getDaysCells()}_generateMonthCells(){let{year:a}=this.dp.parsedViewDate,f=0;for(;f<12;)this.cells.push(this._generateCell(new Date(a,f))),f++}_generateYearCells(){let a=S(this.dp.viewDate),f=a[0]-1,p=a[1]+1,y=f;for(;y<=p;)this.cells.push(this._generateCell(new Date(y,0))),y++}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCells(){switch(this.type){case i.days:this._generateDayCells();break;case i.months:this._generateMonthCells();break;case i.years:this._generateYearCells()}}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(a=>a.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView)}}function me(k,a,f){return(a=function(p){var y=function(g,_){if(typeof g!="object"||g===null)return g;var C=g[Symbol.toPrimitive];if(C!==void 0){var E=C.call(g,_);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(p,"string");return typeof y=="symbol"?y:String(y)}(a))in k?Object.defineProperty(k,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):k[a]=f,k}class ue{constructor(a){let{dp:f,opts:p}=a;me(this,"onClickNav",y=>{let g=U(y.target,".air-datepicker-nav--action");if(!g)return;let _=g.dataset.action;this.dp[_]()}),me(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),me(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),me(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),me(this,"update",()=>{let{prevHtml:y,nextHtml:g}=this.opts;this.$prev.innerHTML=y,this.$next.innerHTML=g,this._resetNavStatus(),this.render(),this.handleNavStatus()}),me(this,"renderDelay",()=>{setTimeout(this.render)}),me(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(y,g){for(let _ in g)g[_]?y.classList.add(_):y.classList.remove(_)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=f,this.opts=p,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=o(".air-datepicker-nav--title",this.$el),this.$prev=o('[data-action="prev"]',this.$el),this.$next=o('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(i.eventChangeTime,this.render))}destroy(){this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(i.eventChangeTime,this.render))}_createElement(){this.$el=l({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:a,opts:f}=this,p=f.navTitles[a.currentView];return typeof p=="function"?p(a):a.formatDate(a.viewDate,p)}handleNavStatus(){let{disableNavWhenOutOfRange:a}=this.opts,{minDate:f,maxDate:p}=this.dp;if(!f&&!p||!a)return;let{year:y,month:g}=this.dp.parsedViewDate,_=!!f&&d(f),C=!!p&&d(p);switch(this.dp.currentView){case i.days:f&&_.month>=g&&_.year>=y&&this._disableNav("prev"),p&&C.month<=g&&C.year<=y&&this._disableNav("next");break;case i.months:f&&_.year>=y&&this._disableNav("prev"),p&&C.year<=y&&this._disableNav("next");break;case i.years:{let E=S(this.dp.viewDate);f&&_.year>=E[0]&&this._disableNav("prev"),p&&C.year<=E[1]&&this._disableNav("next");break}}}_disableNav(a){o('[data-action="'+a+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(a){for(var f=arguments.length,p=new Array(f>1?f-1:0),y=1;y<f;y++)p[y-1]=arguments[y];a.length?a.forEach(g=>{g.classList.remove(...p)}):a.classList.remove(...p)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:a,nextHtml:f}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${a}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${f}</div>`}get isNavIsFunction(){let{navTitles:a}=this.opts;return Object.keys(a).find(f=>typeof a[f]=="function")}}var oe={today:{content:k=>k.locale.today,onClick:k=>k.setViewDate(new Date)},clear:{content:k=>k.locale.clear,onClick:k=>k.clear()}};class Ue{constructor(a){let{dp:f,opts:p}=a;this.dp=f,this.opts=p,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=l({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:a}=this.opts;Array.isArray(a)||(a=[a]),a.forEach(f=>{let p=f;typeof f=="string"&&oe[f]&&(p=oe[f]);let y=this.createButton(p);p.onClick&&this.attachEventToButton(y,p.onClick),this.$el.appendChild(y)})}attachEventToButton(a,f){a.addEventListener("click",()=>{f(this.dp)})}createButton(a){let{content:f,className:p,tagName:y="button",attrs:g={}}=a;return l({tagName:y,innerHtml:`<span tabindex='-1'>${typeof f=="function"?f(this.dp):f}</span>`,className:$("air-datepicker-button",p),attrs:g})}render(){this.generateButtons()}}function Ke(k,a,f){return(a=function(p){var y=function(g,_){if(typeof g!="object"||g===null)return g;var C=g[Symbol.toPrimitive];if(C!==void 0){var E=C.call(g,_);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(p,"string");return typeof y=="symbol"?y:String(y)}(a))in k?Object.defineProperty(k,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):k[a]=f,k}class Qe{constructor(){let{opts:a,dp:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ke(this,"toggleTimepickerIsActive",y=>{this.dp.timepickerIsActive=y}),Ke(this,"onChangeSelectedDate",y=>{let{date:g,updateTime:_=!1}=y;g&&(this.setMinMaxTime(g),this.setCurrentTime(!!_&&g),this.addTimeToDate(g))}),Ke(this,"onChangeLastSelectedDate",y=>{y&&(this.setTime(y),this.render())}),Ke(this,"onChangeInputRange",y=>{let g=y.target;this[g.getAttribute("name")]=g.value,this.updateText(),this.dp.trigger(i.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),Ke(this,"onMouseEnterLeave",y=>{let g=y.target.getAttribute("name"),_=this.$minutesText;g==="hours"&&(_=this.$hoursText),_.classList.toggle("-focus-")}),Ke(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),Ke(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=a,this.dp=f;let{timeFormat:p}=this.dp.locale;p&&(p.match(D("h"))||p.match(D("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let a="input";navigator.userAgent.match(/trident/gi)&&(a="change"),I(this.$ranges,a,this.onChangeInputRange),I(this.$ranges,"mouseenter",this.onMouseEnterLeave),I(this.$ranges,"mouseleave",this.onMouseEnterLeave),I(this.$ranges,"focus",this.onFocus),I(this.$ranges,"mousedown",this.onFocus),I(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=l({className:$("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:a,hours:f,displayHours:p,minutes:y,minHours:g,minMinutes:_,maxHours:C,maxMinutes:E,dayPeriod:F,opts:{hoursStep:M,minutesStep:J}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${x(p)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${x(y)}</span>   `+(a?`<span class='air-datepicker-time--current-ampm'>${F}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${f}" min="${g}" max="${C}" step="${M}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${y}" min="${_}" max="${E}" step="${J}"/>   </div></div>`}defineDOM(){let a=f=>o(f,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=a('[name="hours"]'),this.$minutes=a('[name="minutes"]'),this.$hoursText=a(".air-datepicker-time--current-hours"),this.$minutesText=a(".air-datepicker-time--current-minutes"),this.$ampm=a(".air-datepicker-time--current-ampm")}setTime(a){this.setMinMaxTime(a),this.setCurrentTime(a)}addTimeToDate(a){a&&(a.setHours(this.hours),a.setMinutes(this.minutes))}setMinMaxTime(a){if(this.setMinMaxTimeFromOptions(),a){let{minDate:f,maxDate:p}=this.dp;f&&O(a,f)&&this.setMinTimeFromMinDate(f),p&&O(a,p)&&this.setMaxTimeFromMaxDate(p)}}setCurrentTime(a){let{hours:f,minutes:p}=a?d(a):this;this.hours=W(f,this.minHours,this.maxHours),this.minutes=W(p,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:a,minMinutes:f,maxHours:p,maxMinutes:y}=this.opts;this.minHours=W(a,0,23),this.minMinutes=W(f,0,59),this.maxHours=W(p,0,23),this.maxMinutes=W(y,0,59)}setMinTimeFromMinDate(a){let{lastSelectedDate:f}=this.dp;this.minHours=a.getHours(),f&&f.getHours()>a.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=a.getMinutes()}setMaxTimeFromMaxDate(a){let{lastSelectedDate:f}=this.dp;this.maxHours=a.getHours(),f&&f.getHours()<a.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=a.getMinutes()}updateSliders(){c(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,c(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=x(this.displayHours),this.$minutesText.innerHTML=x(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(a){this._hours=a;let{hours:f,dayPeriod:p}=w(a);this.displayHours=this.ampm?f:a,this.dayPeriod=p}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function Be(k,a,f){return(a=function(p){var y=function(g,_){if(typeof g!="object"||g===null)return g;var C=g[Symbol.toPrimitive];if(C!==void 0){var E=C.call(g,_);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(p,"string");return typeof y=="symbol"?y:String(y)}(a))in k?Object.defineProperty(k,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):k[a]=f,k}class kt{constructor(a){let{dp:f,opts:p}=a;Be(this,"pressedKeys",new Set),Be(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],y=>y.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],y=>y.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],y=>y.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],y=>y.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],y=>y.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],y=>y.year-=10],[["Control","Shift","ArrowUp"],(y,g)=>g.up()]])),Be(this,"handleHotKey",y=>{let g=this.hotKeys.get(y),_=d(this.getInitialFocusDate());g(_,this.dp);let{year:C,month:E,date:F}=_,M=u(new Date(C,E));M<F&&(F=M);let J=this.dp.getClampedDate(new Date(C,E,F));this.dp.setFocusDate(J,{viewDateTransition:!0})}),Be(this,"isHotKeyPressed",()=>{let y=!1,g=this.pressedKeys.size,_=C=>this.pressedKeys.has(C);for(let[C]of this.hotKeys){if(y)break;if(Array.isArray(C[0]))C.forEach(E=>{y||g!==E.length||(y=E.every(_)&&C)});else{if(g!==C.length)continue;y=C.every(_)&&C}}return y}),Be(this,"isArrow",y=>y>=37&&y<=40),Be(this,"onKeyDown",y=>{let{key:g,which:_}=y,{dp:C,dp:{focusDate:E},opts:F}=this;this.registerKey(g);let M=this.isHotKeyPressed();if(M)return y.preventDefault(),void this.handleHotKey(M);if(this.isArrow(_))return y.preventDefault(),void this.focusNextCell(g);if(g==="Enter"){if(C.currentView!==F.minView)return void C.down();if(E){let J=C._checkIfDateIsSelected(E);return void(J?C._handleAlreadySelectedDates(J,E):C.selectDate(E))}}g==="Escape"&&this.dp.hide()}),Be(this,"onKeyUp",y=>{this.removeKey(y.key)}),this.dp=f,this.opts=p,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:a}=this.dp;a.addEventListener("keydown",this.onKeyDown),a.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:a}=this.dp;a.removeEventListener("keydown",this.onKeyDown),a.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:a,currentView:f,selectedDates:p,parsedViewDate:{year:y,month:g}}=this.dp,_=a||p[p.length-1];if(!_)switch(f){case i.days:_=new Date(y,g,new Date().getDate());break;case i.months:_=new Date(y,g,1);break;case i.years:_=new Date(y,0,1)}return _}focusNextCell(a){let f=this.getInitialFocusDate(),{currentView:p}=this.dp,{days:y,months:g,years:_}=i,C=d(f),E=C.year,F=C.month,M=C.date;switch(a){case"ArrowLeft":p===y&&(M-=1),p===g&&(F-=1),p===_&&(E-=1);break;case"ArrowUp":p===y&&(M-=7),p===g&&(F-=3),p===_&&(E-=4);break;case"ArrowRight":p===y&&(M+=1),p===g&&(F+=1),p===_&&(E+=1);break;case"ArrowDown":p===y&&(M+=7),p===g&&(F+=3),p===_&&(E+=4)}let J=this.dp.getClampedDate(new Date(E,F,M));this.dp.setFocusDate(J,{viewDateTransition:!0})}registerKey(a){this.pressedKeys.add(a)}removeKey(a){this.pressedKeys.delete(a)}}let pe={on(k,a){this.__events||(this.__events={}),this.__events[k]?this.__events[k].push(a):this.__events[k]=[a]},off(k,a){this.__events&&this.__events[k]&&(this.__events[k]=this.__events[k].filter(f=>f!==a))},removeAllEvents(){this.__events={}},trigger(k){for(var a=arguments.length,f=new Array(a>1?a-1:0),p=1;p<a;p++)f[p-1]=arguments[p];this.__events&&this.__events[k]&&this.__events[k].forEach(y=>{y(...f)})}};function ce(k,a,f){return(a=function(p){var y=function(g,_){if(typeof g!="object"||g===null)return g;var C=g[Symbol.toPrimitive];if(C!==void 0){var E=C.call(g,_);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(p,"string");return typeof y=="symbol"?y:String(y)}(a))in k?Object.defineProperty(k,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):k[a]=f,k}let Fe="",R="",z=!1;class Y{static buildGlobalContainer(a){z=!0,Fe=l({className:a,id:a}),o("body").appendChild(Fe)}constructor(a,f){var p=this;if(ce(this,"viewIndexes",[i.days,i.months,i.years]),ce(this,"next",()=>{let{year:_,month:C}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(_,C+1,1));break;case i.months:this.setViewDate(new Date(_+1,C,1));break;case i.years:this.setViewDate(new Date(_+10,0,1))}}),ce(this,"prev",()=>{let{year:_,month:C}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(_,C-1,1));break;case i.months:this.setViewDate(new Date(_-1,C,1));break;case i.years:this.setViewDate(new Date(_-10,0,1))}}),ce(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),ce(this,"setPosition",function(_){let C=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(_=_||p.opts.position)=="function")return void(p.customHide=_({$datepicker:p.$datepicker,$target:p.$el,$pointer:p.$pointer,isViewChange:C,done:p._finishHide}));let E,F,{isMobile:M}=p.opts,J=p.$el.getBoundingClientRect(),H=p.$el.getBoundingClientRect(),G=p.$datepicker.offsetParent,Z=p.$el.offsetParent,ie=p.$datepicker.getBoundingClientRect(),fe=_.split(" "),ye=window.scrollY,te=window.scrollX,m=p.opts.offset,h=fe[0],v=fe[1];if(M)p.$datepicker.style.cssText="left: 50%; top: 50%";else{if(G===Z&&G!==document.body&&(H={top:p.$el.offsetTop,left:p.$el.offsetLeft,width:J.width,height:p.$el.offsetHeight},ye=0,te=0),G!==Z&&G!==document.body){let T=G.getBoundingClientRect();H={top:J.top-T.top,left:J.left-T.left,width:J.width,height:J.height},ye=0,te=0}switch(h){case"top":E=H.top-ie.height-m;break;case"right":F=H.left+H.width+m;break;case"bottom":E=H.top+H.height+m;break;case"left":F=H.left-ie.width-m}switch(v){case"top":E=H.top;break;case"right":F=H.left+H.width-ie.width;break;case"bottom":E=H.top+H.height-ie.height;break;case"left":F=H.left;break;case"center":/left|right/.test(h)?E=H.top+H.height/2-ie.height/2:F=H.left+H.width/2-ie.width/2}p.$datepicker.style.cssText=`left: ${F+te}px; top: ${E+ye}px`}}),ce(this,"_setInputValue",()=>{let{opts:_,$altField:C,locale:{dateFormat:E}}=this,{altFieldDateFormat:F,altField:M}=_;M&&C&&(C.value=this._getInputValue(F)),this.$el.value=this._getInputValue(E)}),ce(this,"_getInputValue",_=>{let{selectedDates:C,opts:E}=this,{multipleDates:F,multipleDatesSeparator:M}=E;if(!C.length)return"";let J=typeof _=="function",H=J?_(F?C:C[0]):C.map(G=>this.formatDate(G,_));return H=J?H:H.join(M),H}),ce(this,"_checkIfDateIsSelected",function(_){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.days,E=!1;return p.selectedDates.some(F=>{let M=O(_,F,C);return E=M&&F,M}),E}),ce(this,"_scheduleCallAfterTransition",_=>{this._cancelScheduledCall(),_&&_(!1),this._onTransitionEnd=()=>{_&&_(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),ce(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),ce(this,"setViewDate",_=>{if(!((_=re(_))instanceof Date)||O(_,this.viewDate))return;let C=this.viewDate;this.viewDate=_;let{onChangeViewDate:E}=this.opts;if(E){let{month:F,year:M}=this.parsedViewDate;E({month:F,year:M,decade:this.curDecade})}this.trigger(i.eventChangeViewDate,_,C)}),ce(this,"setFocusDate",function(_){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!_||(_=re(_))instanceof Date)&&(p.focusDate=_,p.opts.range&&_&&p._handleRangeOnFocus(),p.trigger(i.eventChangeFocusDate,_,C))}),ce(this,"setCurrentView",_=>{if(this.viewIndexes.includes(_)){if(this.currentView=_,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(i.eventChangeCurrentView,_),!this.views[_]){let C=this.views[_]=new Ae({dp:this,opts:this.opts,type:_});this.shouldUpdateDOM&&this.$content.appendChild(C.$el)}this.opts.onChangeView&&this.opts.onChangeView(_)}}),ce(this,"_updateLastSelectedDate",_=>{this.lastSelectedDate=_,this.trigger(i.eventChangeLastSelectedDate,_)}),ce(this,"destroy",()=>{let{showEvent:_,isMobile:C}=this.opts,E=this.$datepicker.parentNode;E&&E.removeChild(this.$datepicker),this.$el.removeEventListener(_,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),C&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),ce(this,"update",_=>{let C=V({},this.opts);V(this.opts,_);let{timepicker:E,buttons:F,range:M,selectedDates:J,isMobile:H}=this.opts,G=this.visible||this.treatAsInline;this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this._handleLocale(),!C.selectedDates&&J&&this.selectDate(J),_.view&&this.setCurrentView(_.view),this._setInputValue(),C.range&&!M?(this.rangeDateTo=!1,this.rangeDateFrom=!1):!C.range&&M&&this.selectedDates.length&&(this.rangeDateFrom=this.selectedDates[0],this.rangeDateTo=this.selectedDates[1]),C.timepicker&&!E?(G&&this.timepicker.destroy(),this.timepicker=!1,this.$timepicker.parentNode.removeChild(this.$timepicker)):!C.timepicker&&E&&this._addTimepicker(),!C.buttons&&F?this._addButtons():C.buttons&&!F?(this.buttons.destroy(),this.$buttons.parentNode.removeChild(this.$buttons)):G&&C.buttons&&F&&this.buttons.clearHtml().render(),!C.isMobile&&H?(this.treatAsInline||R||this._createMobileOverlay(),this._addMobileAttributes(),this.visible&&this._showMobileOverlay()):C.isMobile&&!H&&(this._removeMobileAttributes(),this.visible&&(R.classList.remove("-active-"),typeof this.opts.position!="function"&&this.setPosition())),G&&(this.nav.update(),this.views[this.currentView].render(),this.currentView===i.days&&this.views[this.currentView].renderDayNames())}),ce(this,"isOtherMonth",_=>{let{month:C}=d(_);return C!==this.parsedViewDate.month}),ce(this,"isOtherYear",_=>{let{year:C}=d(_);return C!==this.parsedViewDate.year}),ce(this,"isOtherDecade",_=>{let{year:C}=d(_),[E,F]=S(this.viewDate);return C<E||C>F}),ce(this,"_onChangeSelectedDate",_=>{let{silent:C}=_;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!C&&this._triggerOnSelect()})}),ce(this,"_onChangeFocusedDate",function(_){let{viewDateTransition:C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!_)return;let E=!1;C&&(E=p.isOtherMonth(_)||p.isOtherYear(_)||p.isOtherDecade(_)),E&&p.setViewDate(_)}),ce(this,"_onChangeTime",_=>{let{hours:C,minutes:E}=_,F=new Date,{lastSelectedDate:M,opts:{onSelect:J}}=this,H=M;M||(H=F);let G=this.getCell(H,this.currentViewSingular),Z=G&&G.adpCell;Z&&Z.isDisabled||(H.setHours(C),H.setMinutes(E),M?(this._setInputValue(),J&&this._triggerOnSelect()):this.selectDate(H))}),ce(this,"_onFocus",_=>{this.visible||this.show()}),ce(this,"_onBlur",_=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),ce(this,"_onMouseDown",_=>{this.inFocus=!0}),ce(this,"_onMouseUp",_=>{this.inFocus=!1,this.$el.focus()}),ce(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),ce(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),ce(this,"isWeekend",_=>this.opts.weekends.includes(_)),ce(this,"getClampedDate",_=>{let{minDate:C,maxDate:E}=this,F=_;return E&&L(_,E)?F=E:C&&j(_,C)&&(F=C),F}),this.$el=o(a),!this.$el)return;this.$datepicker=l({className:"air-datepicker"}),this.opts=V({},s,f),this.$customContainer=!!this.opts.container&&o(this.opts.container),this.$altField=o(this.opts.altField||!1);let{view:y,startDate:g}=this.opts;g||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=re(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=y,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:a,treatAsInline:f,opts:{inline:p,isMobile:y,selectedDates:g,keyboardNav:_,onlyTimepicker:C}}=this,E=o("body");(!z||z&&Fe&&!E.contains(Fe))&&!p&&this.elIsInput&&!this.$customContainer&&Y.buildGlobalContainer(Y.defaultGlobalContainerId),!y||R||f||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(p||this._bindEvents(),_&&!C&&(this.keyboardNav=new kt({dp:this,opts:a}))),g&&this.selectDate(g,{silent:!0}),this.opts.visible&&!f&&this.show(),y&&!f&&this.$el.setAttribute("readonly",!0),f&&this._createComponents()}_createMobileOverlay(){R=l({className:"air-datepicker-overlay"}),Fe.appendChild(R)}_createComponents(){let{opts:a,treatAsInline:f,opts:{inline:p,buttons:y,timepicker:g,position:_,classes:C,onlyTimepicker:E,isMobile:F}}=this;this._buildBaseHtml(),this.elIsInput&&(p||this._setPositionClasses(_)),!p&&this.elIsInput||this.$datepicker.classList.add("-inline-"),C&&this.$datepicker.classList.add(...C.split(" ")),E&&this.$datepicker.classList.add("-only-timepicker-"),F&&!f&&this._addMobileAttributes(),this.views[this.currentView]=new Ae({dp:this,type:this.currentView,opts:a}),this.nav=new ue({dp:this,opts:a}),g&&this._addTimepicker(),y&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let a in this.views)this.views[a].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){R.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){R.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:a,maxDate:f}=this.opts;this.minDate=!!a&&re(a),this.maxDate=!!f&&re(f)}_addTimepicker(){this.$timepicker=l({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new Qe({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=l({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new Ue({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(i.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(i.eventChangeFocusDate,this._onChangeFocusedDate),this.on(i.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:a}=this.opts;var f,p;this.elIsInput?a?(f=this.$datepicker,(p=this.$el).parentNode.insertBefore(f,p.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=o(".air-datepicker--content",this.$datepicker),this.$pointer=o(".air-datepicker--pointer",this.$datepicker),this.$nav=o(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:a,dateFormat:f,firstDay:p,timepicker:y,onlyTimepicker:g,timeFormat:_,dateTimeSeparator:C}=this.opts;var E;this.locale=(E=a,JSON.parse(JSON.stringify(E))),f&&(this.locale.dateFormat=f),_!==void 0&&_!==""&&(this.locale.timeFormat=_);let{timeFormat:F}=this.locale;if(p!==""&&(this.locale.firstDay=p),y&&typeof f!="function"){let M=F?C:"";this.locale.dateFormat=[this.locale.dateFormat,F||""].join(M)}g&&typeof f!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(a){if(typeof a=="function")return void this.$datepicker.classList.add("-custom-position-");let f=(a=a.split(" "))[0],p=`air-datepicker -${f}-${a[1]}- -from-${f}-`;this.$datepicker.classList.add(...p.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:a,minDate:f,maxDate:p}=this;p&&L(a,p)&&this.setViewDate(p),f&&j(a,f)&&this.setViewDate(f)}formatDate(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,f=arguments.length>1?arguments[1]:void 0;if(a=re(a),!(a instanceof Date))return;let p=f,y=this.locale,g=d(a),_=g.dayPeriod,C=S(a),E=Y.replacer,F={T:a.getTime(),m:g.minutes,mm:g.fullMinutes,h:g.hours12,hh:g.fullHours12,H:g.hours,HH:g.fullHours,aa:_,AA:_.toUpperCase(),E:y.daysShort[g.day],EEEE:y.days[g.day],d:g.date,dd:g.fullDate,M:g.month+1,MM:g.fullMonth,MMM:y.monthsShort[g.month],MMMM:y.months[g.month],yy:g.year.toString().slice(-2),yyyy:g.year,yyyy1:C[0],yyyy2:C[1]};for(let[M,J]of Object.entries(F))p=E(p,D(M),J);return p}down(a){this._handleUpDownActions(a,"down")}up(a){this._handleUpDownActions(a,"up")}selectDate(a){let f,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:y,parsedViewDate:g,selectedDates:_}=this,{updateTime:C}=p,{moveToOtherMonthsOnSelect:E,moveToOtherYearsOnSelect:F,multipleDates:M,range:J,autoClose:H}=this.opts,G=_.length;if(Array.isArray(a))return a.forEach(Z=>{this.selectDate(Z,p)}),new Promise(Z=>{setTimeout(Z)});if((a=re(a))instanceof Date){if(y===i.days&&a.getMonth()!==g.month&&E&&(f=new Date(a.getFullYear(),a.getMonth(),1)),y===i.years&&a.getFullYear()!==g.year&&F&&(f=new Date(a.getFullYear(),0,1)),f&&this.setViewDate(f),M&&!J){if(G===M)return;this._checkIfDateIsSelected(a)||_.push(a)}else if(J)switch(G){case 1:_.push(a),this.rangeDateTo||(this.rangeDateTo=a),L(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=a),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[a],this.rangeDateFrom=a,this.rangeDateTo="";break;default:this.selectedDates=[a],this.rangeDateFrom=a}else this.selectedDates=[a];return this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,silent:p==null?void 0:p.silent,date:a,updateTime:C}),this._updateLastSelectedDate(a),H&&!this.timepickerIsActive&&this.visible&&(M||J?J&&G===1&&this.hide():this.hide()),new Promise(Z=>{setTimeout(Z)})}}unselectDate(a){let f=this.selectedDates,p=this;if((a=re(a))instanceof Date)return f.some((y,g)=>{if(O(y,a))return f.splice(g,1),p.selectedDates.length?p._updateLastSelectedDate(p.selectedDates[p.selectedDates.length-1]):(p.rangeDateFrom="",p.rangeDateTo="",p._updateLastSelectedDate(!1)),this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,date:a}),!0})}replaceDate(a,f){let p=this.selectedDates.find(g=>O(g,a,this.currentView)),y=this.selectedDates.indexOf(p);y<0||O(this.selectedDates[y],f,this.currentView)||(this.selectedDates[y]=f,this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,date:f,updateTime:!0}),this._updateLastSelectedDate(f))}clear(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,silent:a.silent}),new Promise(f=>{setTimeout(f)})}show(){let{onShow:a,isMobile:f}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,a&&this._scheduleCallAfterTransition(a),f&&this._showMobileOverlay()}hide(){let{onHide:a,isMobile:f}=this.opts,p=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(y=>{!this.customHide&&(y&&p||!y&&!p)&&this._finishHide(),a&&a(y)}),f&&R.classList.remove("-active-")}_triggerOnSelect(){let a=[],f=[],{selectedDates:p,locale:y,opts:{onSelect:g,multipleDates:_,range:C}}=this,E=_||C,F=typeof y.dateFormat=="function";p.length&&(a=p.map(A),f=F?_?y.dateFormat(a):a.map(M=>y.dateFormat(M)):a.map(M=>this.formatDate(M,y.dateFormat))),g({date:E?a:a[0],formattedDate:E?f:f[0],datepicker:this})}_handleAlreadySelectedDates(a,f){let{range:p,toggleSelected:y}=this.opts;p?y?this.unselectDate(f):this.selectedDates.length!==2&&this.selectDate(f):y&&this.unselectDate(f),y||this._updateLastSelectedDate(a)}_handleUpDownActions(a,f){if(!((a=re(a||this.focusDate||this.viewDate))instanceof Date))return;let p=f==="up"?this.viewIndex+1:this.viewIndex-1;p>2&&(p=2),p<0&&(p=0),this.setViewDate(new Date(a.getFullYear(),a.getMonth(),1)),this.setCurrentView(this.viewIndexes[p])}_handleRangeOnFocus(){this.selectedDates.length===1&&(L(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(a){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.day;if(!((a=re(a))instanceof Date))return;let{year:p,month:y,date:g}=d(a),_=`[data-year="${p}"]`,C=`[data-month="${y}"]`,E={[i.day]:`${_}${C}[data-date="${g}"]`,[i.month]:`${_}${C}`,[i.year]:`${_}`};return this.views[this.currentView].$el.querySelector(E[f])}_showMobileOverlay(){R.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((a,f)=>parseFloat(f)+a,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return d(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return S(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===i.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===i.days}get $container(){return this.$customContainer||Fe}static replacer(a,f,p){return a.replace(f,function(y,g,_,C){return g+p+C})}}var X;return ce(Y,"defaults",s),ce(Y,"version","3.3.5"),ce(Y,"defaultGlobalContainerId","air-datepicker-global-container"),X=Y.prototype,Object.assign(X,pe),r.default}()})})(Kl);var fh=Kl.exports;const Ta=uh(fh),hh={class:"switch"},dh=["tabindex","checked"],ph=["tabindex","checked"],yh=q("div",{class:"switch__label"},null,-1),mh=En({__name:"Switch",props:{type:{default:"checkbox"},modelValue:{},tabindex:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=r=>{t("update:modelValue",r.target.checked)};return(r,i)=>(we(),Oe("div",hh,[r.type==="checkbox"?(we(),Oe("input",{key:0,type:"checkbox",tabindex:r.tabindex,checked:r.modelValue,onChange:n},null,40,dh)):rt("",!0),r.type==="radio"?(we(),Oe("input",{key:1,type:"radio",tabindex:r.tabindex,checked:r.modelValue,onChange:n},null,40,ph)):rt("",!0),yh]))}});const ei=()=>{const e=No();return e==null?void 0:e.appContext.config.globalProperties.$toast};function Oa(){let e=new Date;return new Date(e.setMonth(e.getMonth()-2))}function rr(e){if(e)return new Date(e).toLocaleString("ru-RU")}async function gh(e){return new Promise(t=>{chrome.tabs.create({url:e,active:!0},async n=>{chrome.tabs.onUpdated.addListener(function r(i,s){s.status==="complete"&&i===n.id&&(chrome.tabs.onUpdated.removeListener(r),t(n))})})})}async function vh(){const t=(await chrome.tabs.query({active:!1})).find(n=>{var r;return(r=n.url)==null?void 0:r.includes("options.html")});t&&t.id&&chrome.tabs.update(t.id,{active:!0})}function Ls(e){const t=document.createElement("textarea");t.style.cssText="position: absolute; left: -9999px; top: -9999px;",document.body.appendChild(t),t.value=e,t.focus({preventScroll:!0}),t.select();try{document.execCommand("copy")}catch(n){console.error("    ",n)}t.remove()}const Xe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ot=Object.keys,gt=Array.isArray;function xt(e,t){return typeof t!="object"||ot(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||Xe.Promise||(Xe.Promise=Promise);const Yr=Object.getPrototypeOf,bh={}.hasOwnProperty;function Pt(e,t){return bh.call(e,t)}function gr(e,t){typeof t=="function"&&(t=t(Yr(e))),(typeof Reflect>"u"?ot:Reflect.ownKeys)(t).forEach(n=>{ln(e,n,t[n])})}const Ul=Object.defineProperty;function ln(e,t,n,r){Ul(e,t,xt(n&&Pt(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function fr(e){return{from:function(t){return e.prototype=Object.create(t.prototype),ln(e.prototype,"constructor",e),{extend:gr.bind(null,e.prototype)}}}}const _h=Object.getOwnPropertyDescriptor;function Fo(e,t){let n;return _h(e,t)||(n=Yr(e))&&Fo(n,t)}const wh=[].slice;function Mi(e,t,n){return wh.call(e,t,n)}function Vl(e,t){return t(e)}function Er(e){if(!e)throw new Error("Assertion Failed")}function Hl(e){Xe.setImmediate?setImmediate(e):setTimeout(e,0)}function ql(e,t){return e.reduce((n,r,i)=>{var s=t(r,i);return s&&(n[s[0]]=s[1]),n},{})}function cn(e,t){if(Pt(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var s=cn(e,t[r]);n.push(s)}return n}var o=t.indexOf(".");if(o!==-1){var l=e[t.substr(0,o)];return l===void 0?void 0:cn(l,t.substr(o+1))}}function zt(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Er(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)zt(e,t[r],n[r])}else{var s=t.indexOf(".");if(s!==-1){var o=t.substr(0,s),l=t.substr(s+1);if(l==="")n===void 0?gt(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var c=e[o];c&&Pt(e,o)||(c=e[o]={}),zt(c,l,n)}}else n===void 0?gt(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Yl(e){var t={};for(var n in e)Pt(e,n)&&(t[n]=e[n]);return t}const xh=[].concat;function Jl(e){return xh.apply([],e)}const Wl="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Jl([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>Xe[e]),Ch=Wl.map(e=>Xe[e]);ql(Wl,e=>[e,!0]);let vn=null;function ti(e){vn=typeof WeakMap<"u"&&new WeakMap;const t=js(e);return vn=null,t}function js(e){if(!e||typeof e!="object")return e;let t=vn&&vn.get(e);if(t)return t;if(gt(e)){t=[],vn&&vn.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(js(e[n]))}else if(Ch.indexOf(e.constructor)>=0)t=e;else{const s=Yr(e);for(var i in t=s===Object.prototype?{}:Object.create(s),vn&&vn.set(e,t),e)Pt(e,i)&&(t[i]=js(e[i]))}return t}const{toString:Dh}={};function Bs(e){return Dh.call(e).slice(8,-1)}const Rs=typeof Symbol<"u"?Symbol.iterator:"@@iterator",kh=typeof Rs=="symbol"?function(e){var t;return e!=null&&(t=e[Rs])&&t.apply(e)}:function(){return null},nr={};function on(e){var t,n,r,i;if(arguments.length===1){if(gt(e))return e.slice();if(this===nr&&typeof e=="string")return[e];if(i=kh(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Mo=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var en=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function zl(e,t){en=e,Gl=t}var Gl=()=>!0;const Sh=!new Error("").stack;function zn(){if(Sh)try{throw zn.arguments,new Error}catch(e){return e}return new Error}function Ks(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(Gl).map(r=>`
`+r).join("")):""}var Xl=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Lo=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Xl),Th={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function hr(e,t){this._e=zn(),this.name=e,this.message=t}function Ql(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function Li(e,t,n,r){this._e=zn(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Ql(e,t)}function Ir(e,t){this._e=zn(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=Ql(e,t)}fr(hr).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Ks(this._e,2))}},toString:function(){return this.name+": "+this.message}}),fr(Li).from(hr),fr(Ir).from(hr);var jo=Lo.reduce((e,t)=>(e[t]=t+"Error",e),{});const Oh=hr;var De=Lo.reduce((e,t)=>{var n=t+"Error";function r(i,s){this._e=zn(),this.name=n,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=Th[t]||n,this.inner=null)}return fr(r).from(Oh),e[t]=r,e},{});De.Syntax=SyntaxError,De.Type=TypeError,De.Range=RangeError;var Ea=Xl.reduce((e,t)=>(e[t+"Error"]=De[t],e),{}),Di=Lo.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=De[t]),e),{});function Ye(){}function Jr(e){return e}function Eh(e,t){return e==null||e===Jr?t:function(n){return t(e(n))}}function Yn(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Ah(e,t){return e===Ye?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Yn(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Yn(i,this.onerror):i),s!==void 0?s:n}}function Ph(e,t){return e===Ye?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Yn(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Yn(r,this.onerror):r)}}function $h(e,t){return e===Ye?t:function(n){var r=e.apply(this,arguments);xt(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Yn(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Yn(s,this.onerror):s),r===void 0?o===void 0?void 0:o:xt(r,o)}}function Nh(e,t){return e===Ye?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Bo(e,t){return e===Ye?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return t.apply(r,s)})}return t.apply(this,arguments)}}Di.ModifyError=Li,Di.DexieError=hr,Di.BulkError=Ir;var Wr={};const Zl=100,[Us,ji,Vs]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Yr(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Yr(t),e]})(),ec=ji&&ji.then,ki=Us&&Us.constructor,Ro=!!Vs;var Hs=!1,Ih=Vs?()=>{Vs.then(hi)}:Xe.setImmediate?setImmediate.bind(null,hi):Xe.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{hi(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(hi,0)},Fr=function(e,t){Ar.push([e,t]),Bi&&(Ih(),Bi=!1)},qs=!0,Bi=!0,Vn=[],Si=[],Ys=null,Js=Jr,dr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:$a,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{$a(e[0],e[1])}catch{}})}},be=dr,Ar=[],Hn=0,Ti=[];function le(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Ye,this._lib=!1;var t=this._PSD=be;if(en&&(this._stackHolder=zn(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Wr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&zs(this,this._value))}this._state=null,this._value=null,++t.ref,nc(this,e)}const Ws={get:function(){var e=be,t=Ri;function n(r,i){var s=!e.global&&(e!==be||t!==Ri);const o=s&&!hn();var l=new le((c,u)=>{Ko(this,new tc(Ki(r,e,s,o),Ki(i,e,s,o),c,u,e))});return en&&sc(l,this),l}return n.prototype=Wr,n},set:function(e){ln(this,"then",e&&e.prototype===Wr?Ws:{get:function(){return e},set:Ws.set})}};function tc(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function nc(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&ni();n&&typeof n.then=="function"?nc(e,(i,s)=>{n instanceof le?n._then(i,s):n.then(i,s)}):(e._state=!0,e._value=n,rc(e)),r&&ri()}},zs.bind(null,e))}catch(n){zs(e,n)}}function zs(e,t){if(Si.push(t),e._state===null){var n=e._lib&&ni();t=Js(t),e._state=!1,e._value=t,en&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,s){try{r.apply(null,s)}catch(o){i&&i(o)}}(()=>{var r=Fo(t,"stack");t._promise=e,ln(t,"stack",{get:()=>Hs?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){Vn.some(i=>i._value===r._value)||Vn.push(r)}(e),rc(e),n&&ri()}}function rc(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ko(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),Hn===0&&(++Hn,Fr(()=>{--Hn==0&&Uo()},[]))}function Ko(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Hn,Fr(Fh,[n,e,t])}else e._listeners.push(t)}function Fh(e,t,n){try{Ys=t;var r,i=t._value;t._state?r=e(i):(Si.length&&(Si=[]),r=e(i),Si.indexOf(i)===-1&&function(s){for(var o=Vn.length;o;)if(Vn[--o]._value===s._value)return void Vn.splice(o,1)}(t)),n.resolve(r)}catch(s){n.reject(s)}finally{Ys=null,--Hn==0&&Uo(),--n.psd.ref||n.psd.finalize()}}function ic(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,s,o=e._value;o!=null?(i=o.name||"Error",s=o.message||o,r=Ks(o,0)):(i=o,s=""),t.push(i+(s?": "+s:"")+r)}return en&&((r=Ks(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&ic(e._prev,t,n)),t}function sc(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function hi(){ni()&&ri()}function ni(){var e=qs;return qs=!1,Bi=!1,e}function ri(){var e,t,n;do for(;Ar.length>0;)for(e=Ar,Ar=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Ar.length>0);qs=!0,Bi=!0}function Uo(){var e=Vn;Vn=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=Ti.slice(0),n=t.length;n;)t[--n]()}function di(e){return new le(Wr,!1,e)}function Ze(e,t){var n=be;return function(){var r=ni(),i=be;try{return Sn(n,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{Sn(i,!1),r&&ri()}}}gr(le.prototype,{then:Ws,_then:function(e,t){Ko(this,new tc(null,null,e,t,be))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):di(r)):this.then(null,r=>r&&r.name===t?n(r):di(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),di(t)))},stack:{get:function(){if(this._stack)return this._stack;try{Hs=!0;var e=ic(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Hs=!1}}},timeout:function(e,t){return e<1/0?new le((n,r)=>{var i=setTimeout(()=>r(new De.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ln(le.prototype,Symbol.toStringTag,"Dexie.Promise"),dr.env=oc(),gr(le,{all:function(){var e=on.apply(null,arguments).map(pi);return new le(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,s)=>le.resolve(i).then(o=>{e[s]=o,--r||t(e)},n))})},resolve:e=>{if(e instanceof le)return e;if(e&&typeof e.then=="function")return new le((n,r)=>{e.then(n,r)});var t=new le(Wr,!0,e);return sc(t,Ys),t},reject:di,race:function(){var e=on.apply(null,arguments).map(pi);return new le((t,n)=>{e.map(r=>le.resolve(r).then(t,n))})},PSD:{get:()=>be,set:e=>be=e},totalEchoes:{get:()=>Ri},newPSD:kn,usePSD:Dr,scheduler:{get:()=>Fr,set:e=>{Fr=e}},rejectionMapper:{get:()=>Js,set:e=>{Js=e}},follow:(e,t)=>new le((n,r)=>kn((i,s)=>{var o=be;o.unhandleds=[],o.onunhandled=s,o.finalize=Yn(function(){(function(l){function c(){l(),Ti.splice(Ti.indexOf(c),1)}Ti.push(c),++Hn,Fr(()=>{--Hn==0&&Uo()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},o.finalize),e()},t,n,r))}),ki&&(ki.allSettled&&ln(le,"allSettled",function(){const e=on.apply(null,arguments).map(pi);return new le(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,s)=>le.resolve(i).then(o=>r[s]={status:"fulfilled",value:o},o=>r[s]={status:"rejected",reason:o}).then(()=>--n||t(r)))})}),ki.any&&typeof AggregateError<"u"&&ln(le,"any",function(){const e=on.apply(null,arguments).map(pi);return new le((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((s,o)=>le.resolve(s).then(l=>t(l),l=>{i[o]=l,--r||n(new AggregateError(i))}))})}));const pt={awaits:0,echoes:0,id:0};var Mh=0,Oi=[],ps=0,Ri=0,Lh=0;function kn(e,t,n,r){var i=be,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++Lh;var o=dr.env;s.env=Ro?{Promise:le,PromiseProp:{value:le,configurable:!0,writable:!0},all:le.all,race:le.race,allSettled:le.allSettled,any:le.any,resolve:le.resolve,reject:le.reject,nthen:Aa(o.nthen,s),gthen:Aa(o.gthen,s)}:{},t&&xt(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=Dr(s,e,n,r);return s.ref===0&&s.finalize(),l}function Cr(){return pt.id||(pt.id=++Mh),++pt.awaits,pt.echoes+=Zl,pt.id}function hn(){return!!pt.awaits&&(--pt.awaits==0&&(pt.id=0),pt.echoes=pt.awaits*Zl,!0)}function pi(e){return pt.echoes&&e&&e.constructor===ki?(Cr(),e.then(t=>(hn(),t),t=>(hn(),lt(t)))):e}function jh(e){++Ri,pt.echoes&&--pt.echoes!=0||(pt.echoes=pt.id=0),Oi.push(be),Sn(e,!0)}function Bh(){var e=Oi[Oi.length-1];Oi.pop(),Sn(e,!1)}function Sn(e,t){var n=be;if((t?!pt.echoes||ps++&&e===be:!ps||--ps&&e===be)||ac(t?jh.bind(null,e):Bh),e!==be&&(be=e,n===dr&&(dr.env=oc()),Ro)){var r=dr.env.Promise,i=e.env;ji.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(Xe,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function oc(){var e=Xe.Promise;return Ro?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Xe,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ji.then,gthen:e.prototype.then}:{}}function Dr(e,t,n,r,i){var s=be;try{return Sn(e,!0),t(n,r,i)}finally{Sn(s,!1)}}function ac(e){ec.call(Us,e)}function Ki(e,t,n,r){return typeof e!="function"?e:function(){var i=be;n&&Cr(),Sn(t,!0);try{return e.apply(this,arguments)}finally{Sn(i,!1),r&&ac(hn)}}}function Aa(e,t){return function(n,r){return e.call(this,Ki(n,t),Ki(r,t))}}(""+ec).indexOf("[native code]")===-1&&(Cr=hn=Ye);const Pa="unhandledrejection";function $a(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(Xe.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Pa,!0,!0),xt(r,i)):Xe.CustomEvent&&xt(r=new CustomEvent(Pa,{detail:i}),i),r&&Xe.dispatchEvent&&(dispatchEvent(r),!Xe.PromiseRejectionEvent&&Xe.onunhandledrejection))try{Xe.onunhandledrejection(r)}catch{}en&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var lt=le.reject;function Gs(e,t,n,r){if(e.idbdb&&(e._state.openComplete||be.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===jo.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Gs(e,t,n,r))):lt(s)}return i._promise(t,(s,o)=>kn(()=>(be.trans=i,r(s,o,i)))).then(s=>i._completion.then(()=>s))}if(e._state.openComplete)return lt(new De.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return lt(new De.DatabaseClosed);e.open().catch(Ye)}return e._state.dbReadyPromise.then(()=>Gs(e,t,n,r))}const Na="3.2.4",Bn=String.fromCharCode(65535),Xs=-1/0,nn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",lc="String expected.",Mr=[],es=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Rh=es,Kh=es,cc=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),ts="__dbnames",ys="readonly",ms="readwrite";function Jn(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const uc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function yi(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=ti(t))[e],t)}class Uh{_trans(t,n,r){const i=this._tx||be.trans,s=this.name;function o(c,u,d){if(!d.schema[s])throw new De.NotFound("Table "+s+" not part of transaction");return n(d.idbtrans,d)}const l=ni();try{return i&&i.db===this.db?i===be.trans?i._promise(t,o,r):kn(()=>i._promise(t,o,r),{trans:i,transless:be.transless||be}):Gs(this.db,t,[this.name],o)}finally{l&&ri()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(gt(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=ot(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>u.compound&&n.every(d=>u.keyPath.indexOf(d)>=0)&&u.keyPath.every(d=>n.indexOf(d)>=0))[0];if(r&&this.db._maxKey!==Bn)return this.where(r.name).equals(r.keyPath.map(u=>t[u]));!r&&en&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function o(u,d){try{return s.cmp(u,d)===0}catch{return!1}}const[l,c]=n.reduce(([u,d],w)=>{const x=i[w],S=t[w];return[u||x,u||!x?Jn(d,x&&x.multi?$=>{const O=cn($,w);return gt(O)&&O.some(L=>o(S,L))}:$=>o(S,cn($,w))):d]},[null,null]);return l?this.where(l.name).equals(t[l.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,gt(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var s in r)if(Pt(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){xt(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=yi(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:n!=null?[n]:null,values:[s]})).then(o=>o.numFailures?le.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{zt(t,i,o)}catch{}return o})}update(t,n){if(typeof t!="object"||gt(t))return this.where(":id").equals(t).modify(n);{const r=cn(t,this.schema.primKey.keyPath);if(r===void 0)return lt(new De.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?ot(n).forEach(i=>{zt(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=yi(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[s],keys:n!=null?[n]:null})).then(o=>o.numFailures?le.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{zt(t,i,o)}catch{}return o})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?le.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:uc})).then(t=>t.numFailures?le.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&i)throw new De.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let d=c&&l?t.map(yi(c)):t;return this.core.mutate({trans:o,type:"add",keys:i,values:d,wantResults:s}).then(({numFailures:w,results:x,lastResult:S,failures:$})=>{if(w===0)return s?x:S;throw new Ir(`${this.name}.bulkAdd(): ${w} of ${u} operations failed`,$)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&i)throw new De.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let d=c&&l?t.map(yi(c)):t;return this.core.mutate({trans:o,type:"put",keys:i,values:d,wantResults:s}).then(({numFailures:w,results:x,lastResult:S,failures:$})=>{if(w===0)return s?x:S;throw new Ir(`${this.name}.bulkPut(): ${w} of ${u} operations failed`,$)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new Ir(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)})}}function Lr(e){var t={},n=function(o,l){if(l){for(var c=arguments.length,u=new Array(c-1);--c;)u[c-1]=arguments[c];return t[o].subscribe.apply(null,u),e}if(typeof o=="string")return t[o]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(o,l,c){if(typeof o!="object"){var u;l||(l=Nh),c||(c=Ye);var d={subscribers:[],fire:c,subscribe:function(w){d.subscribers.indexOf(w)===-1&&(d.subscribers.push(w),d.fire=l(d.fire,w))},unsubscribe:function(w){d.subscribers=d.subscribers.filter(function(x){return x!==w}),d.fire=d.subscribers.reduce(l,c)}};return t[o]=n[o]=d,d}ot(u=o).forEach(function(w){var x=u[w];if(gt(x))s(w,u[w][0],u[w][1]);else{if(x!=="asap")throw new De.InvalidArgument("Invalid event config");var S=s(w,Jr,function(){for(var $=arguments.length,O=new Array($);$--;)O[$]=arguments[$];S.subscribers.forEach(function(L){Hl(function(){L.apply(null,O)})})})}})}}function kr(e,t){return fr(t).from({prototype:e}),t}function Qn(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function gs(e,t){e.filter=Jn(e.filter,t)}function vs(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Jn(r(),t()):t,e.justLimit=n&&!r}function Ei(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new De.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Ia(e,t,n){const r=Ei(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function mi(e,t,n,r){const i=e.replayFilter?Jn(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},o=(l,c,u)=>{if(!i||i(c,u,x=>c.stop(x),x=>c.fail(x))){var d=c.primaryKey,w=""+d;w==="[object ArrayBuffer]"&&(w=""+new Uint8Array(d)),Pt(s,w)||(s[w]=!0,t(l,c,u))}};return Promise.all([e.or._iterate(o,n),Fa(Ia(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return Fa(Ia(e,r,n),Jn(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Fa(e,t,n,r){var i=Ze(r?(s,o,l)=>n(r(s),o,l):n);return e.then(s=>{if(s)return s.start(()=>{var o=()=>s.continue();t&&!t(s,l=>o=l,l=>{s.stop(l),o=Ye},l=>{s.fail(l),o=Ye})||i(s.value,s,l=>o=l),o()})})}function wt(e,t){try{const n=Ma(e),r=Ma(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,s){const o=i.length,l=s.length,c=o<l?o:l;for(let u=0;u<c;++u)if(i[u]!==s[u])return i[u]<s[u]?-1:1;return o===l?0:o<l?-1:1}(La(e),La(t));case"Array":return function(i,s){const o=i.length,l=s.length,c=o<l?o:l;for(let u=0;u<c;++u){const d=wt(i[u],s[u]);if(d!==0)return d}return o===l?0:o<l?-1:1}(e,t)}}catch{}return NaN}function Ma(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=Bs(e);return n==="ArrayBuffer"?"binary":n}function La(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Vh{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,lt.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,lt.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Jn(n.algorithm,t)}_iterate(t,n){return mi(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&xt(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>mi(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(Qn(r,!0))return i.count({trans:n,query:{index:Ei(r,i.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var s=0;return mi(r,()=>(++s,!1),n,i).then(()=>s)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],s=r.length-1;function o(u,d){return d?o(u[r[d]],d-1):u[i]}var l=this._ctx.dir==="next"?1:-1;function c(u,d){var w=o(u,s),x=o(d,s);return w<x?-l:w>x?l:0}return this.toArray(function(u){return u.sort(c)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Qn(r,!0)&&r.limit>0){const{valueMapper:i}=r,s=Ei(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:o})=>i?o.map(i):o)}{const i=[];return mi(r,s=>i.push(s),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Qn(n)?vs(n,()=>{var r=t;return(i,s)=>r===0||(r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1))}):vs(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),vs(this._ctx,()=>{var n=t;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this}until(t,n){return gs(this._ctx,function(r,i,s){return!t(r.value)||(i(s),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return gs(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=Jn(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Qn(n,!0)&&n.limit>0)return this._read(i=>{var s=Ei(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return gs(this._ctx,function(i){var s=i.primaryKey.toString(),o=Pt(r,s);return r[s]=!0,!o}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var s=ot(t),o=s.length;i=function(O){for(var L=!1,j=0;j<o;++j){var A=s[j],P=t[A];cn(O,A)!==P&&(zt(O,A,P),L=!0)}return L}}const l=n.table.core,{outbound:c,extractKey:u}=l.schema.primaryKey,d=this.db._options.modifyChunkSize||200,w=[];let x=0;const S=[],$=(O,L)=>{const{failures:j,numFailures:A}=L;x+=O-A;for(let P of ot(j))w.push(j[P])};return this.clone().primaryKeys().then(O=>{const L=j=>{const A=Math.min(d,O.length-j);return l.getMany({trans:r,keys:O.slice(j,j+A),cache:"immutable"}).then(P=>{const I=[],U=[],W=c?[]:null,V=[];for(let D=0;D<A;++D){const b=P[D],K={value:ti(b),primKey:O[j+D]};i.call(K,K.value,K)!==!1&&(K.value==null?V.push(O[j+D]):c||wt(u(b),u(K.value))===0?(U.push(K.value),c&&W.push(O[j+D])):(V.push(O[j+D]),I.push(K.value)))}const re=Qn(n)&&n.limit===1/0&&(typeof t!="function"||t===bs)&&{index:n.index,range:n.range};return Promise.resolve(I.length>0&&l.mutate({trans:r,type:"add",values:I}).then(D=>{for(let b in D.failures)V.splice(parseInt(b),1);$(I.length,D)})).then(()=>(U.length>0||re&&typeof t=="object")&&l.mutate({trans:r,type:"put",keys:W,values:U,criteria:re,changeSpec:typeof t!="function"&&t}).then(D=>$(U.length,D))).then(()=>(V.length>0||re&&t===bs)&&l.mutate({trans:r,type:"delete",keys:V,criteria:re}).then(D=>$(V.length,D))).then(()=>O.length>j+A&&L(j+d))})};return L(0).then(()=>{if(w.length>0)throw new Li("Error modifying one or more objects",w,x,S);return O.length})})})}delete(){var t=this._ctx,n=t.range;return Qn(t)&&(t.isPrimKey&&!Kh||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,s=n;return t.table.core.count({trans:r,query:{index:i,range:s}}).then(o=>t.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:l,lastResult:c,results:u,numFailures:d})=>{if(d)throw new Li("Could not delete some values",Object.keys(l).map(w=>l[w]),o-d);return o-d}))}):this.modify(bs)}}const bs=(e,t)=>t.value=null;function Hh(e,t){return e<t?-1:e===t?0:1}function qh(e,t){return e>t?-1:e===t?0:1}function Ot(e,t,n){var r=e instanceof hc?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Zn(e){return new e.Collection(e,()=>fc("")).limit(0)}function Yh(e,t,n,r,i,s){for(var o=Math.min(e.length,r.length),l=-1,c=0;c<o;++c){var u=t[c];if(u!==r[c])return i(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):i(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):l>=0?e.substr(0,l)+t[l]+n.substr(l+1):null;i(e[c],u)<0&&(l=c)}return o<r.length&&s==="next"?e+n.substr(e.length):o<e.length&&s==="prev"?e.substr(0,n.length):l<0?null:e.substr(0,l)+r[l]+n.substr(l+1)}function gi(e,t,n,r){var i,s,o,l,c,u,d,w=n.length;if(!n.every(O=>typeof O=="string"))return Ot(e,lc);function x(O){i=function(j){return j==="next"?A=>A.toUpperCase():A=>A.toLowerCase()}(O),s=function(j){return j==="next"?A=>A.toLowerCase():A=>A.toUpperCase()}(O),o=O==="next"?Hh:qh;var L=n.map(function(j){return{lower:s(j),upper:i(j)}}).sort(function(j,A){return o(j.lower,A.lower)});l=L.map(function(j){return j.upper}),c=L.map(function(j){return j.lower}),u=O,d=O==="next"?"":r}x("next");var S=new e.Collection(e,()=>mn(l[0],c[w-1]+r));S._ondirectionchange=function(O){x(O)};var $=0;return S._addAlgorithm(function(O,L,j){var A=O.key;if(typeof A!="string")return!1;var P=s(A);if(t(P,c,$))return!0;for(var I=null,U=$;U<w;++U){var W=Yh(A,P,l[U],c[U],o,u);W===null&&I===null?$=U+1:(I===null||o(I,W)>0)&&(I=W)}return L(I!==null?function(){O.continue(I+d)}:j),!1}),S}function mn(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function fc(e){return{type:1,lower:e,upper:e}}class hc{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?Zn(this):new this.Collection(this,()=>mn(t,n,!r,!i))}catch{return Ot(this,nn)}}equals(t){return t==null?Ot(this,nn):new this.Collection(this,()=>fc(t))}above(t){return t==null?Ot(this,nn):new this.Collection(this,()=>mn(t,void 0,!0))}aboveOrEqual(t){return t==null?Ot(this,nn):new this.Collection(this,()=>mn(t,void 0,!1))}below(t){return t==null?Ot(this,nn):new this.Collection(this,()=>mn(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Ot(this,nn):new this.Collection(this,()=>mn(void 0,t))}startsWith(t){return typeof t!="string"?Ot(this,lc):this.between(t,t+Bn,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):gi(this,(n,r)=>n.indexOf(r[0])===0,[t],Bn)}equalsIgnoreCase(t){return gi(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=on.apply(nr,arguments);return t.length===0?Zn(this):gi(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=on.apply(nr,arguments);return t.length===0?Zn(this):gi(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,Bn)}anyOf(){const t=on.apply(nr,arguments);let n=this._cmp;try{t.sort(n)}catch{return Ot(this,nn)}if(t.length===0)return Zn(this);const r=new this.Collection(this,()=>mn(t[0],t[t.length-1]));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((s,o,l)=>{const c=s.key;for(;n(c,t[i])>0;)if(++i,i===t.length)return o(l),!1;return n(c,t[i])===0||(o(()=>{s.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[Xs,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=on.apply(nr,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Ot(this,nn)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[Xs,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,s=this._descending,o=this._min,l=this._max;if(t.length===0)return Zn(this);if(!t.every(A=>A[0]!==void 0&&A[1]!==void 0&&i(A[0],A[1])<=0))return Ot(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",De.InvalidArgument);const c=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let d,w=i;function x(A,P){return w(A[0],P[0])}try{d=t.reduce(function(A,P){let I=0,U=A.length;for(;I<U;++I){const W=A[I];if(r(P[0],W[1])<0&&r(P[1],W[0])>0){W[0]=o(W[0],P[0]),W[1]=l(W[1],P[1]);break}}return I===U&&A.push(P),A},[]),d.sort(x)}catch{return Ot(this,nn)}let S=0;const $=u?A=>i(A,d[S][1])>0:A=>i(A,d[S][1])>=0,O=c?A=>s(A,d[S][0])>0:A=>s(A,d[S][0])>=0;let L=$;const j=new this.Collection(this,()=>mn(d[0][0],d[d.length-1][1],!c,!u));return j._ondirectionchange=A=>{A==="next"?(L=$,w=i):(L=O,w=s),d.sort(x)},j._addAlgorithm((A,P,I)=>{for(var U=A.key;L(U);)if(++S,S===d.length)return P(I),!1;return!!function(W){return!$(W)&&!O(W)}(U)||(this._cmp(U,d[S][1])===0||this._cmp(U,d[S][0])===0||P(()=>{w===i?A.continue(d[S][0]):A.continue(d[S][1])}),!1)}),j}startsWithAnyOf(){const t=on.apply(nr,arguments);return t.every(n=>typeof n=="string")?t.length===0?Zn(this):this.inAnyRange(t.map(n=>[n,n+Bn])):Ot(this,"startsWithAnyOf() only works with strings")}}function Gt(e){return Ze(function(t){return zr(t),e(t.target.error),!1})}function zr(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Gr="storagemutated",_n="x-storagemutated-1",Tn=Lr(null,Gr);class Jh{_lock(){return Er(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this}_unlock(){if(Er(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Dr(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&be.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Er(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new De.DatabaseClosed(r);case"MissingAPIError":throw new De.MissingAPI(r.message,r);default:throw new De.OpenFailed(r)}if(!this.active)throw new De.TransactionInactive;return Er(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ze(i=>{zr(i),this._reject(t.error)}),t.onabort=Ze(i=>{zr(i),this.active&&this._reject(new De.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=Ze(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Tn.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return lt(new De.ReadOnly("Transaction is readonly"));if(!this.active)return lt(new De.TransactionInactive);if(this._locked())return new le((s,o)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(s,o)},be])});if(r)return kn(()=>{var s=new le((o,l)=>{this._lock();const c=n(o,l,this);c&&c.then&&c.then(o,l)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new le((s,o)=>{var l=n(s,o,this);l&&l.then&&l.then(s,o)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=le.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=n._waitingFor;return new le((o,l)=>{r.then(c=>n._waitingQueue.push(Ze(o.bind(null,c))),c=>n._waitingQueue.push(Ze(l.bind(null,c)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new De.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(Pt(n,t))return n[t];const r=this.schema[t];if(!r)throw new De.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function Qs(e,t,n,r,i,s,o){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+dc(t)}}function dc(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function pc(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:ql(n,r=>[r.name,r])}}let Xr=e=>{try{return e.only([[]]),Xr=()=>[[]],[[]]}catch{return Xr=()=>Bn,Bn}};function Zs(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>cn(r,t)}(e):t=>cn(t,e)}function ja(e){return[].slice.call(e)}let Wh=0;function jr(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function zh(e,t,n){function r(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:d,lowerOpen:w,upperOpen:x}=c;return u===void 0?d===void 0?null:t.upperBound(d,!!x):d===void 0?t.lowerBound(u,!!w):t.bound(u,d,!!w,!!x)}const{schema:i,hasGetAll:s}=function(c,u){const d=ja(c.objectStoreNames);return{schema:{name:c.name,tables:d.map(w=>u.objectStore(w)).map(w=>{const{keyPath:x,autoIncrement:S}=w,$=gt(x),O=x==null,L={},j={name:w.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:O,compound:$,keyPath:x,autoIncrement:S,unique:!0,extractKey:Zs(x)},indexes:ja(w.indexNames).map(A=>w.index(A)).map(A=>{const{name:P,unique:I,multiEntry:U,keyPath:W}=A,V={name:P,compound:gt(W),keyPath:W,unique:I,multiEntry:U,extractKey:Zs(W)};return L[jr(W)]=V,V}),getIndexByKeyPath:A=>L[jr(A)]};return L[":id"]=j.primaryKey,x!=null&&(L[jr(x)]=j.primaryKey),j})},hasGetAll:d.length>0&&"getAll"in u.objectStore(d[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),o=i.tables.map(c=>function(u){const d=u.name;return{name:d,schema:u,mutate:function({trans:w,type:x,keys:S,values:$,range:O}){return new Promise((L,j)=>{L=Ze(L);const A=w.objectStore(d),P=A.keyPath==null,I=x==="put"||x==="add";if(!I&&x!=="delete"&&x!=="deleteRange")throw new Error("Invalid operation type: "+x);const{length:U}=S||$||{length:1};if(S&&$&&S.length!==$.length)throw new Error("Given keys array must have same length as given values array.");if(U===0)return L({numFailures:0,failures:{},results:[],lastResult:void 0});let W;const V=[],re=[];let D=0;const b=B=>{++D,zr(B)};if(x==="deleteRange"){if(O.type===4)return L({numFailures:D,failures:re,results:[],lastResult:void 0});O.type===3?V.push(W=A.clear()):V.push(W=A.delete(r(O)))}else{const[B,ge]=I?P?[$,S]:[$,null]:[S,null];if(I)for(let ae=0;ae<U;++ae)V.push(W=ge&&ge[ae]!==void 0?A[x](B[ae],ge[ae]):A[x](B[ae])),W.onerror=b;else for(let ae=0;ae<U;++ae)V.push(W=A[x](B[ae])),W.onerror=b}const K=B=>{const ge=B.target.result;V.forEach((ae,Ae)=>ae.error!=null&&(re[Ae]=ae.error)),L({numFailures:D,failures:re,results:x==="delete"?S:V.map(ae=>ae.result),lastResult:ge})};W.onerror=B=>{b(B),K(B)},W.onsuccess=K})},getMany:({trans:w,keys:x})=>new Promise((S,$)=>{S=Ze(S);const O=w.objectStore(d),L=x.length,j=new Array(L);let A,P=0,I=0;const U=V=>{const re=V.target;j[re._pos]=re.result,++I===P&&S(j)},W=Gt($);for(let V=0;V<L;++V)x[V]!=null&&(A=O.get(x[V]),A._pos=V,A.onsuccess=U,A.onerror=W,++P);P===0&&S(j)}),get:({trans:w,key:x})=>new Promise((S,$)=>{S=Ze(S);const O=w.objectStore(d).get(x);O.onsuccess=L=>S(L.target.result),O.onerror=Gt($)}),query:function(w){return x=>new Promise((S,$)=>{S=Ze(S);const{trans:O,values:L,limit:j,query:A}=x,P=j===1/0?void 0:j,{index:I,range:U}=A,W=O.objectStore(d),V=I.isPrimaryKey?W:W.index(I.name),re=r(U);if(j===0)return S({result:[]});if(w){const D=L?V.getAll(re,P):V.getAllKeys(re,P);D.onsuccess=b=>S({result:b.target.result}),D.onerror=Gt($)}else{let D=0;const b=L||!("openKeyCursor"in V)?V.openCursor(re):V.openKeyCursor(re),K=[];b.onsuccess=B=>{const ge=b.result;return ge?(K.push(L?ge.value:ge.primaryKey),++D===j?S({result:K}):void ge.continue()):S({result:K})},b.onerror=Gt($)}})}(s),openCursor:function({trans:w,values:x,query:S,reverse:$,unique:O}){return new Promise((L,j)=>{L=Ze(L);const{index:A,range:P}=S,I=w.objectStore(d),U=A.isPrimaryKey?I:I.index(A.name),W=$?O?"prevunique":"prev":O?"nextunique":"next",V=x||!("openKeyCursor"in U)?U.openCursor(r(P),W):U.openKeyCursor(r(P),W);V.onerror=Gt(j),V.onsuccess=Ze(re=>{const D=V.result;if(!D)return void L(null);D.___id=++Wh,D.done=!1;const b=D.continue.bind(D);let K=D.continuePrimaryKey;K&&(K=K.bind(D));const B=D.advance.bind(D),ge=()=>{throw new Error("Cursor not stopped")};D.trans=w,D.stop=D.continue=D.continuePrimaryKey=D.advance=()=>{throw new Error("Cursor not started")},D.fail=Ze(j),D.next=function(){let ae=1;return this.start(()=>ae--?this.continue():this.stop()).then(()=>this)},D.start=ae=>{const Ae=new Promise((ue,oe)=>{ue=Ze(ue),V.onerror=Gt(oe),D.fail=oe,D.stop=Ue=>{D.stop=D.continue=D.continuePrimaryKey=D.advance=ge,ue(Ue)}}),me=()=>{if(V.result)try{ae()}catch(ue){D.fail(ue)}else D.done=!0,D.start=()=>{throw new Error("Cursor behind last entry")},D.stop()};return V.onsuccess=Ze(ue=>{V.onsuccess=me,me()}),D.continue=b,D.continuePrimaryKey=K,D.advance=B,me(),Ae},L(D)},j)})},count({query:w,trans:x}){const{index:S,range:$}=w;return new Promise((O,L)=>{const j=x.objectStore(d),A=S.isPrimaryKey?j:j.index(S.name),P=r($),I=P?A.count(P):A.count();I.onsuccess=Ze(U=>O(U.target.result)),I.onerror=Gt(L)})}}}(c)),l={};return o.forEach(c=>l[c.name]=c),{stack:"dbcore",transaction:e.transaction.bind(e),table(c){if(!l[c])throw new Error(`Table '${c}' not found`);return l[c]},MIN_KEY:-1/0,MAX_KEY:Xr(t),schema:i}}function eo({_novip:e},t){const n=t.db,r=function(i,s,{IDBKeyRange:o,indexedDB:l},c){return{dbcore:function(d,w){return w.reduce((x,{create:S})=>({...x,...S(x)}),d)}(zh(s,o,c),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const s=i.name;e.core.schema.tables.some(o=>o.name===s)&&(i.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=i.core))})}function Ui({_novip:e},t,n,r){n.forEach(i=>{const s=r[i];t.forEach(o=>{const l=Fo(o,i);(!l||"value"in l&&l.value===void 0)&&(o===e.Transaction.prototype||o instanceof e.Transaction?ln(o,i,{get(){return this.table(i)},set(c){Ul(this,i,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new e.Table(i,s))})})}function to({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function Gh(e,t){return e._cfg.version-t._cfg.version}function Xh(e,t,n,r){const i=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,i);s.create(n),s._completion.catch(r);const o=s._reject.bind(s),l=be.transless||be;kn(()=>{be.trans=s,be.transless=l,t===0?(ot(i).forEach(c=>{_s(n,c,i[c].primKey,i[c].indexes)}),eo(e,n),le.follow(()=>e.on.populate.fire(s)).catch(o)):function({_novip:c},u,d,w){const x=[],S=c._versions;let $=c._dbSchema=ro(c,c.idbdb,w),O=!1;const L=S.filter(A=>A._cfg.version>=u);function j(){return x.length?le.resolve(x.shift()(d.idbtrans)).then(j):le.resolve()}return L.forEach(A=>{x.push(()=>{const P=$,I=A._cfg.dbschema;io(c,P,w),io(c,I,w),$=c._dbSchema=I;const U=yc(P,I);U.add.forEach(V=>{_s(w,V[0],V[1].primKey,V[1].indexes)}),U.change.forEach(V=>{if(V.recreate)throw new De.Upgrade("Not yet support for changing primary key");{const re=w.objectStore(V.name);V.add.forEach(D=>no(re,D)),V.change.forEach(D=>{re.deleteIndex(D.name),no(re,D)}),V.del.forEach(D=>re.deleteIndex(D))}});const W=A._cfg.contentUpgrade;if(W&&A._cfg.version>u){eo(c,w),d._memoizedTables={},O=!0;let V=Yl(I);U.del.forEach(K=>{V[K]=P[K]}),to(c,[c.Transaction.prototype]),Ui(c,[c.Transaction.prototype],ot(V),V),d.schema=V;const re=Mo(W);let D;re&&Cr();const b=le.follow(()=>{if(D=W(d),D&&re){var K=hn.bind(null,null);D.then(K,K)}});return D&&typeof D.then=="function"?le.resolve(D):b.then(()=>D)}}),x.push(P=>{(!O||!Rh)&&function(I,U){[].slice.call(U.db.objectStoreNames).forEach(W=>I[W]==null&&U.db.deleteObjectStore(W))}(A._cfg.dbschema,P),to(c,[c.Transaction.prototype]),Ui(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),d.schema=c._dbSchema})}),j().then(()=>{var A,P;P=w,ot(A=$).forEach(I=>{P.db.objectStoreNames.contains(I)||_s(P,I,A[I].primKey,A[I].indexes)})})}(e,t,s,n).catch(o)})}function yc(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],s=t[r];if(i){const o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!es)o.recreate=!0,n.change.push(o);else{const l=i.idxByName,c=s.idxByName;let u;for(u in l)c[u]||o.del.push(u);for(u in c){const d=l[u],w=c[u];d?d.src!==w.src&&o.change.push(w):o.add.push(w)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,s])}return n}function _s(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(s=>no(i,s)),i}function no(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ro(e,t,n){const r={};return Mi(t.objectStoreNames,0).forEach(i=>{const s=n.objectStore(i);let o=s.keyPath;const l=Qs(dc(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),c=[];for(let d=0;d<s.indexNames.length;++d){const w=s.index(s.indexNames[d]);o=w.keyPath;var u=Qs(w.name,o,!!w.unique,!!w.multiEntry,!1,o&&typeof o!="string",!1);c.push(u)}r[i]=pc(i,l,c)}),r}function io({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const s=r[i],o=n.objectStore(s);e._hasGetAll="getAll"in o;for(let l=0;l<o.indexNames.length;++l){const c=o.indexNames[l],u=o.index(c).keyPath,d=typeof u=="string"?u:"["+Mi(u).join("+")+"]";if(t[s]){const w=t[s].idxByName[d];w&&(w.name=c,delete t[s].idxByName[d],t[s].idxByName[c]=w)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Xe.WorkerGlobalScope&&Xe instanceof Xe.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class Qh{_parseStoresSpec(t,n){ot(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((o,l)=>{const c=(o=o.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return Qs(c,u||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),gt(u),l===0)}),s=i.shift();if(s.multi)throw new De.Schema("Primary key cannot be multi-valued");i.forEach(o=>{if(o.auto)throw new De.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new De.Schema("Index must have a name and cannot be an empty string")}),n[r]=pc(r,s,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?xt(this._cfg.storesSource,t):t;const r=n._versions,i={};let s={};return r.forEach(o=>{xt(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),n._dbSchema=s,to(n,[n._allTables,n,n.Transaction.prototype]),Ui(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],ot(s),s),n._storeNames=ot(s),this}upgrade(t){return this._cfg.contentUpgrade=Bo(this._cfg.contentUpgrade||Ye,t),this}}function Vo(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new it(ts,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Ho(e){return e&&typeof e.databases=="function"}function so(e){return kn(function(){return be.letThrough=!0,e()})}function Zh(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function ed(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?lt(t.dbOpenError):e);en&&(t.openCanceller._stackHolder=zn()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new De.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,o=null,l=!1;return le.race([r,(typeof navigator>"u"?le.resolve():Zh()).then(()=>new le((c,u)=>{if(i(),!n)throw new De.MissingAPI;const d=e.name,w=t.autoSchema?n.open(d):n.open(d,Math.round(10*e.verno));if(!w)throw new De.MissingAPI;w.onerror=Gt(u),w.onblocked=Ze(e._fireOnBlocked),w.onupgradeneeded=Ze(x=>{if(o=w.transaction,t.autoSchema&&!e._options.allowEmptyDB){w.onerror=zr,o.abort(),w.result.close();const $=n.deleteDatabase(d);$.onsuccess=$.onerror=Ze(()=>{u(new De.NoSuchDatabase(`Database ${d} doesnt exist`))})}else{o.onerror=Gt(u);var S=x.oldVersion>Math.pow(2,62)?0:x.oldVersion;l=S<1,e._novip.idbdb=w.result,Xh(e,S/10,o,u)}},u),w.onsuccess=Ze(()=>{o=null;const x=e._novip.idbdb=w.result,S=Mi(x.objectStoreNames);if(S.length>0)try{const O=x.transaction(($=S).length===1?$[0]:$,"readonly");t.autoSchema?function({_novip:L},j,A){L.verno=j.version/10;const P=L._dbSchema=ro(0,j,A);L._storeNames=Mi(j.objectStoreNames,0),Ui(L,[L._allTables],ot(P),P)}(e,x,O):(io(e,e._dbSchema,O),function(L,j){const A=yc(ro(0,L.idbdb,j),L._dbSchema);return!(A.add.length||A.change.some(P=>P.add.length||P.change.length))}(e,O)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),eo(e,O)}catch{}var $;Mr.push(e),x.onversionchange=Ze(O=>{t.vcFired=!0,e.on("versionchange").fire(O)}),x.onclose=Ze(O=>{e.on("close").fire(O)}),l&&function({indexedDB:O,IDBKeyRange:L},j){!Ho(O)&&j!==ts&&Vo(O,L).put({name:j}).catch(Ye)}(e._deps,d),c()},u)}))]).then(()=>(i(),t.onReadyBeingFired=[],le.resolve(so(()=>e.on.ready.fire(e.vip))).then(function c(){if(t.onReadyBeingFired.length>0){let u=t.onReadyBeingFired.reduce(Bo,Ye);return t.onReadyBeingFired=[],le.resolve(so(()=>u(e.vip))).then(c)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(c=>{t.dbOpenError=c;try{o&&o.abort()}catch{}return r===t.openCanceller&&e._close(),lt(c)}).finally(()=>{t.openComplete=!0,s()})}function oo(e){var t=s=>e.next(s),n=i(t),r=i(s=>e.throw(s));function i(s){return o=>{var l=s(o),c=l.value;return l.done?c:c&&typeof c.then=="function"?c.then(n,r):gt(c)?Promise.all(c).then(n,r):n(c)}}return i(t)()}function td(e,t,n){var r=arguments.length;if(r<2)throw new De.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,Jl(i),n]}function mc(e,t,n,r,i){return le.resolve().then(()=>{const s=be.transless||be,o=e._createTransaction(t,n,e._dbSchema,r),l={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(w){return w.name===jo.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>mc(e,t,n,null,i))):lt(w)}const c=Mo(i);let u;c&&Cr();const d=le.follow(()=>{if(u=i.call(o,o),u)if(c){var w=hn.bind(null,null);u.then(w,w)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=oo(u))},l);return(u&&typeof u.then=="function"?le.resolve(u).then(w=>o.active?w:lt(new De.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):d.then(()=>u)).then(w=>(r&&o._resolve(),o._completion.then(()=>w))).catch(w=>(o._reject(w),lt(w)))})}function vi(e,t,n){const r=gt(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const nd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},s=[];function o(d,w,x){const S=jr(d),$=i[S]=i[S]||[],O=d==null?0:typeof d=="string"?1:d.length,L=w>0,j={...x,isVirtual:L,keyTail:w,keyLength:O,extractKey:Zs(d),unique:!L&&x.unique};return $.push(j),j.isPrimaryKey||s.push(j),O>1&&o(O===2?d[0]:d.slice(0,O-1),w+1,x),$.sort((A,P)=>A.keyTail-P.keyTail),j}const l=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[l];for(const d of r.indexes)o(d.keyPath,0,d);function c(d){const w=d.query.index;return w.isVirtual?{...d,query:{index:w,range:(x=d.query.range,S=w.keyTail,{type:x.type===1?2:x.type,lower:vi(x.lower,x.lowerOpen?e.MAX_KEY:e.MIN_KEY,S),lowerOpen:!0,upper:vi(x.upper,x.upperOpen?e.MIN_KEY:e.MAX_KEY,S),upperOpen:!0})}}:d;var x,S}return{...n,schema:{...r,primaryKey:l,indexes:s,getIndexByKeyPath:function(d){const w=i[jr(d)];return w&&w[0]}},count:d=>n.count(c(d)),query:d=>n.query(c(d)),openCursor(d){const{keyTail:w,isVirtual:x,keyLength:S}=d.query.index;return x?n.openCursor(c(d)).then($=>$&&function(O){return Object.create(O,{continue:{value:function(j){j!=null?O.continue(vi(j,d.reverse?e.MAX_KEY:e.MIN_KEY,w)):d.unique?O.continue(O.key.slice(0,S).concat(d.reverse?e.MIN_KEY:e.MAX_KEY,w)):O.continue()}},continuePrimaryKey:{value(j,A){O.continuePrimaryKey(vi(j,e.MAX_KEY,w),A)}},primaryKey:{get:()=>O.primaryKey},key:{get(){const j=O.key;return S===1?j[0]:j.slice(0,S)}},value:{get:()=>O.value}})}($)):n.openCursor(d)}}}}}};function qo(e,t,n,r){return n=n||{},r=r||"",ot(e).forEach(i=>{if(Pt(t,i)){var s=e[i],o=t[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){const l=Bs(s);l!==Bs(o)?n[r+i]=t[i]:l==="Object"?qo(s,o,n,r+i+"."):s!==o&&(n[r+i]=t[i])}else s!==o&&(n[r+i]=t[i])}else n[r+i]=void 0}),ot(t).forEach(i=>{Pt(e,i)||(n[r+i]=t[i])}),n}const rd={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(s){const o=be.trans,{deleting:l,creating:c,updating:u}=o.table(t).hook;switch(s.type){case"add":if(c.fire===Ye)break;return o._promise("readwrite",()=>d(s),!0);case"put":if(c.fire===Ye&&u.fire===Ye)break;return o._promise("readwrite",()=>d(s),!0);case"delete":if(l.fire===Ye)break;return o._promise("readwrite",()=>d(s),!0);case"deleteRange":if(l.fire===Ye)break;return o._promise("readwrite",()=>function(x){return w(x.trans,x.range,1e4)}(s),!0)}return n.mutate(s);function d(x){const S=be.trans,$=x.keys||function(O,L){return L.type==="delete"?L.keys:L.keys||L.values.map(O.extractKey)}(r,x);if(!$)throw new Error("Keys missing");return(x=x.type==="add"||x.type==="put"?{...x,keys:$}:{...x}).type!=="delete"&&(x.values=[...x.values]),x.keys&&(x.keys=[...x.keys]),function(O,L,j){return L.type==="add"?Promise.resolve([]):O.getMany({trans:L.trans,keys:j,cache:"immutable"})}(n,x,$).then(O=>{const L=$.map((j,A)=>{const P=O[A],I={onerror:null,onsuccess:null};if(x.type==="delete")l.fire.call(I,j,P,S);else if(x.type==="add"||P===void 0){const U=c.fire.call(I,j,x.values[A],S);j==null&&U!=null&&(j=U,x.keys[A]=j,r.outbound||zt(x.values[A],r.keyPath,j))}else{const U=qo(P,x.values[A]),W=u.fire.call(I,U,j,P,S);if(W){const V=x.values[A];Object.keys(W).forEach(re=>{Pt(V,re)?V[re]=W[re]:zt(V,re,W[re])})}}return I});return n.mutate(x).then(({failures:j,results:A,numFailures:P,lastResult:I})=>{for(let U=0;U<$.length;++U){const W=A?A[U]:$[U],V=L[U];W==null?V.onerror&&V.onerror(j[U]):V.onsuccess&&V.onsuccess(x.type==="put"&&O[U]?x.values[U]:W)}return{failures:j,results:A,numFailures:P,lastResult:I}}).catch(j=>(L.forEach(A=>A.onerror&&A.onerror(j)),Promise.reject(j)))})}function w(x,S,$){return n.query({trans:x,values:!1,query:{index:r,range:S},limit:$}).then(({result:O})=>d({type:"delete",keys:O,trans:x}).then(L=>L.numFailures>0?Promise.reject(L.failures[0]):O.length<$?{failures:[],numFailures:0,lastResult:void 0}:w(x,{...S,lower:O[O.length-1],lowerOpen:!0},$)))}}}}})};function gc(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,s=0;i<t.keys.length&&s<e.length;++i)wt(t.keys[i],e[s])===0&&(r.push(n?ti(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch{return null}}const id={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=gc(r.keys,r.trans._cache,r.cache==="clone");return i?le.resolve(i):n.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?ti(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Yo(e){return!("from"in e)}const sn=function(e,t){if(!this){const n=new sn;return e&&"d"in e&&xt(n,e),n}xt(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Qr(e,t,n){const r=wt(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Yo(e))return xt(e,{from:t,to:n,d:1});const i=e.l,s=e.r;if(wt(n,e.from)<0)return i?Qr(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Ba(e);if(wt(t,e.to)>0)return s?Qr(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Ba(e);wt(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),wt(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;i&&!e.l&&Vi(e,i),s&&o&&Vi(e,s)}function Vi(e,t){Yo(t)||function n(r,{from:i,to:s,l:o,r:l}){Qr(r,i,s),o&&n(r,o),l&&n(r,l)}(e,t)}function sd(e,t){const n=ao(t);let r=n.next();if(r.done)return!1;let i=r.value;const s=ao(e);let o=s.next(i.from),l=o.value;for(;!r.done&&!o.done;){if(wt(l.from,i.to)<=0&&wt(l.to,i.from)>=0)return!0;wt(i.from,l.from)<0?i=(r=n.next(l.from)).value:l=(o=s.next(i.from)).value}return!1}function ao(e){let t=Yo(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&wt(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||wt(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Ba(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const s=i==="r"?"l":"r",o={...e},l=e[i];e.from=l.from,e.to=l.to,e[i]=l[i],o[i]=l[s],e[s]=o,o.d=Ra(o)}e.d=Ra(e)}function Ra({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}gr(sn.prototype,{add(e){return Vi(this,e),this},addKey(e){return Qr(this,e,e),this},addKeys(e){return e.forEach(t=>Qr(this,t,t)),this},[Rs](){return ao(this)}});const od={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new sn(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:s}=i,{primaryKey:o}=s,{extractKey:l,outbound:c}=o,u={...i,mutate:x=>{const S=x.trans,$=S.mutatedParts||(S.mutatedParts={}),O=W=>{const V=`idb://${t}/${r}/${W}`;return $[V]||($[V]=new sn)},L=O(""),j=O(":dels"),{type:A}=x;let[P,I]=x.type==="deleteRange"?[x.range]:x.type==="delete"?[x.keys]:x.values.length<50?[[],x.values]:[];const U=x.trans._cache;return i.mutate(x).then(W=>{if(gt(P)){A!=="delete"&&(P=W.results),L.addKeys(P);const V=gc(P,U);V||A==="add"||j.addKeys(P),(V||I)&&function(re,D,b,K){function B(ge){const ae=re(ge.name||"");function Ae(ue){return ue!=null?ge.extractKey(ue):null}const me=ue=>ge.multiEntry&&gt(ue)?ue.forEach(oe=>ae.addKey(oe)):ae.addKey(ue);(b||K).forEach((ue,oe)=>{const Ue=b&&Ae(b[oe]),Ke=K&&Ae(K[oe]);wt(Ue,Ke)!==0&&(Ue!=null&&me(Ue),Ke!=null&&me(Ke))})}D.indexes.forEach(B)}(O,s,V,I)}else if(P){const V={from:P.lower,to:P.upper};j.add(V),L.add(V)}else L.add(n),j.add(n),s.indexes.forEach(V=>O(V.name).add(n));return W})}},d=({query:{index:x,range:S}})=>{var $,O;return[x,new sn(($=S.lower)!==null&&$!==void 0?$:e.MIN_KEY,(O=S.upper)!==null&&O!==void 0?O:e.MAX_KEY)]},w={get:x=>[o,new sn(x.key)],getMany:x=>[o,new sn().addKeys(x.keys)],count:d,query:d,openCursor:d};return ot(w).forEach(x=>{u[x]=function(S){const{subscr:$}=be;if($){const O=I=>{const U=`idb://${t}/${r}/${I}`;return $[U]||($[U]=new sn)},L=O(""),j=O(":dels"),[A,P]=w[x](S);if(O(A.name||"").add(P),!A.isPrimaryKey){if(x!=="count"){const I=x==="query"&&c&&S.values&&i.query({...S,values:!1});return i[x].apply(this,arguments).then(U=>{if(x==="query"){if(c&&S.values)return I.then(({result:V})=>(L.addKeys(V),U));const W=S.values?U.result.map(l):U.result;S.values?L.addKeys(W):j.addKeys(W)}else if(x==="openCursor"){const W=U,V=S.values;return W&&Object.create(W,{key:{get:()=>(j.addKey(W.primaryKey),W.key)},primaryKey:{get(){const re=W.primaryKey;return j.addKey(re),re}},value:{get:()=>(V&&L.addKey(W.primaryKey),W.value)}})}return U})}j.add(n)}}return i[x].apply(this,arguments)}}),u}}}};class it{constructor(t,n){this._middlewares={},this.verno=0;const r=it.dependencies;this._options=n={addons:it.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ye,dbReadyPromise:null,cancelOpen:Ye,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new le(l=>{s.dbReadyResolve=l}),s.openCanceller=new le((l,c)=>{s.cancelOpen=c}),this._state=s,this.name=t,this.on=Lr(this,"populate","blocked","versionchange","close",{ready:[Bo,Ye]}),this.on.ready.subscribe=Vl(this.on.ready.subscribe,l=>(c,u)=>{it.vip(()=>{const d=this._state;if(d.openComplete)d.dbOpenError||le.resolve().then(c),u&&l(c);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(c),u&&l(c);else{l(c);const w=this;u||l(function x(){w.on.ready.unsubscribe(c),w.on.ready.unsubscribe(x)})}})}),this.Collection=(o=this,kr(Vh.prototype,function(l,c){this.db=o;let u=uc,d=null;if(c)try{u=c()}catch($){d=$}const w=l._ctx,x=w.table,S=x.hook.reading.fire;this._ctx={table:x,index:w.index,isPrimKey:!w.index||x.schema.primKey.keyPath&&w.index===x.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:d,or:w.or,valueMapper:S!==Jr?S:null}})),this.Table=function(l){return kr(Uh.prototype,function(c,u,d){this.db=l,this._tx=d,this.name=c,this.schema=u,this.hook=l._allTables[c]?l._allTables[c].hook:Lr(null,{creating:[Ah,Ye],reading:[Eh,Jr],updating:[$h,Ye],deleting:[Ph,Ye]})})}(this),this.Transaction=function(l){return kr(Jh.prototype,function(c,u,d,w,x){this.db=l,this.mode=c,this.storeNames=u,this.schema=d,this.chromeTransactionDurability=w,this.idbtrans=null,this.on=Lr(this,"complete","error","abort"),this.parent=x||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new le((S,$)=>{this._resolve=S,this._reject=$}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},S=>{var $=this.active;return this.active=!1,this.on.error.fire(S),this.parent?this.parent._reject(S):$&&this.idbtrans&&this.idbtrans.abort(),lt(S)})})}(this),this.Version=function(l){return kr(Qh.prototype,function(c){this.db=l,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(l){return kr(hc.prototype,function(c,u,d){this.db=l,this._ctx={table:c,index:u===":id"?null:u,or:d};const w=l._deps.indexedDB;if(!w)throw new De.MissingAPI;this._cmp=this._ascending=w.cmp.bind(w),this._descending=(x,S)=>w.cmp(S,x),this._max=(x,S)=>w.cmp(x,S)>0?x:S,this._min=(x,S)=>w.cmp(x,S)<0?x:S,this._IDBKeyRange=l._deps.IDBKeyRange})}(this),this.on("versionchange",l=>{l.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",l=>{!l.newVersion||l.newVersion<l.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${l.oldVersion/10}`)}),this._maxKey=Xr(n.IDBKeyRange),this._createTransaction=(l,c,u,d)=>new this.Transaction(l,c,u,this._options.chromeTransactionDurability,d),this._fireOnBlocked=l=>{this.on("blocked").fire(l),Mr.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(l))},this.use(nd),this.use(rd),this.use(od),this.use(id),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(l=>l(this))}version(t){if(isNaN(t)||t<.1)throw new De.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new De.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(Gh),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?t():new le((n,r)=>{if(this._state.openComplete)return r(new De.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new De.DatabaseClosed);this.open().catch(Ye)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:n,level:r??10,name:i}),s.sort((o,l)=>o.level-l.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return ed(this)}_close(){const t=this._state,n=Mr.indexOf(this);if(n>=0&&Mr.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new le(r=>{t.dbReadyResolve=r}),t.openCanceller=new le((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new De.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new le((r,i)=>{const s=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=Ze(()=>{(function({indexedDB:l,IDBKeyRange:c},u){!Ho(l)&&u!==ts&&Vo(l,c).delete(u).catch(Ye)})(this._deps,this.name),r()}),o.onerror=Gt(i),o.onblocked=this._fireOnBlocked};if(t)throw new De.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ot(this._allTables).map(t=>this._allTables[t])}transaction(){const t=td.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=be.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const s=t.indexOf("?")!==-1;let o,l;t=t.replace("!","").replace("?","");try{if(l=n.map(u=>{var d=u instanceof this.Table?u.name:u;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),t=="r"||t===ys)o=ys;else{if(t!="rw"&&t!=ms)throw new De.InvalidArgument("Invalid transaction mode: "+t);o=ms}if(i){if(i.mode===ys&&o===ms){if(!s)throw new De.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&l.forEach(u=>{if(i&&i.storeNames.indexOf(u)===-1){if(!s)throw new De.SubTransaction("Table "+u+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(u){return i?i._promise(null,(d,w)=>{w(u)}):lt(u)}const c=mc.bind(null,this,o,l,i,r);return i?i._promise(o,c,"lock"):be.trans?Dr(be.transless,()=>this._whenReady(c)):this._whenReady(c)}table(t){if(!Pt(this._allTables,t))throw new De.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const ad=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class ld{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[ad](){return this}}function vc(e,t){return ot(t).forEach(n=>{Vi(e[n]||(e[n]=new sn),t[n])}),e}function cd(e){let t,n=!1;const r=new ld(i=>{const s=Mo(e);let o=!1,l={},c={};const u={get closed(){return o},unsubscribe:()=>{o=!0,Tn.storagemutated.unsubscribe(S)}};i.start&&i.start(u);let d=!1,w=!1;function x(){return ot(c).some(O=>l[O]&&sd(l[O],c[O]))}const S=O=>{vc(l,O),x()&&$()},$=()=>{if(d||o)return;l={};const O={},L=function(j){s&&Cr();const A=()=>kn(e,{subscr:j,trans:null}),P=be.trans?Dr(be.transless,A):A();return s&&P.then(hn,hn),P}(O);w||(Tn(Gr,S),w=!0),d=!0,Promise.resolve(L).then(j=>{n=!0,t=j,d=!1,o||(x()?$():(l={},c=O,i.next&&i.next(j)))},j=>{d=!1,n=!1,i.error&&i.error(j),u.unsubscribe()})};return $(),u});return r.hasValue=()=>n,r.getValue=()=>t,r}let lo;try{lo={indexedDB:Xe.indexedDB||Xe.mozIndexedDB||Xe.webkitIndexedDB||Xe.msIndexedDB,IDBKeyRange:Xe.IDBKeyRange||Xe.webkitIDBKeyRange}}catch{lo={indexedDB:null,IDBKeyRange:null}}const Fn=it;function Ai(e){let t=an;try{an=!0,Tn.storagemutated.fire(e)}finally{an=t}}gr(Fn,{...Di,delete:e=>new Fn(e,{addons:[]}).delete(),exists:e=>new Fn(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return Ho(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==ts)):Vo(t,n).toCollection().primaryKeys()}(Fn.dependencies).then(e)}catch{return lt(new De.MissingAPI)}},defineClass:()=>function(e){xt(this,e)},ignoreTransaction:e=>be.trans?Dr(be.transless,e):e(),vip:so,async:function(e){return function(){try{var t=oo(e.apply(this,arguments));return t&&typeof t.then=="function"?t:le.resolve(t)}catch(n){return lt(n)}}},spawn:function(e,t,n){try{var r=oo(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:le.resolve(r)}catch(i){return lt(i)}},currentTransaction:{get:()=>be.trans||null},waitFor:function(e,t){const n=le.resolve(typeof e=="function"?Fn.ignoreTransaction(e):e).timeout(t||6e4);return be.trans?be.trans.waitFor(n):n},Promise:le,debug:{get:()=>en,set:e=>{zl(e,e==="dexie"?()=>!0:cc)}},derive:fr,extend:xt,props:gr,override:Vl,Events:Lr,on:Tn,liveQuery:cd,extendObservabilitySet:vc,getByKeyPath:cn,setByKeyPath:zt,delByKeyPath:function(e,t){typeof t=="string"?zt(e,t,void 0):"length"in t&&[].map.call(t,function(n){zt(e,n,void 0)})},shallowClone:Yl,deepClone:ti,getObjectDiff:qo,cmp:wt,asap:Hl,minKey:Xs,addons:[],connections:Mr,errnames:jo,dependencies:lo,semVer:Na,version:Na.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),Fn.maxKey=Xr(Fn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Tn(Gr,e=>{if(!an){let t;es?(t=document.createEvent("CustomEvent"),t.initCustomEvent(_n,!0,!0,e)):t=new CustomEvent(_n,{detail:e}),an=!0,dispatchEvent(t),an=!1}}),addEventListener(_n,({detail:e})=>{an||Ai(e)}));let an=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(_n);typeof e.unref=="function"&&e.unref(),Tn(Gr,t=>{an||e.postMessage(t)}),e.onmessage=t=>{t.data&&Ai(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Tn(Gr,t=>{try{an||(typeof localStorage<"u"&&localStorage.setItem(_n,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:_n,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===_n){const n=JSON.parse(t.newValue);n&&Ai(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===_n&&Ai(t.changedParts)})}le.rejectionMapper=function(e,t){if(!e||e instanceof hr||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Ea[e.name])return e;var n=new Ea[e.name](t||e.message,e);return"stack"in e&&ln(n,"stack",{get:function(){return this.inner.stack}}),n},zl(en,cc);const un=new it("avito_scraper");function ud(e=1){un.version(e).stores({reviewsFilter:`
            key,
            productName, 
            dateFrom, 
            dateTo, 
            ratingFrom, 
            ratingTo, 
            scrollInterval, 
            deliveryOnly, 
            *profilesLinks
        `})}async function fd(e){const t=JSON.parse(JSON.stringify(e));t.profilesLinks.forEach(r=>r.status="new"),(await un.reviewsFilter.where("key").equals("reviewsFilter").toArray()).length?un.reviewsFilter.update("reviewsFilter",{...t,key:"reviewsFilter"}):un.reviewsFilter.add({...t,key:"reviewsFilter"})}async function hd(){const e=await un.reviewsFilter.where("key").equals("reviewsFilter").toArray();if(e.length&&e[0]){const t={...e[0]};return delete t.key,t}return null}async function dd(){await un.reviewsFilter.where("key").equals("reviewsFilter").delete()}const Ie=wr({profilesLinks:[{url:"",status:"new"}],productName:"",dateFrom:"",dateTo:"",ratingFrom:4,ratingTo:5,scrollInterval:2,deliveryOnly:!1});function bc(){return Ie.profilesLinks.find(t=>t.status==="new")||null}function ws(e){return e&&Ie.profilesLinks.find(n=>n.url===e)||null}function Ka(){Ie.profilesLinks.push({status:"new",url:""})}function pd(e){Ie.profilesLinks.splice(e,1)}const yd=["onSubmit"],md={class:"grid grid-cols-4 gap-5"},gd={class:"col-span-4"},vd=q("div",{class:"text-sm font-medium mb-2"},"  ",-1),bd={class:"flex-none select-none"},_d={key:0,class:"font-icon text-3xl block text-green-400"},wd={key:1,class:"font-icon text-3xl block text-red-400"},xd={key:2,class:"font-icon text-3xl block text-green-400 animate-spin"},Cd={key:3,class:"font-icon text-3xl block text-gray-400"},Dd=["onUpdate:modelValue"],kd={key:0,class:"flex-none cursor-pointer select-none"},Sd=["onClick"],Td={class:"flex-none cursor-pointer select-none ml-auto"},Od=q("div",{class:"mb-2 text-sm font-medium"}," ",-1),Ed=q("div",{class:"mb-2 text-sm font-medium"}," ",-1),Ad={class:"col-span-2"},Pd=q("div",{class:"mb-2 text-sm font-medium"}," ",-1),$d=q("div",{class:"mb-2 text-sm font-medium"}," ",-1),Nd=q("div",{class:"mb-2 text-sm font-medium"}," ",-1),Id={class:"col-span-2"},Fd=q("div",{class:"mb-2 text-sm font-medium"},"   (  )",-1),Md={class:"col-span-4 select-none"},Ld={class:"inline-block"},jd=q("div",{class:"mb-3 text-sm font-medium"},"  ",-1),Bd={class:"flex items-center gap-4 mt-10"},Rd=En({__name:"ReviewsFilter",setup(e,{expose:t}){const n=ei(),r=Wn({}),i={dateFrom:null,dateTo:null},s={autoClose:!0,onSelect:({formattedDate:x,datepicker:S})=>{S.$el.id==="dateFrom"&&(Ie.dateFrom=x),S.$el.id==="dateTo"&&(Ie.dateTo=x)}};async function o(){const x=await hd();x&&(Ie.profilesLinks=x.profilesLinks,Ie.ratingFrom=x.ratingFrom,Ie.ratingTo=x.ratingTo,Ie.deliveryOnly=x.deliveryOnly,Ie.productName=x.productName,Ie.scrollInterval=x.scrollInterval,i.dateFrom.selectDate(x.dateFrom),i.dateTo.selectDate(x.dateTo))}async function l(){window.confirm("  ?")&&(Ie.profilesLinks=[{url:"",status:"new"}],Ie.productName="",Ie.ratingFrom=4,Ie.ratingTo=5,Ie.scrollInterval=2,Ie.deliveryOnly=!1,i.dateFrom.selectDate(Oa()),i.dateTo.selectDate(new Date),await dd(),n==null||n.show("warning",Et.FilterCleared))}async function c(){try{const x={...Ie};x.dateFrom=i.dateFrom.selectedDates[0].toString(),x.dateTo=i.dateTo.selectedDates[0].toString(),await fd(x),n==null||n.show("success",Et.FilterSaved)}catch{}}async function u(){await c()}async function d(){await c(),await w()}async function w(){try{const x=bc();if(x){const S=await gh(x==null?void 0:x.url);r.value=S,S.id&&chrome.tabs.sendMessage(S.id,{action:"reviews-parsing-start",filterFields:Ie,currentUrl:x.url})}}catch{n==null||n.show("error",Et.TabOpenError)}}return t({onSubmit:w}),xr(()=>{i.dateFrom=new Ta("#dateFrom",s),i.dateTo=new Ta("#dateTo",s),i.dateFrom.selectDate(Oa()),i.dateTo.selectDate(new Date),setTimeout(()=>{o()},0)}),Oo(()=>{i.dateFrom.destroy(),i.dateTo.destroy()}),(x,S)=>(we(),Oe("form",{class:"pb-20",onSubmit:Wt(d,["prevent"])},[q("div",md,[q("div",gd,[vd,(we(!0),Oe(st,null,Kn(ke(Ie).profilesLinks,($,O)=>(we(),Oe("div",{key:O,class:At(["flex items-center gap-4",O>0?"mt-5":""])},[q("div",bd,[$.status==="success"?(we(),Oe("i",_d,"check_circle")):rt("",!0),$.status==="error"?(we(),Oe("i",wd,"cancel")):rt("",!0),$.status==="wait"?(we(),Oe("i",xd,"rotate_right")):rt("",!0),$.status==="new"?(we(),Oe("i",Cd,"watch_later")):rt("",!0)]),Pn(q("input",{"onUpdate:modelValue":L=>$.url=L,tabindex:"1",type:"search",required:"",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,8,Dd),[[In,$.url]]),ke(Ie).profilesLinks.length>1?(we(),Oe("div",kd,[q("i",{class:"font-icon text-3xl block text-red-400",onClick:L=>ke(pd)(O)},"remove_circle_outline",8,Sd)])):rt("",!0),q("div",Td,[q("i",{class:"font-icon text-3xl block text-green-400",onClick:S[0]||(S[0]=(...L)=>ke(Ka)&&ke(Ka)(...L))},"add_circle_outline")])],2))),128))]),q("div",null,[Od,Pn(q("input",{"onUpdate:modelValue":S[1]||(S[1]=$=>ke(Ie).dateFrom=$),tabindex:"2",required:"",autocomplete:"off",type:"text",id:"dateFrom",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[In,ke(Ie).dateFrom]])]),q("div",null,[Ed,Pn(q("input",{"onUpdate:modelValue":S[2]||(S[2]=$=>ke(Ie).dateTo=$),tabindex:"3",autocomplete:"off",required:"",type:"text",id:"dateTo",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[In,ke(Ie).dateTo]])]),q("div",Ad,[Pd,Pn(q("input",{"onUpdate:modelValue":S[3]||(S[3]=$=>ke(Ie).productName=$),tabindex:"9",type:"search",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[In,ke(Ie).productName]])]),q("div",null,[$d,Pn(q("input",{"onUpdate:modelValue":S[4]||(S[4]=$=>ke(Ie).ratingFrom=$),tabindex:"4",type:"number",min:"1",max:"5",required:"",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[In,ke(Ie).ratingFrom]])]),q("div",null,[Nd,Pn(q("input",{"onUpdate:modelValue":S[5]||(S[5]=$=>ke(Ie).ratingTo=$),tabindex:"5",type:"number",min:"1",max:"5",required:"",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[In,ke(Ie).ratingTo]])]),q("div",Id,[Fd,Pn(q("input",{"onUpdate:modelValue":S[6]||(S[6]=$=>ke(Ie).scrollInterval=$),tabindex:"10",type:"number",min:"0",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[In,ke(Ie).scrollInterval]])]),q("div",Md,[q("label",Ld,[jd,et(mh,{tabindex:6,modelValue:ke(Ie).deliveryOnly,"onUpdate:modelValue":S[7]||(S[7]=$=>ke(Ie).deliveryOnly=$)},null,8,["modelValue"])])])]),q("div",Bd,[et(Vt,{tabindex:"7",theme:"success",type:"submit",icon:"find_in_page"},{default:Kt(()=>[Jt(" ")]),_:1}),et(Vt,{tabindex:"8",theme:"info",type:"button",icon:"save",onClick:Wt(u,["stop","prevent"])},{default:Kt(()=>[Jt(" ")]),_:1},8,["onClick"]),et(Vt,{tabindex:"11",theme:"warning",type:"button",icon:"restore",onClick:Wt(l,["stop","prevent"])},{default:Kt(()=>[Jt(" ")]),_:1},8,["onClick"])])],40,yd))}});async function _c(e){let t=[];const n={parsingDate:e.parsingDate,deliveryInfo:e.deliveryInfo,profileId:e.id||0,profileUrl:e.url,reviewsCount:e.reviewsCount,subscribers:e.subscribers,rating:e.rating},{parsingResults:r}=await chrome.storage.local.get("parsingResults");r&&(t=[...r]),t.unshift(n),await chrome.storage.local.set({parsingResults:t})}async function Ua(e){let t=[];const{parsingResults:n}=await chrome.storage.local.get("parsingResults");return n&&(t=n.filter(r=>r.profileUrl===e)),t}const Br=Wn([]),xs=Wn([]);async function Kd(e){let t;return e&&(t=await Hd(e.url)),t||null}function Ud(e){const t={...e,opened:!1,loading:!1};Br.value.push(t)}async function Vd(e){let{profileList:t}=await chrome.storage.local.get("profileList");return t||[]}async function Hd(e){let t=null;const{profileList:n}=await chrome.storage.local.get("profileList");if(n){let r=n.find(i=>i.url===e);r&&(t=r)}return t}async function qd(e){let t=[],n={...e};n.id=Date.now(),n.savedDate=Date.now();const{profileList:r}=await chrome.storage.local.get("profileList");return r&&(t=[...r]),t.unshift(n),await chrome.storage.local.set({profileList:t}),n}async function Yd(e){let{profileList:t}=await chrome.storage.local.get("profileList");t&&(t=t.filter(n=>n.id!==e),await chrome.storage.local.set({profileList:t}))}const wc=wr([]);function Jd(e){const t=wc.filter(n=>n.profileUrl===e);return t.length?t:[]}const Wd={class:"space-y-2"},zd={class:"flex items-center"},Gd={class:"font-bold"},Xd={class:"flex items-center"},Qd=["href"],Zd={class:"flex items-center"},ep={class:"font-bold"},tp={class:"flex items-center"},np={class:"font-bold"},rp={class:"flex items-center"},ip={class:"font-bold"},sp={class:"flex items-center"},op={class:"font-bold"},ap={class:"flex items-center"},lp=q("div",{class:"mr-3 opacity-80"}," :",-1),cp={class:"font-bold"},up={key:0,class:"flex items-center"},fp=q("div",{class:"mr-3 opacity-80"}," :",-1),hp={class:"font-bold"},dp={key:1,class:"flex items-center"},pp=q("div",{class:"mr-3 opacity-80"},"ID:",-1),yp={class:"font-bold"},mp={class:"flex items-center"},gp=q("div",{class:"mr-3 opacity-80"},"  :",-1),vp={class:"font-bold"},bp={class:"flex items-center gap-4 mt-5 empty:hidden"},_p={key:0,class:"mt-10"},wp={class:"mb-8 font-bold text-xl"},xp={class:"w-full relative"},Cp=q("tr",{class:"text-[16px] sticky top-[70px] bg-gray-600"},[q("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},""),q("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},""),q("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"}," "),q("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},"")],-1),Dp={class:"px-4 py-2 border border-white border-opacity-50 font-medium"},kp={class:"px-4 py-2 border border-white border-opacity-50"},Sp={class:"flex-none flex items-center"},Tp={class:"text-base font-medium mr-1"},Op={class:"text-[18px] font-icon text-yellow-400"},Ep={class:"px-4 py-2 border border-white border-opacity-50"},Ap={class:"flex items-center gap-4"},Pp=["onClick"],$p={class:"px-4 py-2 border border-white border-opacity-50"},Np={key:1,class:"text-center text-xl font-bold mt-10"},Ip={key:1,class:"text-center text-xl font-bold"},Fp=En({__name:"ProfileInfoList",setup(e){const t=ei();async function n(s){var o;try{const l=await qd(s);t==null||t.show("success",Et.ProfileCreated),s.id=l.id,s.existsInDataBase=!0,s.savedDate=l.savedDate,(o=s.reviewsList)!=null&&o.length&&await _c(s)}catch{}finally{}}async function r(s){var l;let o="";o+=`${s.name}
`,o+=`${s.url}
`,o+=`${s.rating}
`,o+=`${s.reviewsCount}
`,o+=`${s.subscribers}
`,o+=`${s.deliveryInfo}



`,o+=`${rr(s.parsingDate)}
`,(l=s.reviewsList)==null||l.forEach(c=>{let u=new Date(c.date),d=new Intl.DateTimeFormat("ru",{month:"2-digit"}).format(u),w=new Intl.DateTimeFormat("ru",{year:"numeric"}).format(u);o+=`${c.productName}~${d}.${w}${c.delivery?"~Delivery":""}
`}),o&&(Ls(o),t==null||t.show("success",Et.InfoCopied))}function i(s){Ls(s),t==null||t.show("success",Et.ProductNameCopied)}return xr(()=>{Br.value.forEach(async s=>{s.reviewsList=Jd(s.url);const o=await Kd(s);o&&(s.existsInDataBase=!0,s.id=o.id)})}),(s,o)=>ke(Br).length?(we(!0),Oe(st,{key:0},Kn(ke(Br),l=>{var c,u;return we(),Oe("div",{key:l.url,class:"rounded-xl shadow-xl bg-gray-600 p-5 mb-5 text-[16px]"},[q("div",null,[q("div",Wd,[q("div",zd,[q("div",Gd,qe(l.name),1)]),q("div",Xd,[q("a",{href:l.url,target:"_blank"},qe(l.url),9,Qd)]),q("div",Zd,[q("div",ep,qe(l.rating),1)]),q("div",tp,[q("div",np,qe(l.reviewsCount),1)]),q("div",rp,[q("div",ip,qe(l.subscribers),1)]),q("div",sp,[q("div",op,qe(l.deliveryInfo),1)]),q("div",ap,[lp,q("div",cp,qe(ke(rr)(l.parsingDate)),1)]),l.savedDate?(we(),Oe("div",up,[fp,q("div",hp,qe(ke(rr)(l.savedDate)),1)])):rt("",!0),l.id?(we(),Oe("div",dp,[pp,q("div",yp,qe(l.id),1)])):rt("",!0),q("div",mp,[gp,q("div",vp,[q("strong",{class:At([l.existsInDataBase?"text-green-400":"text-red-400"])},qe(l.existsInDataBase?"":""),3)])])]),q("div",null,[q("div",bp,[(c=l.reviewsList)!=null&&c.length?(we(),Zt(Vt,{key:0,type:"button",theme:"success",icon:"content_copy",onClick:Wt(d=>r(l),["prevent"])},{default:Kt(()=>[Jt(" ")]),_:2},1032,["onClick"])):rt("",!0),l.existsInDataBase?rt("",!0):(we(),Zt(Vt,{key:1,type:"button",icon:"cloud_upload",onClick:Wt(d=>n(l),["prevent"])},{default:Kt(()=>[Jt("  ")]),_:2},1032,["onClick"]))])])]),(u=l.reviewsList)!=null&&u.length?(we(),Oe("div",_p,[q("div",wp,[q("div",null,[Jt("  - "),q("strong",null,qe(l.reviewsList.length),1)])]),q("table",xp,[Cp,(we(!0),Oe(st,null,Kn(l.reviewsList,(d,w)=>{var x;return we(),Oe("tr",{key:w,class:"text-[14px] hover:bg-gray-600"},[q("td",Dp,qe((x=ke(rr)(d.date))==null?void 0:x.slice(0,10)),1),q("td",kp,[q("div",Sp,[q("div",Tp,"("+qe(d.rating)+") - ",1),(we(!0),Oe(st,null,Kn(d.rating,S=>(we(),Oe("div",Op,"star"))),256))])]),q("td",Ep,[q("div",Ap,[q("div",{class:"font-icon text-green-400 cursor-pointer",onClick:Wt(S=>i(d.productName),["stop"])},"content_copy",8,Pp),q("div",null,qe(d.productName),1)])]),q("td",$p,[q("strong",{class:At(d.delivery?"text-green-400":"text-red-400")},qe(d.delivery?"":""),3)])])}),128))])])):(we(),Oe("div",Np,"  "))])}),128)):(we(),Oe("div",Ip,"  "))}});const Mp=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Lp={},jp=q("svg",{class:"spinner",viewBox:"0 0 50 50"},[q("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none","stroke-width":"5"})],-1),Bp=[jp];function Rp(e,t){return we(),Oe("div",null,Bp)}const co=Mp(Lp,[["render",Rp]]),Kp={key:0,class:"flex justify-center"},Up=["onClick"],Vp={class:"text-xl w-1/3 min-w-0 font-medium"},Hp={class:"text-[16px] text-gray-300 font-medium"},qp={class:"text-[16px] text-blue-300 font-medium"},Yp={class:"text-[16px] text-yellow-300 font-medium"},Jp={class:"text-[16px] text-teal-300 font-medium"},Wp=["onClick"],zp=q("i",{class:"font-icon text-3xl text-green-500"},"open_in_new",-1),Gp=[zp],Xp=["onClick"],Qp=q("i",{class:"font-icon text-3xl text-sky-500"},"content_copy",-1),Zp=[Qp],ey=["onClick"],ty=q("i",{class:"font-icon text-3xl text-red-400"},"delete_forever",-1),ny=[ty],ry={key:0,class:"text-[14px] px-4 p-5"},iy={key:0,class:"flex justify-center"},sy={key:1,class:"w-full"},oy=q("tr",null,[q("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"}," "),q("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},""),q("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},""),q("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},""),q("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},"  ")],-1),ay={class:"text-left px-4 py-2 border border-white border-opacity-50"},ly={class:"text-left px-4 py-2 border border-white border-opacity-50"},cy={class:"text-left px-4 py-2 border border-white border-opacity-50"},uy={class:"text-left px-4 py-2 border border-white border-opacity-50"},fy={class:"text-left px-4 py-2 border border-white border-opacity-50"},hy={key:2,class:"text-center text-xl font-medium"},dy={key:2,class:"text-center text-xl font-bold"},py=En({__name:"ProfileSavedList",setup(e){const t=ei(),n=Wn(!1);function r(c){c.url&&window.open(c.url,"_blank")}function i(c){c.url&&(Ls(c.url),t==null||t.show("success",Et.ProfileLinkCopied))}async function s(c){if(c.opened=!c.opened,!c.opened)c.loading=!1,c.paringResults=[];else try{c.loading=!0;const u=await Ua(c.url);u.length&&(c.paringResults=u)}catch{}finally{c.loading=!1}}async function o(c){window.confirm(` "${c.name}" ?`)&&c.id&&(await Ua(c.url),await Yd(c.id),t==null||t.show("success",Et.ProfileDeleted),l())}async function l(){try{n.value=!0;const u=(await Vd()).map(d=>({...d,loading:!1,opened:!1,paringResults:[]}));xs.value=u}catch{}finally{n.value=!1}}return xr(async()=>{l()}),(c,u)=>n.value?(we(),Oe("div",Kp,[et(co,{class:"w-10 h-10 flex-none"})])):ke(xs).length?(we(!0),Oe(st,{key:1},Kn(ke(xs),d=>{var w;return we(),Oe("div",{key:d.id,class:At([d.opened?"ring ring-blue-400":"","rounded-lg bg-gray-600 shadow-xl mb-3"])},[q("div",{class:"px-4 py-2 flex items-center gap-4 select-none cursor-pointer",onClick:x=>s(d)},[q("div",Vp,qe(d.name),1),q("div",Hp,qe(ke(rr)(d.savedDate)),1),q("div",qp,qe(d.rating),1),q("div",Yp,qe(d.reviewsCount),1),q("div",Jp,qe(d.subscribers),1),q("div",{class:"flex-none ml-auto",onClick:Wt(x=>r(d),["stop"])},Gp,8,Wp),q("div",{class:"flex-none",onClick:Wt(x=>i(d),["stop"])},Zp,8,Xp),q("div",{class:"flex-none",onClick:Wt(x=>o(d),["stop"])},ny,8,ey)],8,Up),d.opened?(we(),Oe("div",ry,[d.loading?(we(),Oe("div",iy,[et(co,{class:"w-6 h-6"})])):rt("",!0),(w=d.paringResults)!=null&&w.length?(we(),Oe("table",sy,[oy,(we(!0),Oe(st,null,Kn(d.paringResults,x=>(we(),Oe("tr",null,[q("td",ay,qe(ke(rr)(x.parsingDate)),1),q("td",ly,qe(x.rating),1),q("td",cy,qe(x.reviewsCount),1),q("td",uy,qe(x.subscribers),1),q("td",fy,qe(x.deliveryInfo),1)]))),256))])):(we(),Oe("div",hy,"  "))])):rt("",!0)],2)}),128)):(we(),Oe("div",dy,"  "))}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function On(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{u(r.next(d))}catch(w){o(w)}}function c(d){try{u(r.throw(d))}catch(w){o(w)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function Ht(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function yy(e){var t=[e.schema.primKey].concat(e.schema.indexes);return t.map(function(n){return n.src}).join(",")}function my(e){for(var t={},n=0,r=e.tables;n<r.length;n++){var i=r[n];t[i.name]=i.schema}return t}function xc(e,t){return new Promise(function(n,r){var i=new FileReader;i.onabort=function(s){return r(new Error("file read aborted"))},i.onerror=function(s){return r(s.target.error)},i.onload=function(s){return n(s.target.result)},t==="binary"?i.readAsArrayBuffer(e):i.readAsText(e)})}function Cc(e,t){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var n=new FileReaderSync,r=t==="binary"?n.readAsArrayBuffer(e):n.readAsText(e);return r}var uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jo(e,t){return t={exports:{}},e(t,t.exports),t.exports}var ns=Jo(function(e,t){(function(n,r){e.exports=r()})(uo,function(){function n(R){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(z){return typeof z}:n=function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},n(R)}function r(R,z,Y,X,k,a,f){try{var p=R[a](f),y=p.value}catch(g){Y(g);return}p.done?z(y):Promise.resolve(y).then(X,k)}function i(R){return function(){var z=this,Y=arguments;return new Promise(function(X,k){var a=R.apply(z,Y);function f(y){r(a,X,k,f,p,"next",y)}function p(y){r(a,X,k,f,p,"throw",y)}f(void 0)})}}function s(R,z){if(!(R instanceof z))throw new TypeError("Cannot call a class as a function")}function o(R,z){for(var Y=0;Y<z.length;Y++){var X=z[Y];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(R,X.key,X)}}function l(R,z,Y){return z&&o(R.prototype,z),Y&&o(R,Y),R}function c(R,z,Y){return z in R?Object.defineProperty(R,z,{value:Y,enumerable:!0,configurable:!0,writable:!0}):R[z]=Y,R}function u(R,z){var Y=Object.keys(R);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(R);z&&(X=X.filter(function(k){return Object.getOwnPropertyDescriptor(R,k).enumerable})),Y.push.apply(Y,X)}return Y}function d(R){for(var z=1;z<arguments.length;z++){var Y=arguments[z]!=null?arguments[z]:{};z%2?u(Object(Y),!0).forEach(function(X){c(R,X,Y[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(Y)):u(Object(Y)).forEach(function(X){Object.defineProperty(R,X,Object.getOwnPropertyDescriptor(Y,X))})}return R}function w(R,z){return $(R)||L(R,z)||A()}function x(R){return S(R)||O(R)||j()}function S(R){if(Array.isArray(R)){for(var z=0,Y=new Array(R.length);z<R.length;z++)Y[z]=R[z];return Y}}function $(R){if(Array.isArray(R))return R}function O(R){if(Symbol.iterator in Object(R)||Object.prototype.toString.call(R)==="[object Arguments]")return Array.from(R)}function L(R,z){if(Symbol.iterator in Object(R)||Object.prototype.toString.call(R)==="[object Arguments]"){var Y=[],X=!0,k=!1,a=void 0;try{for(var f=R[Symbol.iterator](),p;!(X=(p=f.next()).done)&&(Y.push(p.value),!(z&&Y.length===z));X=!0);}catch(y){k=!0,a=y}finally{try{!X&&f.return!=null&&f.return()}finally{if(k)throw a}}return Y}}function j(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var P=function R(z){s(this,R),this.p=new Promise(z)};P.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(P.prototype[Symbol.toStringTag]="TypesonPromise"),P.prototype.then=function(R,z){var Y=this;return new P(function(X,k){Y.p.then(function(a){X(R?R(a):a)}).catch(function(a){return z?z(a):Promise.reject(a)}).then(X,k)})},P.prototype.catch=function(R){return this.then(null,R)},P.resolve=function(R){return new P(function(z){z(R)})},P.reject=function(R){return new P(function(z,Y){Y(R)})},["all","race"].forEach(function(R){P[R]=function(z){return new P(function(Y,X){Promise[R](z.map(function(k){return k&&k.constructor&&k.constructor.__typeson__type__==="TypesonPromise"?k.p:k})).then(Y,X)})}});var I={},U=I.toString,W={}.hasOwnProperty,V=Object.getPrototypeOf,re=W.toString;function D(R,z){return ae(R)&&typeof R.then=="function"&&(!z||typeof R.catch=="function")}function b(R){return U.call(R).slice(8,-1)}function K(R,z){if(!R||n(R)!=="object")return!1;var Y=V(R);if(!Y)return z===null;var X=W.call(Y,"constructor")&&Y.constructor;return typeof X!="function"?z===null:z===X||z!==null&&re.call(X)===re.call(z)||typeof z=="function"&&typeof X.__typeson__type__=="string"&&X.__typeson__type__===z.__typeson__type__}function B(R){if(!R||b(R)!=="Object")return!1;var z=V(R);return z?K(R,Object):!0}function ge(R){if(!R||b(R)!=="Object")return!1;var z=V(R);return z?K(R,Object)||ge(z):!0}function ae(R){return R&&n(R)==="object"}function Ae(R){return R.replace(/~/g,"~0").replace(/\./g,"~1")}function me(R){return R.replace(/~1/g,".").replace(/~0/g,"~")}function ue(R,z){if(z==="")return R;var Y=z.indexOf(".");if(Y>-1){var X=R[me(z.slice(0,Y))];return X===void 0?void 0:ue(X,z.slice(Y+1))}return R[me(z)]}function oe(R,z,Y){if(z==="")return Y;var X=z.indexOf(".");if(X>-1){var k=R[me(z.slice(0,X))];return oe(k,z.slice(X+1),Y)}return R[me(z)]=Y,R}function Ue(R){return R===null?"null":Array.isArray(R)?"array":n(R)}var Ke=Object.keys,Qe=Array.isArray,Be={}.hasOwnProperty,kt=["type","replaced","iterateIn","iterateUnsetNumeric"];function pe(R,z){if(R.keypath==="")return-1;var Y=R.keypath.match(/\./g)||0,X=z.keypath.match(/\./g)||0;return Y&&(Y=Y.length),X&&(X=X.length),Y>X?-1:Y<X?1:R.keypath<z.keypath?-1:R.keypath>z.keypath}var ce=function(){function R(z){s(this,R),this.options=z,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return l(R,[{key:"stringify",value:function(Y,X,k,a){a=d({},this.options,{},a,{stringification:!0});var f=this.encapsulate(Y,null,a);return Qe(f)?JSON.stringify(f[0],X,k):f.then(function(p){return JSON.stringify(p,X,k)})}},{key:"stringifySync",value:function(Y,X,k,a){return this.stringify(Y,X,k,d({throwOnBadSyncType:!0},a,{sync:!0}))}},{key:"stringifyAsync",value:function(Y,X,k,a){return this.stringify(Y,X,k,d({throwOnBadSyncType:!0},a,{sync:!1}))}},{key:"parse",value:function(Y,X,k){return k=d({},this.options,{},k,{parse:!0}),this.revive(JSON.parse(Y,X),k)}},{key:"parseSync",value:function(Y,X,k){return this.parse(Y,X,d({throwOnBadSyncType:!0},k,{sync:!0}))}},{key:"parseAsync",value:function(Y,X,k){return this.parse(Y,X,d({throwOnBadSyncType:!0},k,{sync:!1}))}},{key:"specialTypeNames",value:function(Y,X){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return k.returnTypeNames=!0,this.encapsulate(Y,X,k)}},{key:"rootTypeName",value:function(Y,X){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return k.iterateNone=!0,this.encapsulate(Y,X,k)}},{key:"encapsulate",value:function(Y,X,k){k=d({sync:!0},this.options,{},k);var a=k,f=a.sync,p=this,y={},g=[],_=[],C=[],E="cyclic"in k?k.cyclic:!0,F=k,M=F.encapsulateObserver,J=fe("",Y,E,X||{},C);function H(te){var m=Object.values(y);if(k.iterateNone)return m.length?m[0]:R.getJSONType(te);if(m.length){if(k.returnTypeNames)return x(new Set(m));!te||!B(te)||Be.call(te,"$types")?te={$:te,$types:{$:y}}:te.$types=y}else ae(te)&&Be.call(te,"$types")&&(te={$:te,$types:!0});return k.returnTypeNames?!1:te}function G(te,m){return Z.apply(this,arguments)}function Z(){return Z=i(regeneratorRuntime.mark(function te(m,h){var v;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,Promise.all(h.map(function(Q){return Q[1].p}));case 2:return v=N.sent,N.next=5,Promise.all(v.map(function(){var Q=i(regeneratorRuntime.mark(function ee(de){var se,xe,Pe,$e,Ve,je,Me,Je,We,Te,ut,he,ne,_e;return regeneratorRuntime.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(se=[],xe=h.splice(0,1),Pe=w(xe,1),$e=Pe[0],Ve=w($e,7),je=Ve[0],Me=Ve[2],Je=Ve[3],We=Ve[4],Te=Ve[5],ut=Ve[6],he=fe(je,de,Me,Je,se,!0,ut),ne=K(he,P),!(je&&ne)){Ce.next=11;break}return Ce.next=8,he.p;case 8:return _e=Ce.sent,We[Te]=_e,Ce.abrupt("return",G(m,se));case 11:return je?We[Te]=he:ne?m=he.p:m=he,Ce.abrupt("return",G(m,se));case 13:case"end":return Ce.stop()}},ee)}));return function(ee){return Q.apply(this,arguments)}}()));case 5:return N.abrupt("return",m);case 6:case"end":return N.stop()}},te)})),Z.apply(this,arguments)}function ie(te,m,h){Object.assign(te,m);var v=kt.map(function(T){var N=te[T];return delete te[T],N});h(),kt.forEach(function(T,N){te[T]=v[N]})}function fe(te,m,h,v,T,N,Q){var ee,de={},se=n(m),xe=M?function(ne){var _e=Q||v.type||R.getJSONType(m);M(Object.assign(ne||de,{keypath:te,value:m,cyclic:h,stateObj:v,promisesData:T,resolvingTypesonPromise:N,awaitingTypesonPromise:K(m,P)},{type:_e}))}:null;if(["string","boolean","number","undefined"].includes(se))return m===void 0||se==="number"&&(isNaN(m)||m===-1/0||m===1/0)?(v.replaced?ee=m:ee=ye(te,m,v,T,!1,N,xe),ee!==m&&(de={replaced:ee})):ee=m,xe&&xe(),ee;if(m===null)return xe&&xe(),m;if(h&&!v.iterateIn&&!v.iterateUnsetNumeric&&m&&n(m)==="object"){var Pe=g.indexOf(m);if(Pe<0)h===!0&&(g.push(m),_.push(te));else return y[te]="#",xe&&xe({cyclicKeypath:_[Pe]}),"#"+_[Pe]}var $e=B(m),Ve=Qe(m),je=($e||Ve)&&(!p.plainObjectReplacers.length||v.replaced)||v.iterateIn?m:ye(te,m,v,T,$e||Ve,null,xe),Me;if(je!==m?(ee=je,de={replaced:je}):te===""&&K(m,P)?(T.push([te,m,h,v,void 0,void 0,v.type]),ee=m):Ve&&v.iterateIn!=="object"||v.iterateIn==="array"?(Me=new Array(m.length),de={clone:Me}):!["function","symbol"].includes(n(m))&&!("toJSON"in m)&&!K(m,P)&&!K(m,Promise)&&!K(m,ArrayBuffer)||$e||v.iterateIn==="object"?(Me={},v.addLength&&(Me.length=m.length),de={clone:Me}):ee=m,xe&&xe(),k.iterateNone)return Me||ee;if(!Me)return ee;if(v.iterateIn){var Je=function(_e){var ve={ownKeys:Be.call(m,_e)};ie(v,ve,function(){var Ce=te+(te?".":"")+Ae(_e),Ne=fe(Ce,m[_e],!!h,v,T,N);K(Ne,P)?T.push([Ce,Ne,!!h,v,Me,_e,v.type]):Ne!==void 0&&(Me[_e]=Ne)})};for(var We in m)Je(We);xe&&xe({endIterateIn:!0,end:!0})}else Ke(m).forEach(function(ne){var _e=te+(te?".":"")+Ae(ne),ve={ownKeys:!0};ie(v,ve,function(){var Ce=fe(_e,m[ne],!!h,v,T,N);K(Ce,P)?T.push([_e,Ce,!!h,v,Me,ne,v.type]):Ce!==void 0&&(Me[ne]=Ce)})}),xe&&xe({endIterateOwn:!0,end:!0});if(v.iterateUnsetNumeric){for(var Te=m.length,ut=function(_e){if(!(_e in m)){var ve=te+(te?".":"")+_e,Ce={ownKeys:!1};ie(v,Ce,function(){var Ne=fe(ve,void 0,!!h,v,T,N);K(Ne,P)?T.push([ve,Ne,!!h,v,Me,_e,v.type]):Ne!==void 0&&(Me[_e]=Ne)})}},he=0;he<Te;he++)ut(he);xe&&xe({endIterateUnsetNumeric:!0,end:!0})}return Me}function ye(te,m,h,v,T,N,Q){for(var ee=T?p.plainObjectReplacers:p.nonplainObjectReplacers,de=ee.length;de--;){var se=ee[de];if(se.test(m,h)){var xe=se.type;if(p.revivers[xe]){var Pe=y[te];y[te]=Pe?[xe].concat(Pe):xe}if(Object.assign(h,{type:xe,replaced:!0}),(f||!se.replaceAsync)&&!se.replace)return Q&&Q({typeDetected:!0}),fe(te,m,E&&"readonly",h,v,N,xe);Q&&Q({replacing:!0});var $e=f||!se.replaceAsync?"replace":"replaceAsync";return fe(te,se[$e](m,h),E&&"readonly",h,v,N,xe)}}return m}return C.length?f&&k.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(G(J,C)).then(H):!f&&k.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():k.stringification&&f?[H(J)]:f?H(J):Promise.resolve(H(J))}},{key:"encapsulateSync",value:function(Y,X,k){return this.encapsulate(Y,X,d({throwOnBadSyncType:!0},k,{sync:!0}))}},{key:"encapsulateAsync",value:function(Y,X,k){return this.encapsulate(Y,X,d({throwOnBadSyncType:!0},k,{sync:!1}))}},{key:"revive",value:function(Y,X){var k=Y&&Y.$types;if(!k)return Y;if(k===!0)return Y.$;X=d({sync:!0},this.options,{},X);var a=X,f=a.sync,p=[],y={},g=!0;k.$&&B(k.$)&&(Y=Y.$,k=k.$,g=!1);var _=this;function C(Z,ie){var fe=_.revivers[Z]||[],ye=w(fe,1),te=ye[0];if(!te)throw new Error("Unregistered type: "+Z);return f&&!("revive"in te)?ie:te[f&&te.revive?"revive":!f&&te.reviveAsync?"reviveAsync":"revive"](ie,y)}function E(){var Z=[];if(Object.entries(k).forEach(function(ie){var fe=w(ie,2),ye=fe[0],te=fe[1];te!=="#"&&[].concat(te).forEach(function(m){var h=_.revivers[m]||[null,{}],v=w(h,2),T=v[1].plain;T&&(Z.push({keypath:ye,type:m}),delete k[ye])})}),!!Z.length)return Z.sort(pe).reduce(function ie(fe,ye){var te=ye.keypath,m=ye.type;if(D(fe))return fe.then(function(T){return ie(T,{keypath:te,type:m})});var h=ue(Y,te);if(h=C(m,h),K(h,P))return h.then(function(T){var N=oe(Y,te,T);N===T&&(Y=N)});var v=oe(Y,te,h);v===h&&(Y=v)},void 0)}var F=[];function M(Z,ie,fe,ye,te){if(!(g&&Z==="$types")){var m=k[Z],h=Qe(ie);if(h||B(ie)){var v=h?new Array(ie.length):{};for(Ke(ie).forEach(function(Pe){var $e=M(Z+(Z?".":"")+Ae(Pe),ie[Pe],fe||v,v,Pe),Ve=function(Me){return K(Me,Fe)?v[Pe]=void 0:Me!==void 0&&(v[Pe]=Me),Me};K($e,P)?F.push($e.then(function(je){return Ve(je)})):Ve($e)}),ie=v;p.length;){var T=w(p[0],4),N=T[0],Q=T[1],ee=T[2],de=T[3],se=ue(N,Q);if(se!==void 0)ee[de]=se;else break;p.splice(0,1)}}if(!m)return ie;if(m==="#"){var xe=ue(fe,ie.slice(1));return xe===void 0&&p.push([fe,ie.slice(1),ye,te]),xe}return[].concat(m).reduce(function Pe($e,Ve){return K($e,P)?$e.then(function(je){return Pe(je,Ve)}):C(Ve,$e)},ie)}}function J(Z){return K(Z,Fe)?void 0:Z}var H=E(),G;return K(H,P)?G=H.then(function(){return Y}):(G=M("",Y,null),F.length&&(G=P.resolve(G).then(function(Z){return P.all([Z].concat(F))}).then(function(Z){var ie=w(Z,1),fe=ie[0];return fe}))),D(G)?f&&X.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():K(G,P)?G.p.then(J):G:!f&&X.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():f?J(G):Promise.resolve(J(G))}},{key:"reviveSync",value:function(Y,X){return this.revive(Y,d({throwOnBadSyncType:!0},X,{sync:!0}))}},{key:"reviveAsync",value:function(Y,X){return this.revive(Y,d({throwOnBadSyncType:!0},X,{sync:!1}))}},{key:"register",value:function(Y,X){return X=X||{},[].concat(Y).forEach(function k(a){var f=this;if(Qe(a))return a.map(function(p){return k.call(f,p)});a&&Ke(a).forEach(function(p){if(p==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(R.JSON_TYPES.includes(p))throw new TypeError("Plain JSON object types are reserved as type names");var y=a[p],g=y&&y.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,_=g.filter(function(fe){return fe.type===p});if(_.length&&(g.splice(g.indexOf(_[0]),1),delete this.revivers[p],delete this.types[p]),typeof y=="function"){var C=y;y={test:function(ye){return ye&&ye.constructor===C},replace:function(ye){return d({},ye)},revive:function(ye){return Object.assign(Object.create(C.prototype),ye)}}}else if(Qe(y)){var E=y,F=w(E,3),M=F[0],J=F[1],H=F[2];y={test:M,replace:J,revive:H}}if(!(!y||!y.test)){var G={type:p,test:y.test.bind(y)};y.replace&&(G.replace=y.replace.bind(y)),y.replaceAsync&&(G.replaceAsync=y.replaceAsync.bind(y));var Z=typeof X.fallback=="number"?X.fallback:X.fallback?0:1/0;if(y.testPlainObjects?this.plainObjectReplacers.splice(Z,0,G):this.nonplainObjectReplacers.splice(Z,0,G),y.revive||y.reviveAsync){var ie={};y.revive&&(ie.revive=y.revive.bind(y)),y.reviveAsync&&(ie.reviveAsync=y.reviveAsync.bind(y)),this.revivers[p]=[ie,{plain:y.testPlainObjects}]}this.types[p]=y}},this)},this),this}}]),R}(),Fe=function R(){s(this,R)};return Fe.__typeson__type__="TypesonUndefined",ce.Undefined=Fe,ce.Promise=P,ce.isThenable=D,ce.toStringTag=b,ce.hasConstructorOf=K,ce.isObject=ae,ce.isPlainObject=B,ce.isUserObject=ge,ce.escapeKeyPathComponent=Ae,ce.unescapeKeyPathComponent=me,ce.getByKeyPath=ue,ce.getJSONType=Ue,ce.JSON_TYPES=["null","boolean","number","string","array","object"],ce})}),gy=Jo(function(e,t){(function(n,r){e.exports=r()})(uo,function(){function n(m){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function r(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function i(m,h){for(var v=0;v<h.length;v++){var T=h[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function s(m,h,v){return h in m?Object.defineProperty(m,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[h]=v,m}function o(m,h){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(m);h&&(T=T.filter(function(N){return Object.getOwnPropertyDescriptor(m,N).enumerable})),v.push.apply(v,T)}return v}function l(m){return function(v){if(Array.isArray(v))return c(v)}(m)||function(v){if(typeof Symbol<"u"&&Symbol.iterator in Object(v))return Array.from(v)}(m)||function(v,T){if(v){if(typeof v=="string")return c(v,T);var N=Object.prototype.toString.call(v).slice(8,-1);if(N==="Object"&&v.constructor&&(N=v.constructor.name),N==="Map"||N==="Set")return Array.from(v);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return c(v,T)}}(m)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c(m,h){(h==null||h>m.length)&&(h=m.length);for(var v=0,T=new Array(h);v<h;v++)T[v]=m[v];return T}function u(m){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function d(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function w(m,h){for(var v=0;v<h.length;v++){var T=h[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function x(m,h,v){return h in m?Object.defineProperty(m,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[h]=v,m}function S(m,h){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(m);h&&(T=T.filter(function(N){return Object.getOwnPropertyDescriptor(m,N).enumerable})),v.push.apply(v,T)}return v}function $(m){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{};h%2?S(Object(v),!0).forEach(function(T){x(m,T,v[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):S(Object(v)).forEach(function(T){Object.defineProperty(m,T,Object.getOwnPropertyDescriptor(v,T))})}return m}function O(m,h){return function(T){if(Array.isArray(T))return T}(m)||function(T,N){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(T)))){var Q=[],ee=!0,de=!1,se=void 0;try{for(var xe,Pe=T[Symbol.iterator]();!(ee=(xe=Pe.next()).done)&&(Q.push(xe.value),!N||Q.length!==N);ee=!0);}catch($e){de=!0,se=$e}finally{try{ee||Pe.return==null||Pe.return()}finally{if(de)throw se}}return Q}}(m,h)||j(m,h)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(m){return function(v){if(Array.isArray(v))return A(v)}(m)||function(v){if(typeof Symbol<"u"&&Symbol.iterator in Object(v))return Array.from(v)}(m)||j(m)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(m,h){if(m){if(typeof m=="string")return A(m,h);var v=Object.prototype.toString.call(m).slice(8,-1);return v==="Object"&&m.constructor&&(v=m.constructor.name),v==="Map"||v==="Set"?Array.from(m):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?A(m,h):void 0}}function A(m,h){(h==null||h>m.length)&&(h=m.length);for(var v=0,T=new Array(h);v<h;v++)T[v]=m[v];return T}var P=function m(h){d(this,m),this.p=new Promise(h)};P.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(P.prototype[Symbol.toStringTag]="TypesonPromise"),P.prototype.then=function(m,h){var v=this;return new P(function(T,N){v.p.then(function(Q){T(m?m(Q):Q)}).catch(function(Q){return h?h(Q):Promise.reject(Q)}).then(T,N)})},P.prototype.catch=function(m){return this.then(null,m)},P.resolve=function(m){return new P(function(h){h(m)})},P.reject=function(m){return new P(function(h,v){v(m)})},["all","race"].forEach(function(m){P[m]=function(h){return new P(function(v,T){Promise[m](h.map(function(N){return N&&N.constructor&&N.constructor.__typeson__type__==="TypesonPromise"?N.p:N})).then(v,T)})}});var I={}.toString,U={}.hasOwnProperty,W=Object.getPrototypeOf,V=U.toString;function re(m,h){return B(m)&&typeof m.then=="function"&&(!h||typeof m.catch=="function")}function D(m){return I.call(m).slice(8,-1)}function b(m,h){if(!m||u(m)!=="object")return!1;var v=W(m);if(!v)return h===null;var T=U.call(v,"constructor")&&v.constructor;return typeof T!="function"?h===null:h===T||h!==null&&V.call(T)===V.call(h)||typeof h=="function"&&typeof T.__typeson__type__=="string"&&T.__typeson__type__===h.__typeson__type__}function K(m){return!(!m||D(m)!=="Object")&&(!W(m)||b(m,Object))}function B(m){return m&&u(m)==="object"}function ge(m){return m.replace(/~/g,"~0").replace(/\./g,"~1")}function ae(m){return m.replace(/~1/g,".").replace(/~0/g,"~")}function Ae(m,h){if(h==="")return m;var v=h.indexOf(".");if(v>-1){var T=m[ae(h.slice(0,v))];return T===void 0?void 0:Ae(T,h.slice(v+1))}return m[ae(h)]}function me(m,h,v){if(h==="")return v;var T=h.indexOf(".");return T>-1?me(m[ae(h.slice(0,T))],h.slice(T+1),v):(m[ae(h)]=v,m)}function ue(m,h,v){return v?h?h(m):m:(m&&m.then||(m=Promise.resolve(m)),h?m.then(h):m)}var oe=Object.keys,Ue=Array.isArray,Ke={}.hasOwnProperty,Qe=["type","replaced","iterateIn","iterateUnsetNumeric"];function Be(m){return function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];try{return Promise.resolve(m.apply(this,h))}catch(T){return Promise.reject(T)}}}function kt(m,h){if(m.keypath==="")return-1;var v=m.keypath.match(/\./g)||0,T=h.keypath.match(/\./g)||0;return v&&(v=v.length),T&&(T=T.length),v>T?-1:v<T?1:m.keypath<h.keypath?-1:m.keypath>h.keypath}var pe=function(){function m(h){d(this,m),this.options=h,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(v,T,N){return T&&w(v.prototype,T),N&&w(v,N),v}(m,[{key:"stringify",value:function(v,T,N,Q){Q=$($($({},this.options),Q),{},{stringification:!0});var ee=this.encapsulate(v,null,Q);return Ue(ee)?JSON.stringify(ee[0],T,N):ee.then(function(de){return JSON.stringify(de,T,N)})}},{key:"stringifySync",value:function(v,T,N,Q){return this.stringify(v,T,N,$($({throwOnBadSyncType:!0},Q),{},{sync:!0}))}},{key:"stringifyAsync",value:function(v,T,N,Q){return this.stringify(v,T,N,$($({throwOnBadSyncType:!0},Q),{},{sync:!1}))}},{key:"parse",value:function(v,T,N){return N=$($($({},this.options),N),{},{parse:!0}),this.revive(JSON.parse(v,T),N)}},{key:"parseSync",value:function(v,T,N){return this.parse(v,T,$($({throwOnBadSyncType:!0},N),{},{sync:!0}))}},{key:"parseAsync",value:function(v,T,N){return this.parse(v,T,$($({throwOnBadSyncType:!0},N),{},{sync:!1}))}},{key:"specialTypeNames",value:function(v,T){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return N.returnTypeNames=!0,this.encapsulate(v,T,N)}},{key:"rootTypeName",value:function(v,T){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return N.iterateNone=!0,this.encapsulate(v,T,N)}},{key:"encapsulate",value:function(v,T,N){var Q=Be(function(he,ne){return ue(Promise.all(ne.map(function(_e){return _e[1].p})),function(_e){return ue(Promise.all(_e.map(Be(function(ve){var Ce=!1,Ne=[],St=O(ne.splice(0,1),1),nt=O(St[0],7),Ct=nt[0],$t=nt[2],He=nt[3],Nt=nt[4],ze=nt[5],Tt=nt[6],vt=Te(Ct,ve,$t,He,Ne,!0,Tt),Lt=b(vt,P);return function(rs,ii){var Gn=rs();return Gn&&Gn.then?Gn.then(ii):ii(Gn)}(function(){if(Ct&&Lt)return ue(vt.p,function(jt){return Nt[ze]=jt,Ce=!0,Q(he,Ne)})},function(jt){return Ce?jt:(Ct?Nt[ze]=vt:he=Lt?vt.p:vt,Q(he,Ne))})}))),function(){return he})})}),ee=(N=$($({sync:!0},this.options),N)).sync,de=this,se={},xe=[],Pe=[],$e=[],Ve=!("cyclic"in N)||N.cyclic,je=N.encapsulateObserver,Me=Te("",v,Ve,T||{},$e);function Je(he){var ne=Object.values(se);if(N.iterateNone)return ne.length?ne[0]:m.getJSONType(he);if(ne.length){if(N.returnTypeNames)return L(new Set(ne));he&&K(he)&&!Ke.call(he,"$types")?he.$types=se:he={$:he,$types:{$:se}}}else B(he)&&Ke.call(he,"$types")&&(he={$:he,$types:!0});return!N.returnTypeNames&&he}function We(he,ne,_e){Object.assign(he,ne);var ve=Qe.map(function(Ce){var Ne=he[Ce];return delete he[Ce],Ne});_e(),Qe.forEach(function(Ce,Ne){he[Ce]=ve[Ne]})}function Te(he,ne,_e,ve,Ce,Ne,St){var nt,Ct={},$t=u(ne),He=je?function(pn){var bt=St||ve.type||m.getJSONType(ne);je(Object.assign(pn||Ct,{keypath:he,value:ne,cyclic:_e,stateObj:ve,promisesData:Ce,resolvingTypesonPromise:Ne,awaitingTypesonPromise:b(ne,P)},{type:bt}))}:null;if(["string","boolean","number","undefined"].includes($t))return ne===void 0||Number.isNaN(ne)||ne===Number.NEGATIVE_INFINITY||ne===Number.POSITIVE_INFINITY?(nt=ve.replaced?ne:ut(he,ne,ve,Ce,!1,Ne,He))!==ne&&(Ct={replaced:nt}):nt=ne,He&&He(),nt;if(ne===null)return He&&He(),ne;if(_e&&!ve.iterateIn&&!ve.iterateUnsetNumeric&&ne&&u(ne)==="object"){var Nt=xe.indexOf(ne);if(!(Nt<0))return se[he]="#",He&&He({cyclicKeypath:Pe[Nt]}),"#"+Pe[Nt];_e===!0&&(xe.push(ne),Pe.push(he))}var ze,Tt=K(ne),vt=Ue(ne),Lt=(Tt||vt)&&(!de.plainObjectReplacers.length||ve.replaced)||ve.iterateIn?ne:ut(he,ne,ve,Ce,Tt||vt,null,He);if(Lt!==ne?(nt=Lt,Ct={replaced:Lt}):he===""&&b(ne,P)?(Ce.push([he,ne,_e,ve,void 0,void 0,ve.type]),nt=ne):vt&&ve.iterateIn!=="object"||ve.iterateIn==="array"?(ze=new Array(ne.length),Ct={clone:ze}):(["function","symbol"].includes(u(ne))||"toJSON"in ne||b(ne,P)||b(ne,Promise)||b(ne,ArrayBuffer))&&!Tt&&ve.iterateIn!=="object"?nt=ne:(ze={},ve.addLength&&(ze.length=ne.length),Ct={clone:ze}),He&&He(),N.iterateNone)return ze||nt;if(!ze)return nt;if(ve.iterateIn){var jt=function(bt){var tn={ownKeys:Ke.call(ne,bt)};We(ve,tn,function(){var An=he+(he?".":"")+ge(bt),si=Te(An,ne[bt],!!_e,ve,Ce,Ne);b(si,P)?Ce.push([An,si,!!_e,ve,ze,bt,ve.type]):si!==void 0&&(ze[bt]=si)})};for(var rs in ne)jt(rs);He&&He({endIterateIn:!0,end:!0})}else oe(ne).forEach(function(pn){var bt=he+(he?".":"")+ge(pn);We(ve,{ownKeys:!0},function(){var tn=Te(bt,ne[pn],!!_e,ve,Ce,Ne);b(tn,P)?Ce.push([bt,tn,!!_e,ve,ze,pn,ve.type]):tn!==void 0&&(ze[pn]=tn)})}),He&&He({endIterateOwn:!0,end:!0});if(ve.iterateUnsetNumeric){for(var ii=ne.length,Gn=function(bt){if(!(bt in ne)){var tn=he+(he?".":"")+bt;We(ve,{ownKeys:!1},function(){var An=Te(tn,void 0,!!_e,ve,Ce,Ne);b(An,P)?Ce.push([tn,An,!!_e,ve,ze,bt,ve.type]):An!==void 0&&(ze[bt]=An)})}},is=0;is<ii;is++)Gn(is);He&&He({endIterateUnsetNumeric:!0,end:!0})}return ze}function ut(he,ne,_e,ve,Ce,Ne,St){for(var nt=Ce?de.plainObjectReplacers:de.nonplainObjectReplacers,Ct=nt.length;Ct--;){var $t=nt[Ct];if($t.test(ne,_e)){var He=$t.type;if(de.revivers[He]){var Nt=se[he];se[he]=Nt?[He].concat(Nt):He}return Object.assign(_e,{type:He,replaced:!0}),!ee&&$t.replaceAsync||$t.replace?(St&&St({replacing:!0}),Te(he,$t[ee||!$t.replaceAsync?"replace":"replaceAsync"](ne,_e),Ve&&"readonly",_e,ve,Ne,He)):(St&&St({typeDetected:!0}),Te(he,ne,Ve&&"readonly",_e,ve,Ne,He))}}return ne}return $e.length?ee&&N.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(Q(Me,$e)).then(Je):!ee&&N.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():N.stringification&&ee?[Je(Me)]:ee?Je(Me):Promise.resolve(Je(Me))}},{key:"encapsulateSync",value:function(v,T,N){return this.encapsulate(v,T,$($({throwOnBadSyncType:!0},N),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(v,T,N){return this.encapsulate(v,T,$($({throwOnBadSyncType:!0},N),{},{sync:!1}))}},{key:"revive",value:function(v,T){var N=v&&v.$types;if(!N)return v;if(N===!0)return v.$;var Q=(T=$($({sync:!0},this.options),T)).sync,ee=[],de={},se=!0;N.$&&K(N.$)&&(v=v.$,N=N.$,se=!1);var xe=this;function Pe(Je,We){var Te=O(xe.revivers[Je]||[],1)[0];if(!Te)throw new Error("Unregistered type: "+Je);return Q&&!("revive"in Te)?We:Te[Q&&Te.revive?"revive":!Q&&Te.reviveAsync?"reviveAsync":"revive"](We,de)}var $e=[];function Ve(Je){return b(Je,ce)?void 0:Je}var je,Me=function(){var We=[];if(Object.entries(N).forEach(function(Te){var ut=O(Te,2),he=ut[0],ne=ut[1];ne!=="#"&&[].concat(ne).forEach(function(_e){O(xe.revivers[_e]||[null,{}],2)[1].plain&&(We.push({keypath:he,type:_e}),delete N[he])})}),We.length)return We.sort(kt).reduce(function Te(ut,he){var ne=he.keypath,_e=he.type;if(re(ut))return ut.then(function(Ne){return Te(Ne,{keypath:ne,type:_e})});var ve=Ae(v,ne);if(b(ve=Pe(_e,ve),P))return ve.then(function(Ne){var St=me(v,ne,Ne);St===Ne&&(v=St)});var Ce=me(v,ne,ve);Ce===ve&&(v=Ce)},void 0)}();return b(Me,P)?je=Me.then(function(){return v}):(je=function Je(We,Te,ut,he,ne){if(!se||We!=="$types"){var _e=N[We],ve=Ue(Te);if(ve||K(Te)){var Ce=ve?new Array(Te.length):{};for(oe(Te).forEach(function(ze){var Tt=Je(We+(We?".":"")+ge(ze),Te[ze],ut||Ce,Ce,ze),vt=function(jt){return b(jt,ce)?Ce[ze]=void 0:jt!==void 0&&(Ce[ze]=jt),jt};b(Tt,P)?$e.push(Tt.then(function(Lt){return vt(Lt)})):vt(Tt)}),Te=Ce;ee.length;){var Ne=O(ee[0],4),St=Ne[0],nt=Ne[1],Ct=Ne[2],$t=Ne[3],He=Ae(St,nt);if(He===void 0)break;Ct[$t]=He,ee.splice(0,1)}}if(!_e)return Te;if(_e==="#"){var Nt=Ae(ut,Te.slice(1));return Nt===void 0&&ee.push([ut,Te.slice(1),he,ne]),Nt}return[].concat(_e).reduce(function ze(Tt,vt){return b(Tt,P)?Tt.then(function(Lt){return ze(Lt,vt)}):Pe(vt,Tt)},Te)}}("",v,null),$e.length&&(je=P.resolve(je).then(function(Je){return P.all([Je].concat($e))}).then(function(Je){return O(Je,1)[0]}))),re(je)?Q&&T.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():b(je,P)?je.p.then(Ve):je:!Q&&T.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():Q?Ve(je):Promise.resolve(Ve(je))}},{key:"reviveSync",value:function(v,T){return this.revive(v,$($({throwOnBadSyncType:!0},T),{},{sync:!0}))}},{key:"reviveAsync",value:function(v,T){return this.revive(v,$($({throwOnBadSyncType:!0},T),{},{sync:!1}))}},{key:"register",value:function(v,T){return T=T||{},[].concat(v).forEach(function N(Q){var ee=this;if(Ue(Q))return Q.map(function(de){return N.call(ee,de)});Q&&oe(Q).forEach(function(de){if(de==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(m.JSON_TYPES.includes(de))throw new TypeError("Plain JSON object types are reserved as type names");var se=Q[de],xe=se&&se.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,Pe=xe.filter(function(We){return We.type===de});if(Pe.length&&(xe.splice(xe.indexOf(Pe[0]),1),delete this.revivers[de],delete this.types[de]),typeof se=="function"){var $e=se;se={test:function(Te){return Te&&Te.constructor===$e},replace:function(Te){return $({},Te)},revive:function(Te){return Object.assign(Object.create($e.prototype),Te)}}}else if(Ue(se)){var Ve=O(se,3);se={test:Ve[0],replace:Ve[1],revive:Ve[2]}}if(se&&se.test){var je={type:de,test:se.test.bind(se)};se.replace&&(je.replace=se.replace.bind(se)),se.replaceAsync&&(je.replaceAsync=se.replaceAsync.bind(se));var Me=typeof T.fallback=="number"?T.fallback:T.fallback?0:Number.POSITIVE_INFINITY;if(se.testPlainObjects?this.plainObjectReplacers.splice(Me,0,je):this.nonplainObjectReplacers.splice(Me,0,je),se.revive||se.reviveAsync){var Je={};se.revive&&(Je.revive=se.revive.bind(se)),se.reviveAsync&&(Je.reviveAsync=se.reviveAsync.bind(se)),this.revivers[de]=[Je,{plain:se.testPlainObjects}]}this.types[de]=se}},this)},this),this}}]),m}(),ce=function m(){d(this,m)};ce.__typeson__type__="TypesonUndefined",pe.Undefined=ce,pe.Promise=P,pe.isThenable=re,pe.toStringTag=D,pe.hasConstructorOf=b,pe.isObject=B,pe.isPlainObject=K,pe.isUserObject=function m(h){if(!h||D(h)!=="Object")return!1;var v=W(h);return!v||b(h,Object)||m(v)},pe.escapeKeyPathComponent=ge,pe.unescapeKeyPathComponent=ae,pe.getByKeyPath=Ae,pe.getJSONType=function(h){return h===null?"null":Array.isArray(h)?"array":u(h)},pe.JSON_TYPES=["null","boolean","number","string","array","object"];for(var Fe={userObject:{test:function(h,v){return pe.isUserObject(h)},replace:function(h){return function(T){for(var N=1;N<arguments.length;N++){var Q=arguments[N]!=null?arguments[N]:{};N%2?o(Object(Q),!0).forEach(function(ee){s(T,ee,Q[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(Q)):o(Object(Q)).forEach(function(ee){Object.defineProperty(T,ee,Object.getOwnPropertyDescriptor(Q,ee))})}return T}({},h)},revive:function(h){return h}}},R=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(h,v){return!!Array.isArray(h)&&(Object.keys(h).some(function(T){return String(Number.parseInt(T))!==T})&&(v.iterateIn="object",v.addLength=!0),!0)},replace:function(h,v){return v.iterateUnsetNumeric=!0,h},revive:function(h){if(Array.isArray(h))return h;var v=[];return Object.keys(h).forEach(function(T){var N=h[T];v[T]=N}),v}}},{sparseUndefined:{test:function(h,v){return h===void 0&&v.ownKeys===!1},replace:function(h){return 0},revive:function(h){}}}],z={undef:{test:function(h,v){return h===void 0&&(v.ownKeys||!("ownKeys"in v))},replace:function(h){return 0},revive:function(h){return new pe.Undefined}}},Y={StringObject:{test:function(h){return pe.toStringTag(h)==="String"&&n(h)==="object"},replace:function(h){return String(h)},revive:function(h){return new String(h)}},BooleanObject:{test:function(h){return pe.toStringTag(h)==="Boolean"&&n(h)==="object"},replace:function(h){return!!h},revive:function(h){return new Boolean(h)}},NumberObject:{test:function(h){return pe.toStringTag(h)==="Number"&&n(h)==="object"},replace:function(h){return Number(h)},revive:function(h){return new Number(h)}}},X=[{nan:{test:function(h){return Number.isNaN(h)},replace:function(h){return"NaN"},revive:function(h){return Number.NaN}}},{infinity:{test:function(h){return h===Number.POSITIVE_INFINITY},replace:function(h){return"Infinity"},revive:function(h){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(h){return h===Number.NEGATIVE_INFINITY},replace:function(h){return"-Infinity"},revive:function(h){return Number.NEGATIVE_INFINITY}}}],k={date:{test:function(h){return pe.toStringTag(h)==="Date"},replace:function(h){var v=h.getTime();return Number.isNaN(v)?"NaN":v},revive:function(h){return h==="NaN"?new Date(Number.NaN):new Date(h)}}},a={regexp:{test:function(h){return pe.toStringTag(h)==="RegExp"},replace:function(h){return{source:h.source,flags:(h.global?"g":"")+(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.sticky?"y":"")+(h.unicode?"u":"")}},revive:function(h){var v=h.source,T=h.flags;return new RegExp(v,T)}}},f={map:{test:function(h){return pe.toStringTag(h)==="Map"},replace:function(h){return l(h.entries())},revive:function(h){return new Map(h)}}},p={set:{test:function(h){return pe.toStringTag(h)==="Set"},replace:function(h){return l(h.values())},revive:function(h){return new Set(h)}}},y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=new Uint8Array(256),_=0;_<y.length;_++)g[y.charCodeAt(_)]=_;var C=function(h,v,T){T==null&&(T=h.byteLength);for(var N=new Uint8Array(h,v||0,T),Q=N.length,ee="",de=0;de<Q;de+=3)ee+=y[N[de]>>2],ee+=y[(3&N[de])<<4|N[de+1]>>4],ee+=y[(15&N[de+1])<<2|N[de+2]>>6],ee+=y[63&N[de+2]];return Q%3==2?ee=ee.slice(0,-1)+"=":Q%3==1&&(ee=ee.slice(0,-2)+"=="),ee},E=function(h){var v,T,N,Q,ee=h.length,de=.75*h.length,se=0;h[h.length-1]==="="&&(de--,h[h.length-2]==="="&&de--);for(var xe=new ArrayBuffer(de),Pe=new Uint8Array(xe),$e=0;$e<ee;$e+=4)v=g[h.charCodeAt($e)],T=g[h.charCodeAt($e+1)],N=g[h.charCodeAt($e+2)],Q=g[h.charCodeAt($e+3)],Pe[se++]=v<<2|T>>4,Pe[se++]=(15&T)<<4|N>>2,Pe[se++]=(3&N)<<6|63&Q;return xe},F={arraybuffer:{test:function(h){return pe.toStringTag(h)==="ArrayBuffer"},replace:function(h,v){v.buffers||(v.buffers=[]);var T=v.buffers.indexOf(h);return T>-1?{index:T}:(v.buffers.push(h),C(h))},revive:function(h,v){if(v.buffers||(v.buffers=[]),n(h)==="object")return v.buffers[h.index];var T=E(h);return v.buffers.push(T),T}}},M=typeof self>"u"?uo:self,J={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(m){var h=m,v=M[h];v&&(J[m.toLowerCase()]={test:function(N){return pe.toStringTag(N)===h},replace:function(N,Q){var ee=N.buffer,de=N.byteOffset,se=N.length;Q.buffers||(Q.buffers=[]);var xe=Q.buffers.indexOf(ee);return xe>-1?{index:xe,byteOffset:de,length:se}:(Q.buffers.push(ee),{encoded:C(ee),byteOffset:de,length:se})},revive:function(N,Q){Q.buffers||(Q.buffers=[]);var ee,de=N.byteOffset,se=N.length,xe=N.encoded,Pe=N.index;return"index"in N?ee=Q.buffers[Pe]:(ee=E(xe),Q.buffers.push(ee)),new v(ee,de,se)}})});var H={dataview:{test:function(h){return pe.toStringTag(h)==="DataView"},replace:function(h,v){var T=h.buffer,N=h.byteOffset,Q=h.byteLength;v.buffers||(v.buffers=[]);var ee=v.buffers.indexOf(T);return ee>-1?{index:ee,byteOffset:N,byteLength:Q}:(v.buffers.push(T),{encoded:C(T),byteOffset:N,byteLength:Q})},revive:function(h,v){v.buffers||(v.buffers=[]);var T,N=h.byteOffset,Q=h.byteLength,ee=h.encoded,de=h.index;return"index"in h?T=v.buffers[de]:(T=E(ee),v.buffers.push(T)),new DataView(T,N,Q)}}},G={IntlCollator:{test:function(h){return pe.hasConstructorOf(h,Intl.Collator)},replace:function(h){return h.resolvedOptions()},revive:function(h){return new Intl.Collator(h.locale,h)}},IntlDateTimeFormat:{test:function(h){return pe.hasConstructorOf(h,Intl.DateTimeFormat)},replace:function(h){return h.resolvedOptions()},revive:function(h){return new Intl.DateTimeFormat(h.locale,h)}},IntlNumberFormat:{test:function(h){return pe.hasConstructorOf(h,Intl.NumberFormat)},replace:function(h){return h.resolvedOptions()},revive:function(h){return new Intl.NumberFormat(h.locale,h)}}};function Z(m){for(var h=new Uint8Array(m.length),v=0;v<m.length;v++)h[v]=m.charCodeAt(v);return h.buffer}var ie={file:{test:function(h){return pe.toStringTag(h)==="File"},replace:function(h){var v=new XMLHttpRequest;if(v.overrideMimeType("text/plain; charset=x-user-defined"),v.open("GET",URL.createObjectURL(h),!1),v.send(),v.status!==200&&v.status!==0)throw new Error("Bad File access: "+v.status);return{type:h.type,stringContents:v.responseText,name:h.name,lastModified:h.lastModified}},revive:function(h){var v=h.name,T=h.type,N=h.stringContents,Q=h.lastModified;return new File([Z(N)],v,{type:T,lastModified:Q})},replaceAsync:function(h){return new pe.Promise(function(v,T){var N=new FileReader;N.addEventListener("load",function(){v({type:h.type,stringContents:N.result,name:h.name,lastModified:h.lastModified})}),N.addEventListener("error",function(){T(N.error)}),N.readAsBinaryString(h)})}}},fe={bigint:{test:function(h){return typeof h=="bigint"},replace:function(h){return String(h)},revive:function(h){return BigInt(h)}}},ye={bigintObject:{test:function(h){return n(h)==="object"&&pe.hasConstructorOf(h,BigInt)},replace:function(h){return String(h)},revive:function(h){return new Object(BigInt(h))}}},te={cryptokey:{test:function(h){return pe.toStringTag(h)==="CryptoKey"&&h.extractable},replaceAsync:function(h){return new pe.Promise(function(v,T){crypto.subtle.exportKey("jwk",h).catch(function(N){T(N)}).then(function(N){v({jwk:N,algorithm:h.algorithm,usages:h.usages})})})},revive:function(h){var v=h.jwk,T=h.algorithm,N=h.usages;return crypto.subtle.importKey("jwk",v,T,!0,N)}}};return[Fe,z,R,Y,X,k,a,{imagedata:{test:function(h){return pe.toStringTag(h)==="ImageData"},replace:function(h){return{array:l(h.data),width:h.width,height:h.height}},revive:function(h){return new ImageData(new Uint8ClampedArray(h.array),h.width,h.height)}}},{imagebitmap:{test:function(h){return pe.toStringTag(h)==="ImageBitmap"||h&&h.dataset&&h.dataset.toStringTag==="ImageBitmap"},replace:function(h){var v=document.createElement("canvas");return v.getContext("2d").drawImage(h,0,0),v.toDataURL()},revive:function(h){var v=document.createElement("canvas"),T=v.getContext("2d"),N=document.createElement("img");return N.addEventListener("load",function(){T.drawImage(N,0,0)}),N.src=h,v},reviveAsync:function(h){var v=document.createElement("canvas"),T=v.getContext("2d"),N=document.createElement("img");return N.addEventListener("load",function(){T.drawImage(N,0,0)}),N.src=h,createImageBitmap(v)}}},ie,{file:ie.file,filelist:{test:function(h){return pe.toStringTag(h)==="FileList"},replace:function(h){for(var v=[],T=0;T<h.length;T++)v[T]=h.item(T);return v},revive:function(h){return new(function(){function v(){r(this,v),this._files=arguments[0],this.length=this._files.length}return function(N,Q,ee){return Q&&i(N.prototype,Q),ee&&i(N,ee),N}(v,[{key:"item",value:function(N){return this._files[N]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}]),v}())(h)}}},{blob:{test:function(h){return pe.toStringTag(h)==="Blob"},replace:function(h){var v=new XMLHttpRequest;if(v.overrideMimeType("text/plain; charset=x-user-defined"),v.open("GET",URL.createObjectURL(h),!1),v.send(),v.status!==200&&v.status!==0)throw new Error("Bad Blob access: "+v.status);return{type:h.type,stringContents:v.responseText}},revive:function(h){var v=h.type,T=h.stringContents;return new Blob([Z(T)],{type:v})},replaceAsync:function(h){return new pe.Promise(function(v,T){var N=new FileReader;N.addEventListener("load",function(){v({type:h.type,stringContents:N.result})}),N.addEventListener("error",function(){T(N.error)}),N.readAsBinaryString(h)})}}}].concat(typeof Map=="function"?f:[],typeof Set=="function"?p:[],typeof ArrayBuffer=="function"?F:[],typeof Uint8Array=="function"?J:[],typeof DataView=="function"?H:[],typeof Intl<"u"?G:[],typeof crypto<"u"?te:[],typeof BigInt<"u"?[fe,ye]:[])})}),ir="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pr=new Uint8Array(256);for(var bi=0;bi<ir.length;bi++)Pr[ir.codePointAt(bi)]=bi;var fo=function(t,n,r){r==null&&(r=t.byteLength);for(var i=new Uint8Array(t,n||0,r),s=i.length,o="",l=0;l<s;l+=3)o+=ir[i[l]>>2],o+=ir[(i[l]&3)<<4|i[l+1]>>4],o+=ir[(i[l+1]&15)<<2|i[l+2]>>6],o+=ir[i[l+2]&63];return s%3===2?o=o.slice(0,-1)+"=":s%3===1&&(o=o.slice(0,-2)+"=="),o},Dc=function(t){var n=t.length,r=t.length*.75,i=0,s,o,l,c;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);for(var u=new ArrayBuffer(r),d=new Uint8Array(u),w=0;w<n;w+=4)s=Pr[t.codePointAt(w)],o=Pr[t.codePointAt(w+1)],l=Pr[t.codePointAt(w+2)],c=Pr[t.codePointAt(w+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},vy=typeof self>"u"?global:self,kc={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(e){var t=e,n=vy[t];n&&(kc[e.toLowerCase()+"2"]={test:function(r){return ns.toStringTag(r)===t},replace:function(r){var i=r.buffer,s=r.byteOffset,o=r.length;return{buffer:i,byteOffset:s,length:o}},revive:function(r){var i=r.buffer,s=r.byteOffset,o=r.length;return new n(i,s,o)}})});var by={arraybuffer:{test:function(e){return ns.toStringTag(e)==="ArrayBuffer"},replace:function(e){return fo(e,0,e.byteLength)},revive:function(e){var t=Dc(e);return t}}},Ft=new ns().register(gy),_y="FileReaderSync"in self,Hi=[],Cs=0;Ft.register([by,kc,{blob2:{test:function(e){return ns.toStringTag(e)==="Blob"},replace:function(e){if(e.isClosed)throw new Error("The Blob is closed");if(_y){var t=Cc(e,"binary"),n=fo(t,0,t.byteLength);return{type:e.type,data:n}}else{Hi.push(e);var r={type:e.type,data:{start:Cs,end:Cs+e.size}};return Cs+=e.size,r}},finalize:function(e,t){e.data=fo(t,0,t.byteLength)},revive:function(e){var t=e.type,n=e.data;return new Blob([Dc(n)],{type:t})}}}]);Ft.mustFinalize=function(){return Hi.length>0};Ft.finalize=function(e){return On(void 0,void 0,void 0,function(){var t,n,r,i,s,o,l,c,u,d;return Ht(this,function(w){switch(w.label){case 0:return[4,xc(new Blob(Hi),"binary")];case 1:if(t=w.sent(),e){for(n=0,r=e;n<r.length;n++)if(i=r[n],i.$types){s=i.$types,o=s.$,o&&(s=s.$);for(l in s)c=s[l],u=Ft.types[c],u&&u.finalize&&(d=it.getByKeyPath(i,o?"$."+l:l),u.finalize(d,t.slice(d.start,d.end)))}}return Hi=[],[2]}})})};var wy=2e3;function Sc(e,t){return On(this,void 0,void 0,function(){function n(){return On(this,void 0,void 0,function(){var u,d,w,x,S,$,O,L,j;return Ht(this,function(A){switch(A.label){case 0:return[4,Promise.all(e.tables.map(function(P){return P.count()}))];case 1:u=A.sent(),u.forEach(function(P,I){return i[I].rowCount=P}),c.totalRows=u.reduce(function(P,I){return P+I}),d=JSON.stringify(o,void 0,s?2:void 0),w=d.lastIndexOf("]"),x=d.substring(0,w),r.push(x),S=t.filter,$=function(P){var I,U,W,V,re,D,b,K,B,ge,ae,Ae;return Ht(this,function(me){switch(me.label){case 0:I=e.table(P),U=I.schema.primKey,W=!!U.keyPath,V=t.numRowsPerChunk||wy,re=W?{tableName:I.name,inbound:!0,rows:[]}:{tableName:I.name,inbound:!1,rows:[]},D=JSON.stringify(re,void 0,s?2:void 0),s&&(D=D.split(`
`).join(`
    `)),b=D.lastIndexOf("]"),r.push(D.substring(0,b)),K=null,B=0,ge=!0,ae=function(){var ue,oe,Ue,Ke,pe,Qe,Be,kt,pe;return Ht(this,function(ce){switch(ce.label){case 0:return l&&it.ignoreTransaction(function(){return l(c)}),ue=K==null?I.limit(V):I.where(":id").above(K).limit(V),[4,ue.toArray()];case 1:return oe=ce.sent(),oe.length===0?[2,"break"]:(K!=null&&B>0&&(r.push(","),s&&r.push(`
      `)),ge=oe.length===V,W?(Ue=S?oe.filter(function(Fe){return S(P,Fe)}):oe,Ke=Ue.map(function(Fe){return Ft.encapsulate(Fe)}),Ft.mustFinalize()?[4,it.waitFor(Ft.finalize(Ke))]:[3,3]):[3,4]);case 2:ce.sent(),ce.label=3;case 3:return pe=JSON.stringify(Ke,void 0,s?2:void 0),s&&(pe=pe.split(`
`).join(`
      `)),r.push(new Blob([pe.substring(1,pe.length-1)])),B=Ue.length,K=oe.length>0?it.getByKeyPath(oe[oe.length-1],U.keyPath):null,[3,8];case 4:return[4,ue.primaryKeys()];case 5:return Qe=ce.sent(),Be=Qe.map(function(Fe,R){return[Fe,oe[R]]}),S&&(Be=Be.filter(function(Fe){var R=Fe[0],z=Fe[1];return S(P,z,R)})),kt=Be.map(function(Fe){return Ft.encapsulate(Fe)}),Ft.mustFinalize()?[4,it.waitFor(Ft.finalize(kt))]:[3,7];case 6:ce.sent(),ce.label=7;case 7:pe=JSON.stringify(kt,void 0,s?2:void 0),s&&(pe=pe.split(`
`).join(`
      `)),r.push(new Blob([pe.substring(1,pe.length-1)])),B=Be.length,K=Qe.length>0?Qe[Qe.length-1]:null,ce.label=8;case 8:return c.completedRows+=oe.length,[2]}})},me.label=1;case 1:return ge?[5,ae()]:[3,3];case 2:return Ae=me.sent(),Ae==="break"?[3,3]:[3,1];case 3:return r.push(D.substr(b)),c.completedTables+=1,c.completedTables<c.totalTables&&r.push(","),[2]}})},O=0,L=i,A.label=2;case 2:return O<L.length?(j=L[O].name,[5,$(j)]):[3,5];case 3:A.sent(),A.label=4;case 4:return O++,[3,2];case 5:return r.push(d.substr(w)),c.done=!0,l&&it.ignoreTransaction(function(){return l(c)}),[2]}})})}var r,i,s,o,l,c;return Ht(this,function(u){switch(u.label){case 0:t=t||{},r=[],i=e.tables.map(function(d){return{name:d.name,schema:yy(d),rowCount:0}}),s=t.prettyJson,o={formatName:"dexie",formatVersion:1,data:{databaseName:e.name,databaseVersion:e.verno,tables:i,data:[]}},l=t.progressCallback,c={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:e.tables.length},u.label=1;case 1:return u.trys.push([1,,6,7]),t.noTransaction?[4,n()]:[3,3];case 2:return u.sent(),[3,5];case 3:return[4,e.transaction("r",e.tables,n)];case 4:u.sent(),u.label=5;case 5:return[3,7];case 6:return Ft.finalize(),[7];case 7:return[2,new Blob(r,{type:"text/json"})]}})})}var xy=1,Cy={Stream:function(){}},Dy=Jo(function(e,t){(function(n){var r=typeof process=="object"&&process.env?process.env:self;n.parser=function(D){return new S(D)},n.CParser=S,n.CStream=O,n.createStream=$,n.MAX_BUFFER_LENGTH=10*1024*1024,n.DEBUG=r.CDEBUG==="debug",n.INFO=r.CDEBUG==="debug"||r.CDEBUG==="info",n.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var i={textNode:void 0,numberNode:""},s=n.EVENTS.filter(function(D){return D!=="error"&&D!=="end"}),o=0,l;n.STATE={BEGIN:o++,VALUE:o++,OPEN_OBJECT:o++,CLOSE_OBJECT:o++,OPEN_ARRAY:o++,CLOSE_ARRAY:o++,TEXT_ESCAPE:o++,STRING:o++,BACKSLASH:o++,END:o++,OPEN_KEY:o++,CLOSE_KEY:o++,TRUE:o++,TRUE2:o++,TRUE3:o++,FALSE:o++,FALSE2:o++,FALSE3:o++,FALSE4:o++,NULL:o++,NULL2:o++,NULL3:o++,NUMBER_DECIMAL_POINT:o++,NUMBER_DIGIT:o++};for(var c in n.STATE)n.STATE[n.STATE[c]]=c;o=n.STATE;const u={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(D){function b(){this.__proto__=D}return b.prototype=D,new b}),Object.getPrototypeOf||(Object.getPrototypeOf=function(D){return D.__proto__}),Object.keys||(Object.keys=function(D){var b=[];for(var K in D)D.hasOwnProperty(K)&&b.push(K);return b});function d(D){var b=Math.max(n.MAX_BUFFER_LENGTH,10),K=0;for(var B in i){var ge=D[B]===void 0?0:D[B].length;if(ge>b)switch(B){case"text":closeText(D);break;default:U(D,"Max buffer length exceeded: "+B)}K=Math.max(K,ge)}D.bufferCheckPosition=n.MAX_BUFFER_LENGTH-K+D.position}function w(D){for(var b in i)D[b]=i[b]}var x=/[\\"\n]/g;function S(D){if(!(this instanceof S))return new S(D);var b=this;w(b),b.bufferCheckPosition=n.MAX_BUFFER_LENGTH,b.q=b.c=b.p="",b.opt=D||{},b.closed=b.closedRoot=b.sawRoot=!1,b.tag=b.error=null,b.state=o.BEGIN,b.stack=new Array,b.position=b.column=0,b.line=1,b.slashed=!1,b.unicodeI=0,b.unicodeS=null,b.depth=0,L(b,"onready")}S.prototype={end:function(){W(this)},write:re,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{l=Cy.Stream}catch{l=function(){}}function $(D){return new O(D)}function O(D){if(!(this instanceof O))return new O(D);this._parser=new S(D),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var b=this;l.apply(b),this._parser.onend=function(){b.emit("end")},this._parser.onerror=function(K){b.emit("error",K),b._parser.error=null},s.forEach(function(K){Object.defineProperty(b,"on"+K,{get:function(){return b._parser["on"+K]},set:function(B){if(!B)return b.removeAllListeners(K),b._parser["on"+K]=B,B;b.on(K,B)},enumerable:!0,configurable:!1})})}O.prototype=Object.create(l.prototype,{constructor:{value:O}}),O.prototype.write=function(D){D=new Buffer(D);for(var b=0;b<D.length;b++){var K=D[b];if(this.bytes_remaining>0){for(var B=0;B<this.bytes_remaining;B++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+B]=D[B];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,b=b+B-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&K>=128)if(K>=194&&K<=223&&(this.bytes_in_sequence=2),K>=224&&K<=239&&(this.bytes_in_sequence=3),K>=240&&K<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+b>D.length){for(var ge=0;ge<=D.length-1-b;ge++)this.temp_buffs[this.bytes_in_sequence][ge]=D[b+ge];return this.bytes_remaining=b+this.bytes_in_sequence-D.length,!0}else{this.string=D.slice(b,b+this.bytes_in_sequence).toString(),b=b+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var ae=b;ae<D.length&&!(D[ae]>=128);ae++);this.string=D.slice(b,ae).toString(),this._parser.write(this.string),this.emit("data",this.string),b=ae-1}},O.prototype.end=function(D){return D&&D.length&&this._parser.write(D.toString()),this._parser.end(),!0},O.prototype.on=function(D,b){var K=this;return!K._parser["on"+D]&&s.indexOf(D)!==-1&&(K._parser["on"+D]=function(){var B=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);B.splice(0,0,D),K.emit.apply(K,B)}),l.prototype.on.call(K,D,b)},O.prototype.destroy=function(){w(this._parser),this.emit("close")};function L(D,b,K){n.INFO&&console.log("-- emit",b,K),D[b]&&D[b](K)}function j(D,b,K){A(D),L(D,b,K)}function A(D,b){D.textNode=I(D.opt,D.textNode),D.textNode!==void 0&&L(D,b||"onvalue",D.textNode),D.textNode=void 0}function P(D){D.numberNode&&L(D,"onvalue",parseFloat(D.numberNode)),D.numberNode=""}function I(D,b){return b===void 0||(D.trim&&(b=b.trim()),D.normalize&&(b=b.replace(/\s+/g," "))),b}function U(D,b){return A(D),b+=`
Line: `+D.line+`
Column: `+D.column+`
Char: `+D.c,b=new Error(b),D.error=b,L(D,"onerror",b),D}function W(D){return(D.state!==o.VALUE||D.depth!==0)&&U(D,"Unexpected end"),A(D),D.c="",D.closed=!0,L(D,"onend"),S.call(D,D.opt),D}function V(D){return D===u.carriageReturn||D===u.lineFeed||D===u.space||D===u.tab}function re(D){var b=this;if(this.error)throw this.error;if(b.closed)return U(b,"Cannot write after close. Assign an onready handler.");if(D===null)return W(b);var K=0,B=D.charCodeAt(0),ge=b.p;for(n.DEBUG&&console.log("write -> ["+D+"]");B&&(ge=B,b.c=B=D.charCodeAt(K++),ge!==B?b.p=ge:ge=b.p,!!B);)switch(n.DEBUG&&console.log(K,B,n.STATE[b.state]),b.position++,B===u.lineFeed?(b.line++,b.column=0):b.column++,b.state){case o.BEGIN:B===u.openBrace?b.state=o.OPEN_OBJECT:B===u.openBracket?b.state=o.OPEN_ARRAY:V(B)||U(b,"Non-whitespace before {[.");continue;case o.OPEN_KEY:case o.OPEN_OBJECT:if(V(B))continue;if(b.state===o.OPEN_KEY)b.stack.push(o.CLOSE_KEY);else if(B===u.closeBrace){L(b,"onopenobject"),this.depth++,L(b,"oncloseobject"),this.depth--,b.state=b.stack.pop()||o.VALUE;continue}else b.stack.push(o.CLOSE_OBJECT);B===u.doubleQuote?b.state=o.STRING:U(b,'Malformed object key should start with "');continue;case o.CLOSE_KEY:case o.CLOSE_OBJECT:if(V(B))continue;b.state,o.CLOSE_KEY,B===u.colon?(b.state===o.CLOSE_OBJECT?(b.stack.push(o.CLOSE_OBJECT),A(b,"onopenobject"),this.depth++):A(b,"onkey"),b.state=o.VALUE):B===u.closeBrace?(j(b,"oncloseobject"),this.depth--,b.state=b.stack.pop()||o.VALUE):B===u.comma?(b.state===o.CLOSE_OBJECT&&b.stack.push(o.CLOSE_OBJECT),A(b),b.state=o.OPEN_KEY):U(b,"Bad object");continue;case o.OPEN_ARRAY:case o.VALUE:if(V(B))continue;if(b.state===o.OPEN_ARRAY)if(L(b,"onopenarray"),this.depth++,b.state=o.VALUE,B===u.closeBracket){L(b,"onclosearray"),this.depth--,b.state=b.stack.pop()||o.VALUE;continue}else b.stack.push(o.CLOSE_ARRAY);B===u.doubleQuote?b.state=o.STRING:B===u.openBrace?b.state=o.OPEN_OBJECT:B===u.openBracket?b.state=o.OPEN_ARRAY:B===u.t?b.state=o.TRUE:B===u.f?b.state=o.FALSE:B===u.n?b.state=o.NULL:B===u.minus?b.numberNode+="-":u._0<=B&&B<=u._9?(b.numberNode+=String.fromCharCode(B),b.state=o.NUMBER_DIGIT):U(b,"Bad value");continue;case o.CLOSE_ARRAY:if(B===u.comma)b.stack.push(o.CLOSE_ARRAY),A(b,"onvalue"),b.state=o.VALUE;else if(B===u.closeBracket)j(b,"onclosearray"),this.depth--,b.state=b.stack.pop()||o.VALUE;else{if(V(B))continue;U(b,"Bad array")}continue;case o.STRING:b.textNode===void 0&&(b.textNode="");var ae=K-1,Ae=b.slashed,me=b.unicodeI;e:for(;;){for(n.DEBUG&&console.log(K,B,n.STATE[b.state],Ae);me>0;)if(b.unicodeS+=String.fromCharCode(B),B=D.charCodeAt(K++),b.position++,me===4?(b.textNode+=String.fromCharCode(parseInt(b.unicodeS,16)),me=0,ae=K-1):me++,!B)break e;if(B===u.doubleQuote&&!Ae){b.state=b.stack.pop()||o.VALUE,b.textNode+=D.substring(ae,K-1),b.position+=K-1-ae;break}if(B===u.backslash&&!Ae&&(Ae=!0,b.textNode+=D.substring(ae,K-1),b.position+=K-1-ae,B=D.charCodeAt(K++),b.position++,!B))break;if(Ae){if(Ae=!1,B===u.n?b.textNode+=`
`:B===u.r?b.textNode+="\r":B===u.t?b.textNode+="	":B===u.f?b.textNode+="\f":B===u.b?b.textNode+="\b":B===u.u?(me=1,b.unicodeS=""):b.textNode+=String.fromCharCode(B),B=D.charCodeAt(K++),b.position++,ae=K-1,B)continue;break}x.lastIndex=K;var ue=x.exec(D);if(ue===null){K=D.length+1,b.textNode+=D.substring(ae,K-1),b.position+=K-1-ae;break}if(K=ue.index+1,B=D.charCodeAt(ue.index),!B){b.textNode+=D.substring(ae,K-1),b.position+=K-1-ae;break}}b.slashed=Ae,b.unicodeI=me;continue;case o.TRUE:B===u.r?b.state=o.TRUE2:U(b,"Invalid true started with t"+B);continue;case o.TRUE2:B===u.u?b.state=o.TRUE3:U(b,"Invalid true started with tr"+B);continue;case o.TRUE3:B===u.e?(L(b,"onvalue",!0),b.state=b.stack.pop()||o.VALUE):U(b,"Invalid true started with tru"+B);continue;case o.FALSE:B===u.a?b.state=o.FALSE2:U(b,"Invalid false started with f"+B);continue;case o.FALSE2:B===u.l?b.state=o.FALSE3:U(b,"Invalid false started with fa"+B);continue;case o.FALSE3:B===u.s?b.state=o.FALSE4:U(b,"Invalid false started with fal"+B);continue;case o.FALSE4:B===u.e?(L(b,"onvalue",!1),b.state=b.stack.pop()||o.VALUE):U(b,"Invalid false started with fals"+B);continue;case o.NULL:B===u.u?b.state=o.NULL2:U(b,"Invalid null started with n"+B);continue;case o.NULL2:B===u.l?b.state=o.NULL3:U(b,"Invalid null started with nu"+B);continue;case o.NULL3:B===u.l?(L(b,"onvalue",null),b.state=b.stack.pop()||o.VALUE):U(b,"Invalid null started with nul"+B);continue;case o.NUMBER_DECIMAL_POINT:B===u.period?(b.numberNode+=".",b.state=o.NUMBER_DIGIT):U(b,"Leading zero not followed by .");continue;case o.NUMBER_DIGIT:u._0<=B&&B<=u._9?b.numberNode+=String.fromCharCode(B):B===u.period?(b.numberNode.indexOf(".")!==-1&&U(b,"Invalid number has two dots"),b.numberNode+="."):B===u.e||B===u.E?((b.numberNode.indexOf("e")!==-1||b.numberNode.indexOf("E")!==-1)&&U(b,"Invalid number has two exponential"),b.numberNode+="e"):B===u.plus||B===u.minus?(ge===u.e||ge===u.E||U(b,"Invalid symbol in number"),b.numberNode+=String.fromCharCode(B)):(P(b),K--,b.state=b.stack.pop()||o.VALUE);continue;default:U(b,"Unknown state: "+b.state)}return b.position>=b.bufferCheckPosition&&d(b),b}})(t)});function ky(e){var t=0,n=Sy(!0),r={pullAsync:function(i){return On(this,void 0,void 0,function(){var s,o,l;return Ht(this,function(c){switch(c.label){case 0:return s=e.slice(t,t+i),t+=i,[4,xc(s,"text")];case 1:return o=c.sent(),l=n.write(o),r.result=l||{},[2,l]}})})},pullSync:function(i){var s=e.slice(t,t+i);t+=i;var o=Cc(s,"text"),l=n.write(o);return r.result=l||{},l},done:function(){return n.done()},eof:function(){return t>=e.size},result:{}};return r}function Sy(e){var t=Dy.parser(),n=0,r,i=[],s,o,l=!1,c=!1;return t.onopenobject=function(u){var d={};d.incomplete=!0,r||(r=d),s&&(i.push([o,s,c]),e&&(c?s.push(d):s[o]=d)),s=d,o=u,c=!1,++n},t.onkey=function(u){return o=u},t.onvalue=function(u){return c?s.push(u):s[o]=u},t.oncloseobject=function(){var u;if(delete s.incomplete,o=null,--n===0)l=!0;else{var d=s;u=i.pop(),o=u[0],s=u[1],c=u[2],e||(c?s.push(d):s[o]=d)}},t.onopenarray=function(){var u=[];u.incomplete=!0,r||(r=u),s&&(i.push([o,s,c]),e&&(c?s.push(u):s[o]=u)),s=u,c=!0,o=null,++n},t.onclosearray=function(){var u;if(delete s.incomplete,o=null,--n===0)l=!0;else{var d=s;u=i.pop(),o=u[0],s=u[1],c=u[2],e||(c?s.push(d):s[o]=d)}},{write:function(u){return t.write(u),r},done:function(){return l}}}var Tc=1024;function Ty(e,t){return On(this,void 0,void 0,function(){var n,r,i,s;return Ht(this,function(o){switch(o.label){case 0:return t=t||{},n=t.chunkSizeBytes||Tc*1024,[4,Ec(e,n)];case 1:return r=o.sent(),i=r.result.data,s=new it(i.databaseName),s.version(i.databaseVersion).stores(my(i)),[4,Oc(s,r,t)];case 2:return o.sent(),[2,s]}})})}function Oc(e,t,n){return On(this,void 0,void 0,function(){function r(){return On(this,void 0,void 0,function(){var $,O,L,j,A;return Ht(this,function(P){switch(P.label){case 0:$=function(I){var U,W,V,re,D,b,K,B,ge,ae,Ae,me;return Ht(this,function(ue){switch(ue.label){case 0:if(!I.rows)return[2,"break"];if(!I.rows.incomplete&&I.rows.length===0)return[2,"continue"];if(u&&it.ignoreTransaction(function(){return u(d)}),U=I.tableName,W=e.table(U),V=c.tables.filter(function(oe){return oe.name===U})[0].schema,!W){if(n.acceptMissingTables)return[2,"continue"];throw new Error("Exported table ".concat(I.tableName," is missing in installed database"))}if(!n.acceptChangedPrimaryKey&&V.split(",")[0]!=W.schema.primKey.src)throw new Error("Primary key differs for table ".concat(I.tableName,". "));for(re=I.rows,D=[],b=0;b<re.length&&(K=re[b],!K.incomplete);b++)D.push(Ft.revive(K));return B=n.filter,ge=B?I.inbound?D.filter(function(oe){return B(U,oe)}):D.filter(function(oe){var Ue=oe[0],Ke=oe[1];return B(U,Ke,Ue)}):D,ae=I.inbound?[void 0,ge]:[ge.map(function(oe){return oe[0]}),D.map(function(oe){return oe[1]})],Ae=ae[0],me=ae[1],n.overwriteValues?[4,W.bulkPut(me,Ae)]:[3,2];case 1:return ue.sent(),[3,4];case 2:return[4,W.bulkAdd(me,Ae)];case 3:ue.sent(),ue.label=4;case 4:return d.completedRows+=D.length,D.incomplete||(d.completedTables+=1),re.splice(0,D.length),[2]}})},O=0,L=c.data,P.label=1;case 1:return O<L.length?(j=L[O],[5,$(j)]):[3,4];case 2:if(A=P.sent(),A==="break")return[3,4];P.label=3;case 3:return O++,[3,1];case 4:for(;c.data.length>0&&c.data[0].rows&&!c.data[0].rows.incomplete;)c.data.splice(0,1);return!s.done()&&!s.eof()?l?(s.pullSync(i),[3,7]):[3,5]:[3,8];case 5:return[4,it.waitFor(s.pullAsync(i))];case 6:P.sent(),P.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var i,s,o,l,c,u,d,w,x,S;return Ht(this,function($){switch($.label){case 0:return n=n||{},i=n.chunkSizeBytes||Tc*1024,[4,Ec(t,i)];case 1:if(s=$.sent(),o=s.result,l="FileReaderSync"in self,c=o.data,!n.acceptNameDiff&&e.name!==c.databaseName)throw new Error("Name differs. Current database name is ".concat(e.name," but export is ").concat(c.databaseName));if(!n.acceptVersionDiff&&e.verno!==c.databaseVersion)throw new Error("Database version differs. Current database is in version ".concat(e.verno," but export is ").concat(c.databaseVersion));if(u=n.progressCallback,d={done:!1,completedRows:0,completedTables:0,totalRows:c.tables.reduce(function(O,L){return O+L.rowCount},0),totalTables:c.tables.length},u&&it.ignoreTransaction(function(){return u(d)}),!n.clearTablesBeforeImport)return[3,5];w=0,x=e.tables,$.label=2;case 2:return w<x.length?(S=x[w],[4,S.clear()]):[3,5];case 3:$.sent(),$.label=4;case 4:return w++,[3,2];case 5:return n.noTransaction?[4,r()]:[3,7];case 6:return $.sent(),[3,9];case 7:return[4,e.transaction("rw",e.tables,r)];case 8:$.sent(),$.label=9;case 9:return d.done=!0,u&&it.ignoreTransaction(function(){return u(d)}),[2]}})})}function Ec(e,t){return On(this,void 0,void 0,function(){var n,r;return Ht(this,function(i){switch(i.label){case 0:n="slice"in e?ky(e):e,i.label=1;case 1:return n.eof()?[3,3]:[4,n.pullAsync(t)];case 2:return i.sent(),n.result.data&&n.result.data.data?[3,3]:[3,1];case 3:if(r=n.result,!r||r.formatName!="dexie")throw new Error("Given file is not a dexie export");if(r.formatVersion>xy)throw new Error("Format version ".concat(r.formatVersion," not supported"));if(!r.data)throw new Error("No data in export file");if(!r.data.databaseName)throw new Error("Missing databaseName in export file");if(!r.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!r.data.tables)throw new Error("Missing tables in export file");return[2,n]}})})}it.prototype.export=function(e){return Sc(this,e)};it.prototype.import=function(e,t){return Oc(this,e,t)};it.import=function(e,t){return Ty(e,t)};const Oy={class:"relative p-5 shadow-xl rounded-xl mb-5 bg-gray-600"},Ey=q("div",{class:"text-2xl font-bold mb-6"}," ",-1),Ay={class:"flex flex-wrap items-center gap-5"},Py=q("input",{type:"file",accept:"application/JSON",class:"p-0 m-0 absolute inset-0 z-10 opacity-0 cursor-pointer"},null,-1),$y=q("span",{class:"pointer-events-none"},"",-1),Ny={class:"p-5 shadow-xl rounded-xl mb-5 bg-gray-600 ring-4 ring-red-400"},Iy=q("div",{class:"text-2xl font-bold mb-6 text-red-400"},"!",-1),Fy={class:"flex flex-wrap items-center gap-5"},My=En({__name:"Settings",setup(e){const t=ei(),n=wr({dbLoading:!1});Rl(()=>!!new URLSearchParams(window.location.search).has("danger"));async function r(){if(window.confirm("   ?"))try{await un.close(),un.delete("avito_scraper"),t==null||t.show("error",Et.DBDropSuccess),window.location.reload()}catch{t==null||t.show("error",Et.DBDropError)}}async function i(){window.confirm("  ?")&&(await chrome.storage.local.remove(["profileList","parsingResults","filterFields","reviewsFilter"]),window.location.reload())}async function s(){let l=new Date().toLocaleString().replace(",","----").replace(" ","").replace(/\:/g,"-").replace(/\./g,"-");n.dbLoading=!0;try{const c=`avito-scraper-dump----${l}.json`,u=await Sc(un),d=new Blob([u],{type:"text/json"}),w=document.createElement("a");w.href=URL.createObjectURL(d),w.download=c,w.click(),w.remove(),t==null||t.show("success",Et.DBExportSuccess)}catch{t==null||t.show("error",Et.DBExportError)}finally{n.dbLoading=!1}}return(o,l)=>(we(),Oe(st,null,[q("div",Oy,[n.dbLoading?(we(),Zt(co,{key:0,class:"w-8 h-8 absolute right-5 top-5"})):rt("",!0),Ey,q("div",Ay,[et(Vt,{theme:"success",icon:"cloud_upload"},{default:Kt(()=>[Py,$y]),_:1}),et(Vt,{theme:"info",icon:"cloud_download",onClick:s},{default:Kt(()=>[Jt("")]),_:1})])]),q("div",Ny,[Iy,q("div",Fy,[et(Vt,{theme:"danger",icon:"delete_sweep",onClick:Wt(i,["stop"])},{default:Kt(()=>[Jt(" localStorage")]),_:1},8,["onClick"]),et(Vt,{theme:"danger",icon:"delete_forever",onClick:Wt(r,["stop"])},{default:Kt(()=>[Jt(" IndexedDB")]),_:1},8,["onClick"])])])],64))}}),Ly={class:"centered"},jy=En({__name:"App",setup(e){const t=ei(),n=Wn();async function r(i){const s=Br.value.find(o=>o.url===i);s&&s.existsInDataBase&&await _c(s)}return xr(async()=>{ud(),chrome.runtime.onMessage.addListener(async({message:i,action:s,status:o,currentUrl:l,data:c})=>{var u;if(o&&i&&(t==null||t.show(o,i)),s==="reviews-parsing-started"){const d=ws(l);d&&(d.status="wait")}if(s==="reviews-parsing-ended"){if(o==="success"){wc.push(...c),r(l);const w=ws(l);w&&(w.status="success")}if(o==="error"){const w=ws(l);w&&(w.status="error")}bc()?(u=n.value)==null||u.onSubmit():(bn.value=Mt.ProfileInfoList,vh())}s==="profile-info"&&Ud(c)})}),(i,s)=>(we(),Oe(st,null,[et(lh),q("main",Ly,[(we(),Zt(Ru,null,[ke(bn)===ke(Mt).ReviewsFilter?(we(),Zt(Rd,{key:0,ref_key:"filterRef",ref:n},null,512)):rt("",!0)],1024)),ke(bn)===ke(Mt).ProfileInfoList?(we(),Zt(Fp,{key:0})):rt("",!0),ke(bn)===ke(Mt).ProfileSavedList?(we(),Zt(py,{key:1})):rt("",!0),ke(bn)===ke(Mt).Settings?(we(),Zt(My,{key:2})):rt("",!0)])],64))}});class By{constructor(t){ss(this,"canvas",null);ss(this,"settings",{canvasClass:"rd-toast-canvas",groupContainerClass:"rd-toast-container",iconClass:"rd-toast-item-icon",showClass:"show",hideClass:"hide",toastClass:"rd-toast-item",toastContentClass:"rd-toast-item-content",icon:"",type:"info",position:"bottom-right",duration:5e3,hideOnClick:!1});this.settings={...this.settings,...t},this.init()}show(t="info",n="",r={}){var c,u;const i={...this.settings,...r,type:t},s=(c=this.canvas)==null?void 0:c.querySelector(`.${this.settings.groupContainerClass}.position-${i.position}`),o=this.createToast(n,i);if(s)return s.append(o),o;const l=this.createContainer(i);return l.append(o),(u=this.canvas)==null||u.append(l),o}drop(t,n={}){const r={...this.settings,...n};this.removeToast(t,r)}createToast(t,n){const r=document.createElement("div"),i=[n.toastClass||"",`type-${n.type}`,`position-${n.position}`||"",n.showClass||""];r.classList.add(...i),r.innerHTML=`<div class="${n.toastContentClass}">${t}</div>`,n.icon&&r.insertAdjacentHTML("afterbegin",`<div class="${n.iconClass}">${n.icon}</div>`);const s=setTimeout(()=>{this.removeToast(r,n)},n.duration);return n.hideOnClick&&r.addEventListener("click",()=>{clearTimeout(s),this.removeToast(r,n)}),r}removeToast(t,n){n.showClass&&t.classList.remove(n.showClass),n.hideClass&&t.classList.add(n.hideClass);let r=getComputedStyle(t).getPropertyValue("animation-duration");setTimeout(()=>{t.remove()},parseFloat(r)*1e3)}createContainer(t){const n=document.createElement("div");return n.classList.add(this.settings.groupContainerClass,`position-${t.position}`),n}init(){const t=document.querySelector(`.${this.settings.canvasClass}`);if(t){this.canvas=t;return}this.canvas=document.createElement("div"),this.canvas.classList.add(this.settings.canvasClass),document.body.append(this.canvas)}}const Ry={install(e){e.config.globalProperties.$toast=new By({hideOnClick:!0,position:"bottom-right"})}};eh(jy).use(Ry).mount("#options");

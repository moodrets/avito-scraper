var I1=Object.defineProperty;var L1=(e,t,r)=>t in e?I1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Vn=(e,t,r)=>(L1(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function Bc(e,t){const r=Object.create(null),s=e.split(",");for(let o=0;o<s.length;o++)r[s[o]]=!0;return t?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const Ut={},Os=[],Ar=()=>{},$1=()=>!1,F1=/^on[^a-z]/,pl=e=>F1.test(e),Mc=e=>e.startsWith("onUpdate:"),dn=Object.assign,Uc=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},N1=Object.prototype.hasOwnProperty,St=(e,t)=>N1.call(e,t),ze=Array.isArray,ks=e=>Ro(e)==="[object Map]",Bp=e=>Ro(e)==="[object Set]",R1=e=>Ro(e)==="[object RegExp]",rt=e=>typeof e=="function",rn=e=>typeof e=="string",Kc=e=>typeof e=="symbol",Gt=e=>e!==null&&typeof e=="object",Mp=e=>Gt(e)&&rt(e.then)&&rt(e.catch),Up=Object.prototype.toString,Ro=e=>Up.call(e),B1=e=>Ro(e).slice(8,-1),Kp=e=>Ro(e)==="[object Object]",jc=e=>rn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ja=Bc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gl=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},M1=/-(\w)/g,Ms=gl(e=>e.replace(M1,(t,r)=>r?r.toUpperCase():"")),U1=/\B([A-Z])/g,ns=gl(e=>e.replace(U1,"-$1").toLowerCase()),jp=gl(e=>e.charAt(0).toUpperCase()+e.slice(1)),Nu=gl(e=>e?`on${jp(e)}`:""),Co=(e,t)=>!Object.is(e,t),Ps=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Qa=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Zu=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Vd;const Qu=()=>Vd||(Vd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ji(e){if(ze(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],o=rn(s)?V1(s):Ji(s);if(o)for(const l in o)t[l]=o[l]}return t}else{if(rn(e))return e;if(Gt(e))return e}}const K1=/;(?![^(]*\))/g,j1=/:([^]+)/,H1=/\/\*[^]*?\*\//g;function V1(e){const t={};return e.replace(H1,"").split(K1).forEach(r=>{if(r){const s=r.split(j1);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function _n(e){let t="";if(rn(e))t=e;else if(ze(e))for(let r=0;r<e.length;r++){const s=_n(e[r]);s&&(t+=s+" ")}else if(Gt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const W1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",q1=Bc(W1);function Hp(e){return!!e||e===""}const Ze=e=>rn(e)?e:e==null?"":ze(e)||Gt(e)&&(e.toString===Up||!rt(e.toString))?JSON.stringify(e,Vp,2):String(e),Vp=(e,t)=>t&&t.__v_isRef?Vp(e,t.value):ks(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,o])=>(r[`${s} =>`]=o,r),{})}:Bp(t)?{[`Set(${t.size})`]:[...t.values()]}:Gt(t)&&!ze(t)&&!Kp(t)?String(t):t;let xr;class G1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=xr,!t&&xr&&(this.index=(xr.scopes||(xr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=xr;try{return xr=this,t()}finally{xr=r}}}on(){xr=this}off(){xr=this.parent}stop(t){if(this._active){let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.scopes)for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function J1(e,t=xr){t&&t.active&&t.effects.push(e)}function Y1(){return xr}const Hc=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Wp=e=>(e.w&Ti)>0,qp=e=>(e.n&Ti)>0,z1=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ti},X1=e=>{const{deps:t}=e;if(t.length){let r=0;for(let s=0;s<t.length;s++){const o=t[s];Wp(o)&&!qp(o)?o.delete(e):t[r++]=o,o.w&=~Ti,o.n&=~Ti}t.length=r}},ec=new WeakMap;let co=0,Ti=1;const tc=30;let Sr;const Yi=Symbol(""),nc=Symbol("");class Vc{constructor(t,r=null,s){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,J1(this,s)}run(){if(!this.active)return this.fn();let t=Sr,r=Si;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Sr,Sr=this,Si=!0,Ti=1<<++co,co<=tc?z1(this):Wd(this),this.fn()}finally{co<=tc&&X1(this),Ti=1<<--co,Sr=this.parent,Si=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Sr===this?this.deferStop=!0:this.active&&(Wd(this),this.onStop&&this.onStop(),this.active=!1)}}function Wd(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let Si=!0;const Gp=[];function Hs(){Gp.push(Si),Si=!1}function Vs(){const e=Gp.pop();Si=e===void 0?!0:e}function Wn(e,t,r){if(Si&&Sr){let s=ec.get(e);s||ec.set(e,s=new Map);let o=s.get(r);o||s.set(r,o=Hc()),Jp(o)}}function Jp(e,t){let r=!1;co<=tc?qp(e)||(e.n|=Ti,r=!Wp(e)):r=!e.has(Sr),r&&(e.add(Sr),Sr.deps.push(e))}function ri(e,t,r,s,o,l){const u=ec.get(e);if(!u)return;let h=[];if(t==="clear")h=[...u.values()];else if(r==="length"&&ze(e)){const p=Number(s);u.forEach((d,_)=>{(_==="length"||_>=p)&&h.push(d)})}else switch(r!==void 0&&h.push(u.get(r)),t){case"add":ze(e)?jc(r)&&h.push(u.get("length")):(h.push(u.get(Yi)),ks(e)&&h.push(u.get(nc)));break;case"delete":ze(e)||(h.push(u.get(Yi)),ks(e)&&h.push(u.get(nc)));break;case"set":ks(e)&&h.push(u.get(Yi));break}if(h.length===1)h[0]&&rc(h[0]);else{const p=[];for(const d of h)d&&p.push(...d);rc(Hc(p))}}function rc(e,t){const r=ze(e)?e:[...e];for(const s of r)s.computed&&qd(s);for(const s of r)s.computed||qd(s)}function qd(e,t){(e!==Sr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Z1=Bc("__proto__,__v_isRef,__isVue"),Yp=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Kc)),Q1=Wc(),ex=Wc(!1,!0),tx=Wc(!0),Gd=nx();function nx(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const s=Et(this);for(let l=0,u=this.length;l<u;l++)Wn(s,"get",l+"");const o=s[t](...r);return o===-1||o===!1?s[t](...r.map(Et)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Hs();const s=Et(this)[t].apply(this,r);return Vs(),s}}),e}function rx(e){const t=Et(this);return Wn(t,"has",e),t.hasOwnProperty(e)}function Wc(e=!1,t=!1){return function(s,o,l){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&l===(e?t?_x:eg:t?Qp:Zp).get(s))return s;const u=ze(s);if(!e){if(u&&St(Gd,o))return Reflect.get(Gd,o,l);if(o==="hasOwnProperty")return rx}const h=Reflect.get(s,o,l);return(Kc(o)?Yp.has(o):Z1(o))||(e||Wn(s,"get",o),t)?h:Dn(h)?u&&jc(o)?h:h.value:Gt(h)?e?tg(h):Pi(h):h}}const ix=zp(),sx=zp(!0);function zp(e=!1){return function(r,s,o,l){let u=r[s];if(Us(u)&&Dn(u)&&!Dn(o))return!1;if(!e&&(!el(o)&&!Us(o)&&(u=Et(u),o=Et(o)),!ze(r)&&Dn(u)&&!Dn(o)))return u.value=o,!0;const h=ze(r)&&jc(s)?Number(s)<r.length:St(r,s),p=Reflect.set(r,s,o,l);return r===Et(l)&&(h?Co(o,u)&&ri(r,"set",s,o):ri(r,"add",s,o)),p}}function ox(e,t){const r=St(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&r&&ri(e,"delete",t,void 0),s}function ax(e,t){const r=Reflect.has(e,t);return(!Kc(t)||!Yp.has(t))&&Wn(e,"has",t),r}function lx(e){return Wn(e,"iterate",ze(e)?"length":Yi),Reflect.ownKeys(e)}const Xp={get:Q1,set:ix,deleteProperty:ox,has:ax,ownKeys:lx},ux={get:tx,set(e,t){return!0},deleteProperty(e,t){return!0}},cx=dn({},Xp,{get:ex,set:sx}),qc=e=>e,yl=e=>Reflect.getPrototypeOf(e);function Ea(e,t,r=!1,s=!1){e=e.__v_raw;const o=Et(e),l=Et(t);r||(t!==l&&Wn(o,"get",t),Wn(o,"get",l));const{has:u}=yl(o),h=s?qc:r?Yc:To;if(u.call(o,t))return h(e.get(t));if(u.call(o,l))return h(e.get(l));e!==o&&e.get(t)}function Oa(e,t=!1){const r=this.__v_raw,s=Et(r),o=Et(e);return t||(e!==o&&Wn(s,"has",e),Wn(s,"has",o)),e===o?r.has(e):r.has(e)||r.has(o)}function ka(e,t=!1){return e=e.__v_raw,!t&&Wn(Et(e),"iterate",Yi),Reflect.get(e,"size",e)}function Jd(e){e=Et(e);const t=Et(this);return yl(t).has.call(t,e)||(t.add(e),ri(t,"add",e,e)),this}function Yd(e,t){t=Et(t);const r=Et(this),{has:s,get:o}=yl(r);let l=s.call(r,e);l||(e=Et(e),l=s.call(r,e));const u=o.call(r,e);return r.set(e,t),l?Co(t,u)&&ri(r,"set",e,t):ri(r,"add",e,t),this}function zd(e){const t=Et(this),{has:r,get:s}=yl(t);let o=r.call(t,e);o||(e=Et(e),o=r.call(t,e)),s&&s.call(t,e);const l=t.delete(e);return o&&ri(t,"delete",e,void 0),l}function Xd(){const e=Et(this),t=e.size!==0,r=e.clear();return t&&ri(e,"clear",void 0,void 0),r}function Pa(e,t){return function(s,o){const l=this,u=l.__v_raw,h=Et(u),p=t?qc:e?Yc:To;return!e&&Wn(h,"iterate",Yi),u.forEach((d,_)=>s.call(o,p(d),p(_),l))}}function Ia(e,t,r){return function(...s){const o=this.__v_raw,l=Et(o),u=ks(l),h=e==="entries"||e===Symbol.iterator&&u,p=e==="keys"&&u,d=o[e](...s),_=r?qc:t?Yc:To;return!t&&Wn(l,"iterate",p?nc:Yi),{next(){const{value:w,done:O}=d.next();return O?{value:w,done:O}:{value:h?[_(w[0]),_(w[1])]:_(w),done:O}},[Symbol.iterator](){return this}}}}function mi(e){return function(...t){return e==="delete"?!1:this}}function fx(){const e={get(l){return Ea(this,l)},get size(){return ka(this)},has:Oa,add:Jd,set:Yd,delete:zd,clear:Xd,forEach:Pa(!1,!1)},t={get(l){return Ea(this,l,!1,!0)},get size(){return ka(this)},has:Oa,add:Jd,set:Yd,delete:zd,clear:Xd,forEach:Pa(!1,!0)},r={get(l){return Ea(this,l,!0)},get size(){return ka(this,!0)},has(l){return Oa.call(this,l,!0)},add:mi("add"),set:mi("set"),delete:mi("delete"),clear:mi("clear"),forEach:Pa(!0,!1)},s={get(l){return Ea(this,l,!0,!0)},get size(){return ka(this,!0)},has(l){return Oa.call(this,l,!0)},add:mi("add"),set:mi("set"),delete:mi("delete"),clear:mi("clear"),forEach:Pa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=Ia(l,!1,!1),r[l]=Ia(l,!0,!1),t[l]=Ia(l,!1,!0),s[l]=Ia(l,!0,!0)}),[e,r,t,s]}const[hx,dx,px,gx]=fx();function Gc(e,t){const r=t?e?gx:px:e?dx:hx;return(s,o,l)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(St(r,o)&&o in s?r:s,o,l)}const yx={get:Gc(!1,!1)},mx={get:Gc(!1,!0)},vx={get:Gc(!0,!1)},Zp=new WeakMap,Qp=new WeakMap,eg=new WeakMap,_x=new WeakMap;function bx(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wx(e){return e.__v_skip||!Object.isExtensible(e)?0:bx(B1(e))}function Pi(e){return Us(e)?e:Jc(e,!1,Xp,yx,Zp)}function xx(e){return Jc(e,!1,cx,mx,Qp)}function tg(e){return Jc(e,!0,ux,vx,eg)}function Jc(e,t,r,s,o){if(!Gt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=o.get(e);if(l)return l;const u=wx(e);if(u===0)return e;const h=new Proxy(e,u===2?s:r);return o.set(e,h),h}function Is(e){return Us(e)?Is(e.__v_raw):!!(e&&e.__v_isReactive)}function Us(e){return!!(e&&e.__v_isReadonly)}function el(e){return!!(e&&e.__v_isShallow)}function ng(e){return Is(e)||Us(e)}function Et(e){const t=e&&e.__v_raw;return t?Et(t):e}function rg(e){return Qa(e,"__v_skip",!0),e}const To=e=>Gt(e)?Pi(e):e,Yc=e=>Gt(e)?tg(e):e;function ig(e){Si&&Sr&&(e=Et(e),Jp(e.dep||(e.dep=Hc())))}function sg(e,t){e=Et(e);const r=e.dep;r&&rc(r)}function Dn(e){return!!(e&&e.__v_isRef===!0)}function Dr(e){return Sx(e,!1)}function Sx(e,t){return Dn(e)?e:new Cx(e,t)}class Cx{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Et(t),this._value=r?t:To(t)}get value(){return ig(this),this._value}set value(t){const r=this.__v_isShallow||el(t)||Us(t);t=r?t:Et(t),Co(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:To(t),sg(this))}}function _e(e){return Dn(e)?e.value:e}const Tx={get:(e,t,r)=>_e(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const o=e[t];return Dn(o)&&!Dn(r)?(o.value=r,!0):Reflect.set(e,t,r,s)}};function og(e){return Is(e)?e:new Proxy(e,Tx)}class Ax{constructor(t,r,s,o){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Vc(t,()=>{this._dirty||(this._dirty=!0,sg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=Et(this);return ig(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Dx(e,t,r=!1){let s,o;const l=rt(e);return l?(s=e,o=Ar):(s=e.get,o=e.set),new Ax(s,o,l||!o,r)}function Ci(e,t,r,s){let o;try{o=s?e(...s):e()}catch(l){ml(l,t,r)}return o}function Er(e,t,r,s){if(rt(e)){const l=Ci(e,t,r,s);return l&&Mp(l)&&l.catch(u=>{ml(u,t,r)}),l}const o=[];for(let l=0;l<e.length;l++)o.push(Er(e[l],t,r,s));return o}function ml(e,t,r,s=!0){const o=t?t.vnode:null;if(t){let l=t.parent;const u=t.proxy,h=r;for(;l;){const d=l.ec;if(d){for(let _=0;_<d.length;_++)if(d[_](e,u,h)===!1)return}l=l.parent}const p=t.appContext.config.errorHandler;if(p){Ci(p,null,10,[e,u,h]);return}}Ex(e,r,o,s)}function Ex(e,t,r,s=!0){console.error(e)}let Ao=!1,ic=!1;const Tn=[];let Nr=0;const Ls=[];let Yr=null,Vi=0;const ag=Promise.resolve();let zc=null;function Ox(e){const t=zc||ag;return e?t.then(this?e.bind(this):e):t}function kx(e){let t=Nr+1,r=Tn.length;for(;t<r;){const s=t+r>>>1;Do(Tn[s])<e?t=s+1:r=s}return t}function Xc(e){(!Tn.length||!Tn.includes(e,Ao&&e.allowRecurse?Nr+1:Nr))&&(e.id==null?Tn.push(e):Tn.splice(kx(e.id),0,e),lg())}function lg(){!Ao&&!ic&&(ic=!0,zc=ag.then(cg))}function Px(e){const t=Tn.indexOf(e);t>Nr&&Tn.splice(t,1)}function Ix(e){ze(e)?Ls.push(...e):(!Yr||!Yr.includes(e,e.allowRecurse?Vi+1:Vi))&&Ls.push(e),lg()}function Zd(e,t=Ao?Nr+1:0){for(;t<Tn.length;t++){const r=Tn[t];r&&r.pre&&(Tn.splice(t,1),t--,r())}}function ug(e){if(Ls.length){const t=[...new Set(Ls)];if(Ls.length=0,Yr){Yr.push(...t);return}for(Yr=t,Yr.sort((r,s)=>Do(r)-Do(s)),Vi=0;Vi<Yr.length;Vi++)Yr[Vi]();Yr=null,Vi=0}}const Do=e=>e.id==null?1/0:e.id,Lx=(e,t)=>{const r=Do(e)-Do(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function cg(e){ic=!1,Ao=!0,Tn.sort(Lx);const t=Ar;try{for(Nr=0;Nr<Tn.length;Nr++){const r=Tn[Nr];r&&r.active!==!1&&Ci(r,null,14)}}finally{Nr=0,Tn.length=0,ug(),Ao=!1,zc=null,(Tn.length||Ls.length)&&cg()}}function $x(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||Ut;let o=r;const l=t.startsWith("update:"),u=l&&t.slice(7);if(u&&u in s){const _=`${u==="modelValue"?"model":u}Modifiers`,{number:w,trim:O}=s[_]||Ut;O&&(o=r.map(R=>rn(R)?R.trim():R)),w&&(o=r.map(Zu))}let h,p=s[h=Nu(t)]||s[h=Nu(Ms(t))];!p&&l&&(p=s[h=Nu(ns(t))]),p&&Er(p,e,6,o);const d=s[h+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Er(d,e,6,o)}}function fg(e,t,r=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const l=e.emits;let u={},h=!1;if(!rt(e)){const p=d=>{const _=fg(d,t,!0);_&&(h=!0,dn(u,_))};!r&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!l&&!h?(Gt(e)&&s.set(e,null),null):(ze(l)?l.forEach(p=>u[p]=null):dn(u,l),Gt(e)&&s.set(e,u),u)}function vl(e,t){return!e||!pl(t)?!1:(t=t.slice(2).replace(/Once$/,""),St(e,t[0].toLowerCase()+t.slice(1))||St(e,ns(t))||St(e,t))}let En=null,hg=null;function tl(e){const t=En;return En=e,hg=e&&e.type.__scopeId||null,t}function fn(e,t=En,r){if(!t||e._n)return e;const s=(...o)=>{s._d&&lp(-1);const l=tl(t);let u;try{u=e(...o)}finally{tl(l),s._d&&lp(1)}return u};return s._n=!0,s._c=!0,s._d=!0,s}function Ru(e){const{type:t,vnode:r,proxy:s,withProxy:o,props:l,propsOptions:[u],slots:h,attrs:p,emit:d,render:_,renderCache:w,data:O,setupState:R,ctx:L,inheritAttrs:F}=e;let J,z;const B=tl(e);try{if(r.shapeFlag&4){const j=o||s;J=Fr(_.call(j,j,w,l,R,O,L)),z=p}else{const j=t;J=Fr(j.length>1?j(l,{attrs:p,slots:h,emit:d}):j(l,null)),z=t.props?p:Fx(p)}}catch(j){vo.length=0,ml(j,e,1),J=ft(Ai)}let M=J;if(z&&F!==!1){const j=Object.keys(z),{shapeFlag:Z}=M;j.length&&Z&7&&(u&&j.some(Mc)&&(z=Nx(z,u)),M=Qi(M,z))}return r.dirs&&(M=Qi(M),M.dirs=M.dirs?M.dirs.concat(r.dirs):r.dirs),r.transition&&(M.transition=r.transition),J=M,tl(B),J}const Fx=e=>{let t;for(const r in e)(r==="class"||r==="style"||pl(r))&&((t||(t={}))[r]=e[r]);return t},Nx=(e,t)=>{const r={};for(const s in e)(!Mc(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function Rx(e,t,r){const{props:s,children:o,component:l}=e,{props:u,children:h,patchFlag:p}=t,d=l.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&p>=0){if(p&1024)return!0;if(p&16)return s?Qd(s,u,d):!!u;if(p&8){const _=t.dynamicProps;for(let w=0;w<_.length;w++){const O=_[w];if(u[O]!==s[O]&&!vl(d,O))return!0}}}else return(o||h)&&(!h||!h.$stable)?!0:s===u?!1:s?u?Qd(s,u,d):!0:!!u;return!1}function Qd(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const l=s[o];if(t[l]!==e[l]&&!vl(r,l))return!0}return!1}function Bx({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const dg=e=>e.__isSuspense;function Mx(e,t){t&&t.pendingBranch?ze(e)?t.effects.push(...e):t.effects.push(e):Ix(e)}const La={};function Ha(e,t,r){return pg(e,t,r)}function pg(e,t,{immediate:r,deep:s,flush:o,onTrack:l,onTrigger:u}=Ut){var h;const p=Y1()===((h=vn)==null?void 0:h.scope)?vn:null;let d,_=!1,w=!1;if(Dn(e)?(d=()=>e.value,_=el(e)):Is(e)?(d=()=>e,s=!0):ze(e)?(w=!0,_=e.some(j=>Is(j)||el(j)),d=()=>e.map(j=>{if(Dn(j))return j.value;if(Is(j))return qi(j);if(rt(j))return Ci(j,p,2)})):rt(e)?t?d=()=>Ci(e,p,2):d=()=>{if(!(p&&p.isUnmounted))return O&&O(),Er(e,p,3,[R])}:d=Ar,t&&s){const j=d;d=()=>qi(j())}let O,R=j=>{O=B.onStop=()=>{Ci(j,p,4)}},L;if(Oo)if(R=Ar,t?r&&Er(t,p,3,[d(),w?[]:void 0,R]):d(),o==="sync"){const j=kS();L=j.__watcherHandles||(j.__watcherHandles=[])}else return Ar;let F=w?new Array(e.length).fill(La):La;const J=()=>{if(B.active)if(t){const j=B.run();(s||_||(w?j.some((Z,se)=>Co(Z,F[se])):Co(j,F)))&&(O&&O(),Er(t,p,3,[j,F===La?void 0:w&&F[0]===La?[]:F,R]),F=j)}else B.run()};J.allowRecurse=!!t;let z;o==="sync"?z=J:o==="post"?z=()=>mn(J,p&&p.suspense):(J.pre=!0,p&&(J.id=p.uid),z=()=>Xc(J));const B=new Vc(d,z);t?r?J():F=B.run():o==="post"?mn(B.run.bind(B),p&&p.suspense):B.run();const M=()=>{B.stop(),p&&p.scope&&Uc(p.scope.effects,B)};return L&&L.push(M),M}function Ux(e,t,r){const s=this.proxy,o=rn(e)?e.includes(".")?gg(s,e):()=>s[e]:e.bind(s,s);let l;rt(t)?l=t:(l=t.handler,r=t);const u=vn;Ks(this);const h=pg(o,l.bind(s),r);return u?Ks(u):zi(),h}function gg(e,t){const r=t.split(".");return()=>{let s=e;for(let o=0;o<r.length&&s;o++)s=s[r[o]];return s}}function qi(e,t){if(!Gt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Dn(e))qi(e.value,t);else if(ze(e))for(let r=0;r<e.length;r++)qi(e[r],t);else if(Bp(e)||ks(e))e.forEach(r=>{qi(r,t)});else if(Kp(e))for(const r in e)qi(e[r],t);return e}function nr(e,t){const r=En;if(r===null)return e;const s=xl(r)||r.proxy,o=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[u,h,p,d=Ut]=t[l];u&&(rt(u)&&(u={mounted:u,updated:u}),u.deep&&qi(h),o.push({dir:u,instance:s,value:h,oldValue:void 0,arg:p,modifiers:d}))}return e}function Ki(e,t,r,s){const o=e.dirs,l=t&&t.dirs;for(let u=0;u<o.length;u++){const h=o[u];l&&(h.oldValue=l[u].value);let p=h.dir[s];p&&(Hs(),Er(p,r,8,[e.el,h,e,t]),Vs())}}function yg(e,t){e.shapeFlag&6&&e.component?yg(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qn(e,t){return rt(e)?(()=>dn({name:e.name},t,{setup:e}))():e}const $s=e=>!!e.type.__asyncLoader,mg=e=>e.type.__isKeepAlive,Kx={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=$g(),s=r.ctx;if(!s.renderer)return()=>{const B=t.default&&t.default();return B&&B.length===1?B[0]:B};const o=new Map,l=new Set;let u=null;const h=r.suspense,{renderer:{p,m:d,um:_,o:{createElement:w}}}=s,O=w("div");s.activate=(B,M,j,Z,se)=>{const ne=B.component;d(B,M,j,0,h),p(ne.vnode,B,M,j,ne,h,Z,B.slotScopeIds,se),mn(()=>{ne.isDeactivated=!1,ne.a&&Ps(ne.a);const ve=B.props&&B.props.onVnodeMounted;ve&&pr(ve,ne.parent,B)},h)},s.deactivate=B=>{const M=B.component;d(B,O,null,1,h),mn(()=>{M.da&&Ps(M.da);const j=B.props&&B.props.onVnodeUnmounted;j&&pr(j,M.parent,B),M.isDeactivated=!0},h)};function R(B){Bu(B),_(B,r,h,!0)}function L(B){o.forEach((M,j)=>{const Z=hp(M.type);Z&&(!B||!B(Z))&&F(j)})}function F(B){const M=o.get(B);!u||!Cs(M,u)?R(M):u&&Bu(u),o.delete(B),l.delete(B)}Ha(()=>[e.include,e.exclude],([B,M])=>{B&&L(j=>fo(B,j)),M&&L(j=>!fo(M,j))},{flush:"post",deep:!0});let J=null;const z=()=>{J!=null&&o.set(J,Mu(r.subTree))};return rs(z),bg(z),Bo(()=>{o.forEach(B=>{const{subTree:M,suspense:j}=r,Z=Mu(M);if(B.type===Z.type&&B.key===Z.key){Bu(Z);const se=Z.component.da;se&&mn(se,j);return}R(B)})}),()=>{if(J=null,!t.default)return null;const B=t.default(),M=B[0];if(B.length>1)return u=null,B;if(!ef(M)||!(M.shapeFlag&4)&&!(M.shapeFlag&128))return u=null,M;let j=Mu(M);const Z=j.type,se=hp($s(j)?j.type.__asyncResolved||{}:Z),{include:ne,exclude:ve,max:k}=e;if(ne&&(!se||!fo(ne,se))||ve&&se&&fo(ve,se))return u=j,M;const E=j.key==null?Z:j.key,te=o.get(E);return j.el&&(j=Qi(j),M.shapeFlag&128&&(M.ssContent=j)),J=E,te?(j.el=te.el,j.component=te.component,j.transition&&yg(j,j.transition),j.shapeFlag|=512,l.delete(E),l.add(E)):(l.add(E),k&&l.size>parseInt(k,10)&&F(l.values().next().value)),j.shapeFlag|=256,u=j,dg(M.type)?M:j}}},jx=Kx;function fo(e,t){return ze(e)?e.some(r=>fo(r,t)):rn(e)?e.split(",").includes(t):R1(e)?e.test(t):!1}function Hx(e,t){vg(e,"a",t)}function Vx(e,t){vg(e,"da",t)}function vg(e,t,r=vn){const s=e.__wdc||(e.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(_l(t,s,r),r){let o=r.parent;for(;o&&o.parent;)mg(o.parent.vnode)&&Wx(s,t,r,o),o=o.parent}}function Wx(e,t,r,s){const o=_l(t,e,s,!0);wg(()=>{Uc(s[t],o)},r)}function Bu(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Mu(e){return e.shapeFlag&128?e.ssContent:e}function _l(e,t,r=vn,s=!1){if(r){const o=r[e]||(r[e]=[]),l=t.__weh||(t.__weh=(...u)=>{if(r.isUnmounted)return;Hs(),Ks(r);const h=Er(t,r,e,u);return zi(),Vs(),h});return s?o.unshift(l):o.push(l),l}}const si=e=>(t,r=vn)=>(!Oo||e==="sp")&&_l(e,(...s)=>t(...s),r),_g=si("bm"),rs=si("m"),qx=si("bu"),bg=si("u"),Bo=si("bum"),wg=si("um"),Gx=si("sp"),Jx=si("rtg"),Yx=si("rtc");function zx(e,t=vn){_l("ec",e,t)}const Xx=Symbol.for("v-ndc");function Qr(e,t,r,s){let o;const l=r&&r[s];if(ze(e)||rn(e)){o=new Array(e.length);for(let u=0,h=e.length;u<h;u++)o[u]=t(e[u],u,void 0,l&&l[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,l&&l[u])}else if(Gt(e))if(e[Symbol.iterator])o=Array.from(e,(u,h)=>t(u,h,void 0,l&&l[h]));else{const u=Object.keys(e);o=new Array(u.length);for(let h=0,p=u.length;h<p;h++){const d=u[h];o[h]=t(e[d],d,h,l&&l[h])}}else o=[];return r&&(r[s]=o),o}function xg(e,t,r={},s,o){if(En.isCE||En.parent&&$s(En.parent)&&En.parent.isCE)return t!=="default"&&(r.name=t),ft("slot",r,s&&s());let l=e[t];l&&l._c&&(l._d=!1),be();const u=l&&Sg(l(r)),h=ir(Kt,{key:r.key||u&&u.key||`_${t}`},u||(s?s():[]),u&&e._===1?64:-2);return!o&&h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),l&&l._c&&(l._d=!0),h}function Sg(e){return e.some(t=>ef(t)?!(t.type===Ai||t.type===Kt&&!Sg(t.children)):!0)?e:null}const sc=e=>e?Fg(e)?xl(e)||e.proxy:sc(e.parent):null,mo=dn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sc(e.parent),$root:e=>sc(e.root),$emit:e=>e.emit,$options:e=>Zc(e),$forceUpdate:e=>e.f||(e.f=()=>Xc(e.update)),$nextTick:e=>e.n||(e.n=Ox.bind(e.proxy)),$watch:e=>Ux.bind(e)}),Uu=(e,t)=>e!==Ut&&!e.__isScriptSetup&&St(e,t),Zx={get({_:e},t){const{ctx:r,setupState:s,data:o,props:l,accessCache:u,type:h,appContext:p}=e;let d;if(t[0]!=="$"){const R=u[t];if(R!==void 0)switch(R){case 1:return s[t];case 2:return o[t];case 4:return r[t];case 3:return l[t]}else{if(Uu(s,t))return u[t]=1,s[t];if(o!==Ut&&St(o,t))return u[t]=2,o[t];if((d=e.propsOptions[0])&&St(d,t))return u[t]=3,l[t];if(r!==Ut&&St(r,t))return u[t]=4,r[t];oc&&(u[t]=0)}}const _=mo[t];let w,O;if(_)return t==="$attrs"&&Wn(e,"get",t),_(e);if((w=h.__cssModules)&&(w=w[t]))return w;if(r!==Ut&&St(r,t))return u[t]=4,r[t];if(O=p.config.globalProperties,St(O,t))return O[t]},set({_:e},t,r){const{data:s,setupState:o,ctx:l}=e;return Uu(o,t)?(o[t]=r,!0):s!==Ut&&St(s,t)?(s[t]=r,!0):St(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:o,propsOptions:l}},u){let h;return!!r[u]||e!==Ut&&St(e,u)||Uu(t,u)||(h=l[0])&&St(h,u)||St(s,u)||St(mo,u)||St(o.config.globalProperties,u)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:St(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Qx(){return eS().slots}function eS(){const e=$g();return e.setupContext||(e.setupContext=Rg(e))}function ep(e){return ze(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let oc=!0;function tS(e){const t=Zc(e),r=e.proxy,s=e.ctx;oc=!1,t.beforeCreate&&tp(t.beforeCreate,e,"bc");const{data:o,computed:l,methods:u,watch:h,provide:p,inject:d,created:_,beforeMount:w,mounted:O,beforeUpdate:R,updated:L,activated:F,deactivated:J,beforeDestroy:z,beforeUnmount:B,destroyed:M,unmounted:j,render:Z,renderTracked:se,renderTriggered:ne,errorCaptured:ve,serverPrefetch:k,expose:E,inheritAttrs:te,components:X,directives:Me,filters:Ee}=t;if(d&&nS(d,s,null),u)for(const De in u){const Se=u[De];rt(Se)&&(s[De]=Se.bind(r))}if(o){const De=o.call(r,r);Gt(De)&&(e.data=Pi(De))}if(oc=!0,l)for(const De in l){const Se=l[De],Tt=rt(Se)?Se.bind(r,r):rt(Se.get)?Se.get.bind(r,r):Ar,yt=!rt(Se)&&rt(Se.set)?Se.set.bind(r):Ar,mt=rf({get:Tt,set:yt});Object.defineProperty(s,De,{enumerable:!0,configurable:!0,get:()=>mt.value,set:xt=>mt.value=xt})}if(h)for(const De in h)Cg(h[De],s,r,De);if(p){const De=rt(p)?p.call(r):p;Reflect.ownKeys(De).forEach(Se=>{lS(Se,De[Se])})}_&&tp(_,e,"c");function Be(De,Se){ze(Se)?Se.forEach(Tt=>De(Tt.bind(r))):Se&&De(Se.bind(r))}if(Be(_g,w),Be(rs,O),Be(qx,R),Be(bg,L),Be(Hx,F),Be(Vx,J),Be(zx,ve),Be(Yx,se),Be(Jx,ne),Be(Bo,B),Be(wg,j),Be(Gx,k),ze(E))if(E.length){const De=e.exposed||(e.exposed={});E.forEach(Se=>{Object.defineProperty(De,Se,{get:()=>r[Se],set:Tt=>r[Se]=Tt})})}else e.exposed||(e.exposed={});Z&&e.render===Ar&&(e.render=Z),te!=null&&(e.inheritAttrs=te),X&&(e.components=X),Me&&(e.directives=Me)}function nS(e,t,r=Ar){ze(e)&&(e=ac(e));for(const s in e){const o=e[s];let l;Gt(o)?"default"in o?l=Va(o.from||s,o.default,!0):l=Va(o.from||s):l=Va(o),Dn(l)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:u=>l.value=u}):t[s]=l}}function tp(e,t,r){Er(ze(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function Cg(e,t,r,s){const o=s.includes(".")?gg(r,s):()=>r[s];if(rn(e)){const l=t[e];rt(l)&&Ha(o,l)}else if(rt(e))Ha(o,e.bind(r));else if(Gt(e))if(ze(e))e.forEach(l=>Cg(l,t,r,s));else{const l=rt(e.handler)?e.handler.bind(r):t[e.handler];rt(l)&&Ha(o,l,e)}}function Zc(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:o,optionsCache:l,config:{optionMergeStrategies:u}}=e.appContext,h=l.get(t);let p;return h?p=h:!o.length&&!r&&!s?p=t:(p={},o.length&&o.forEach(d=>nl(p,d,u,!0)),nl(p,t,u)),Gt(t)&&l.set(t,p),p}function nl(e,t,r,s=!1){const{mixins:o,extends:l}=t;l&&nl(e,l,r,!0),o&&o.forEach(u=>nl(e,u,r,!0));for(const u in t)if(!(s&&u==="expose")){const h=rS[u]||r&&r[u];e[u]=h?h(e[u],t[u]):t[u]}return e}const rS={data:np,props:rp,emits:rp,methods:ho,computed:ho,beforeCreate:Fn,created:Fn,beforeMount:Fn,mounted:Fn,beforeUpdate:Fn,updated:Fn,beforeDestroy:Fn,beforeUnmount:Fn,destroyed:Fn,unmounted:Fn,activated:Fn,deactivated:Fn,errorCaptured:Fn,serverPrefetch:Fn,components:ho,directives:ho,watch:sS,provide:np,inject:iS};function np(e,t){return t?e?function(){return dn(rt(e)?e.call(this,this):e,rt(t)?t.call(this,this):t)}:t:e}function iS(e,t){return ho(ac(e),ac(t))}function ac(e){if(ze(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Fn(e,t){return e?[...new Set([].concat(e,t))]:t}function ho(e,t){return e?dn(Object.create(null),e,t):t}function rp(e,t){return e?ze(e)&&ze(t)?[...new Set([...e,...t])]:dn(Object.create(null),ep(e),ep(t??{})):t}function sS(e,t){if(!e)return t;if(!t)return e;const r=dn(Object.create(null),e);for(const s in t)r[s]=Fn(e[s],t[s]);return r}function Tg(){return{app:null,config:{isNativeTag:$1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let oS=0;function aS(e,t){return function(s,o=null){rt(s)||(s=dn({},s)),o!=null&&!Gt(o)&&(o=null);const l=Tg(),u=new Set;let h=!1;const p=l.app={_uid:oS++,_component:s,_props:o,_container:null,_context:l,_instance:null,version:PS,get config(){return l.config},set config(d){},use(d,..._){return u.has(d)||(d&&rt(d.install)?(u.add(d),d.install(p,..._)):rt(d)&&(u.add(d),d(p,..._))),p},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),p},component(d,_){return _?(l.components[d]=_,p):l.components[d]},directive(d,_){return _?(l.directives[d]=_,p):l.directives[d]},mount(d,_,w){if(!h){const O=ft(s,o);return O.appContext=l,_&&t?t(O,d):e(O,d,w),h=!0,p._container=d,d.__vue_app__=p,xl(O.component)||O.component.proxy}},unmount(){h&&(e(null,p._container),delete p._container.__vue_app__)},provide(d,_){return l.provides[d]=_,p},runWithContext(d){rl=p;try{return d()}finally{rl=null}}};return p}}let rl=null;function lS(e,t){if(vn){let r=vn.provides;const s=vn.parent&&vn.parent.provides;s===r&&(r=vn.provides=Object.create(s)),r[e]=t}}function Va(e,t,r=!1){const s=vn||En;if(s||rl){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:rl._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return r&&rt(t)?t.call(s&&s.proxy):t}}function uS(e,t,r,s=!1){const o={},l={};Qa(l,wl,1),e.propsDefaults=Object.create(null),Ag(e,t,o,l);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);r?e.props=s?o:xx(o):e.type.props?e.props=o:e.props=l,e.attrs=l}function cS(e,t,r,s){const{props:o,attrs:l,vnode:{patchFlag:u}}=e,h=Et(o),[p]=e.propsOptions;let d=!1;if((s||u>0)&&!(u&16)){if(u&8){const _=e.vnode.dynamicProps;for(let w=0;w<_.length;w++){let O=_[w];if(vl(e.emitsOptions,O))continue;const R=t[O];if(p)if(St(l,O))R!==l[O]&&(l[O]=R,d=!0);else{const L=Ms(O);o[L]=lc(p,h,L,R,e,!1)}else R!==l[O]&&(l[O]=R,d=!0)}}}else{Ag(e,t,o,l)&&(d=!0);let _;for(const w in h)(!t||!St(t,w)&&((_=ns(w))===w||!St(t,_)))&&(p?r&&(r[w]!==void 0||r[_]!==void 0)&&(o[w]=lc(p,h,w,void 0,e,!0)):delete o[w]);if(l!==h)for(const w in l)(!t||!St(t,w))&&(delete l[w],d=!0)}d&&ri(e,"set","$attrs")}function Ag(e,t,r,s){const[o,l]=e.propsOptions;let u=!1,h;if(t)for(let p in t){if(ja(p))continue;const d=t[p];let _;o&&St(o,_=Ms(p))?!l||!l.includes(_)?r[_]=d:(h||(h={}))[_]=d:vl(e.emitsOptions,p)||(!(p in s)||d!==s[p])&&(s[p]=d,u=!0)}if(l){const p=Et(r),d=h||Ut;for(let _=0;_<l.length;_++){const w=l[_];r[w]=lc(o,p,w,d[w],e,!St(d,w))}}return u}function lc(e,t,r,s,o,l){const u=e[r];if(u!=null){const h=St(u,"default");if(h&&s===void 0){const p=u.default;if(u.type!==Function&&!u.skipFactory&&rt(p)){const{propsDefaults:d}=o;r in d?s=d[r]:(Ks(o),s=d[r]=p.call(null,t),zi())}else s=p}u[0]&&(l&&!h?s=!1:u[1]&&(s===""||s===ns(r))&&(s=!0))}return s}function Dg(e,t,r=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const l=e.props,u={},h=[];let p=!1;if(!rt(e)){const _=w=>{p=!0;const[O,R]=Dg(w,t,!0);dn(u,O),R&&h.push(...R)};!r&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}if(!l&&!p)return Gt(e)&&s.set(e,Os),Os;if(ze(l))for(let _=0;_<l.length;_++){const w=Ms(l[_]);ip(w)&&(u[w]=Ut)}else if(l)for(const _ in l){const w=Ms(_);if(ip(w)){const O=l[_],R=u[w]=ze(O)||rt(O)?{type:O}:dn({},O);if(R){const L=ap(Boolean,R.type),F=ap(String,R.type);R[0]=L>-1,R[1]=F<0||L<F,(L>-1||St(R,"default"))&&h.push(w)}}}const d=[u,h];return Gt(e)&&s.set(e,d),d}function ip(e){return e[0]!=="$"}function sp(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function op(e,t){return sp(e)===sp(t)}function ap(e,t){return ze(t)?t.findIndex(r=>op(r,e)):rt(t)&&op(t,e)?0:-1}const Eg=e=>e[0]==="_"||e==="$stable",Qc=e=>ze(e)?e.map(Fr):[Fr(e)],fS=(e,t,r)=>{if(t._n)return t;const s=fn((...o)=>Qc(t(...o)),r);return s._c=!1,s},Og=(e,t,r)=>{const s=e._ctx;for(const o in e){if(Eg(o))continue;const l=e[o];if(rt(l))t[o]=fS(o,l,s);else if(l!=null){const u=Qc(l);t[o]=()=>u}}},kg=(e,t)=>{const r=Qc(t);e.slots.default=()=>r},hS=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Et(t),Qa(t,"_",r)):Og(t,e.slots={})}else e.slots={},t&&kg(e,t);Qa(e.slots,wl,1)},dS=(e,t,r)=>{const{vnode:s,slots:o}=e;let l=!0,u=Ut;if(s.shapeFlag&32){const h=t._;h?r&&h===1?l=!1:(dn(o,t),!r&&h===1&&delete o._):(l=!t.$stable,Og(t,o)),u=t}else t&&(kg(e,t),u={default:1});if(l)for(const h in o)!Eg(h)&&!(h in u)&&delete o[h]};function uc(e,t,r,s,o=!1){if(ze(e)){e.forEach((O,R)=>uc(O,t&&(ze(t)?t[R]:t),r,s,o));return}if($s(s)&&!o)return;const l=s.shapeFlag&4?xl(s.component)||s.component.proxy:s.el,u=o?null:l,{i:h,r:p}=e,d=t&&t.r,_=h.refs===Ut?h.refs={}:h.refs,w=h.setupState;if(d!=null&&d!==p&&(rn(d)?(_[d]=null,St(w,d)&&(w[d]=null)):Dn(d)&&(d.value=null)),rt(p))Ci(p,h,12,[u,_]);else{const O=rn(p),R=Dn(p);if(O||R){const L=()=>{if(e.f){const F=O?St(w,p)?w[p]:_[p]:p.value;o?ze(F)&&Uc(F,l):ze(F)?F.includes(l)||F.push(l):O?(_[p]=[l],St(w,p)&&(w[p]=_[p])):(p.value=[l],e.k&&(_[e.k]=p.value))}else O?(_[p]=u,St(w,p)&&(w[p]=u)):R&&(p.value=u,e.k&&(_[e.k]=u))};u?(L.id=-1,mn(L,r)):L()}}}const mn=Mx;function pS(e){return gS(e)}function gS(e,t){const r=Qu();r.__VUE__=!0;const{insert:s,remove:o,patchProp:l,createElement:u,createText:h,createComment:p,setText:d,setElementText:_,parentNode:w,nextSibling:O,setScopeId:R=Ar,insertStaticContent:L}=e,F=(f,g,v,b=null,T=null,A=null,I=!1,K=null,Y=!!g.dynamicChildren)=>{if(f===g)return;f&&!Cs(f,g)&&(b=ee(f),xt(f,T,A,!0),f=null),g.patchFlag===-2&&(Y=!1,g.dynamicChildren=null);const{type:q,ref:ae,shapeFlag:ie}=g;switch(q){case bl:J(f,g,v,b);break;case Ai:z(f,g,v,b);break;case Ku:f==null&&B(g,v,b,I);break;case Kt:X(f,g,v,b,T,A,I,K,Y);break;default:ie&1?Z(f,g,v,b,T,A,I,K,Y):ie&6?Me(f,g,v,b,T,A,I,K,Y):(ie&64||ie&128)&&q.process(f,g,v,b,T,A,I,K,Y,oe)}ae!=null&&T&&uc(ae,f&&f.ref,A,g||f,!g)},J=(f,g,v,b)=>{if(f==null)s(g.el=h(g.children),v,b);else{const T=g.el=f.el;g.children!==f.children&&d(T,g.children)}},z=(f,g,v,b)=>{f==null?s(g.el=p(g.children||""),v,b):g.el=f.el},B=(f,g,v,b)=>{[f.el,f.anchor]=L(f.children,g,v,b,f.el,f.anchor)},M=({el:f,anchor:g},v,b)=>{let T;for(;f&&f!==g;)T=O(f),s(f,v,b),f=T;s(g,v,b)},j=({el:f,anchor:g})=>{let v;for(;f&&f!==g;)v=O(f),o(f),f=v;o(g)},Z=(f,g,v,b,T,A,I,K,Y)=>{I=I||g.type==="svg",f==null?se(g,v,b,T,A,I,K,Y):k(f,g,T,A,I,K,Y)},se=(f,g,v,b,T,A,I,K)=>{let Y,q;const{type:ae,props:ie,shapeFlag:he,transition:ge,dirs:xe}=f;if(Y=f.el=u(f.type,A,ie&&ie.is,ie),he&8?_(Y,f.children):he&16&&ve(f.children,Y,null,b,T,A&&ae!=="foreignObject",I,K),xe&&Ki(f,null,b,"created"),ne(Y,f,f.scopeId,I,b),ie){for(const Le in ie)Le!=="value"&&!ja(Le)&&l(Y,Le,null,ie[Le],A,f.children,b,T,ot);"value"in ie&&l(Y,"value",null,ie.value),(q=ie.onVnodeBeforeMount)&&pr(q,b,f)}xe&&Ki(f,null,b,"beforeMount");const ke=(!T||T&&!T.pendingBranch)&&ge&&!ge.persisted;ke&&ge.beforeEnter(Y),s(Y,g,v),((q=ie&&ie.onVnodeMounted)||ke||xe)&&mn(()=>{q&&pr(q,b,f),ke&&ge.enter(Y),xe&&Ki(f,null,b,"mounted")},T)},ne=(f,g,v,b,T)=>{if(v&&R(f,v),b)for(let A=0;A<b.length;A++)R(f,b[A]);if(T){let A=T.subTree;if(g===A){const I=T.vnode;ne(f,I,I.scopeId,I.slotScopeIds,T.parent)}}},ve=(f,g,v,b,T,A,I,K,Y=0)=>{for(let q=Y;q<f.length;q++){const ae=f[q]=K?_i(f[q]):Fr(f[q]);F(null,ae,g,v,b,T,A,I,K)}},k=(f,g,v,b,T,A,I)=>{const K=g.el=f.el;let{patchFlag:Y,dynamicChildren:q,dirs:ae}=g;Y|=f.patchFlag&16;const ie=f.props||Ut,he=g.props||Ut;let ge;v&&ji(v,!1),(ge=he.onVnodeBeforeUpdate)&&pr(ge,v,g,f),ae&&Ki(g,f,v,"beforeUpdate"),v&&ji(v,!0);const xe=T&&g.type!=="foreignObject";if(q?E(f.dynamicChildren,q,K,v,b,xe,A):I||Se(f,g,K,null,v,b,xe,A,!1),Y>0){if(Y&16)te(K,g,ie,he,v,b,T);else if(Y&2&&ie.class!==he.class&&l(K,"class",null,he.class,T),Y&4&&l(K,"style",ie.style,he.style,T),Y&8){const ke=g.dynamicProps;for(let Le=0;Le<ke.length;Le++){const me=ke[Le],S=ie[me],m=he[me];(m!==S||me==="value")&&l(K,me,S,m,T,f.children,v,b,ot)}}Y&1&&f.children!==g.children&&_(K,g.children)}else!I&&q==null&&te(K,g,ie,he,v,b,T);((ge=he.onVnodeUpdated)||ae)&&mn(()=>{ge&&pr(ge,v,g,f),ae&&Ki(g,f,v,"updated")},b)},E=(f,g,v,b,T,A,I)=>{for(let K=0;K<g.length;K++){const Y=f[K],q=g[K],ae=Y.el&&(Y.type===Kt||!Cs(Y,q)||Y.shapeFlag&70)?w(Y.el):v;F(Y,q,ae,null,b,T,A,I,!0)}},te=(f,g,v,b,T,A,I)=>{if(v!==b){if(v!==Ut)for(const K in v)!ja(K)&&!(K in b)&&l(f,K,v[K],null,I,g.children,T,A,ot);for(const K in b){if(ja(K))continue;const Y=b[K],q=v[K];Y!==q&&K!=="value"&&l(f,K,q,Y,I,g.children,T,A,ot)}"value"in b&&l(f,"value",v.value,b.value)}},X=(f,g,v,b,T,A,I,K,Y)=>{const q=g.el=f?f.el:h(""),ae=g.anchor=f?f.anchor:h("");let{patchFlag:ie,dynamicChildren:he,slotScopeIds:ge}=g;ge&&(K=K?K.concat(ge):ge),f==null?(s(q,v,b),s(ae,v,b),ve(g.children,v,ae,T,A,I,K,Y)):ie>0&&ie&64&&he&&f.dynamicChildren?(E(f.dynamicChildren,he,v,T,A,I,K),(g.key!=null||T&&g===T.subTree)&&Pg(f,g,!0)):Se(f,g,v,ae,T,A,I,K,Y)},Me=(f,g,v,b,T,A,I,K,Y)=>{g.slotScopeIds=K,f==null?g.shapeFlag&512?T.ctx.activate(g,v,b,I,Y):Ee(g,v,b,T,A,I,Y):it(f,g,Y)},Ee=(f,g,v,b,T,A,I)=>{const K=f.component=CS(f,b,T);if(mg(f)&&(K.ctx.renderer=oe),TS(K),K.asyncDep){if(T&&T.registerDep(K,Be),!f.el){const Y=K.subTree=ft(Ai);z(null,Y,g,v)}return}Be(K,f,g,v,T,A,I)},it=(f,g,v)=>{const b=g.component=f.component;if(Rx(f,g,v))if(b.asyncDep&&!b.asyncResolved){De(b,g,v);return}else b.next=g,Px(b.update),b.update();else g.el=f.el,b.vnode=g},Be=(f,g,v,b,T,A,I)=>{const K=()=>{if(f.isMounted){let{next:ae,bu:ie,u:he,parent:ge,vnode:xe}=f,ke=ae,Le;ji(f,!1),ae?(ae.el=xe.el,De(f,ae,I)):ae=xe,ie&&Ps(ie),(Le=ae.props&&ae.props.onVnodeBeforeUpdate)&&pr(Le,ge,ae,xe),ji(f,!0);const me=Ru(f),S=f.subTree;f.subTree=me,F(S,me,w(S.el),ee(S),f,T,A),ae.el=me.el,ke===null&&Bx(f,me.el),he&&mn(he,T),(Le=ae.props&&ae.props.onVnodeUpdated)&&mn(()=>pr(Le,ge,ae,xe),T)}else{let ae;const{el:ie,props:he}=g,{bm:ge,m:xe,parent:ke}=f,Le=$s(g);if(ji(f,!1),ge&&Ps(ge),!Le&&(ae=he&&he.onVnodeBeforeMount)&&pr(ae,ke,g),ji(f,!0),ie&&$){const me=()=>{f.subTree=Ru(f),$(ie,f.subTree,f,T,null)};Le?g.type.__asyncLoader().then(()=>!f.isUnmounted&&me()):me()}else{const me=f.subTree=Ru(f);F(null,me,v,b,f,T,A),g.el=me.el}if(xe&&mn(xe,T),!Le&&(ae=he&&he.onVnodeMounted)){const me=g;mn(()=>pr(ae,ke,me),T)}(g.shapeFlag&256||ke&&$s(ke.vnode)&&ke.vnode.shapeFlag&256)&&f.a&&mn(f.a,T),f.isMounted=!0,g=v=b=null}},Y=f.effect=new Vc(K,()=>Xc(q),f.scope),q=f.update=()=>Y.run();q.id=f.uid,ji(f,!0),q()},De=(f,g,v)=>{g.component=f;const b=f.vnode.props;f.vnode=g,f.next=null,cS(f,g.props,b,v),dS(f,g.children,v),Hs(),Zd(),Vs()},Se=(f,g,v,b,T,A,I,K,Y=!1)=>{const q=f&&f.children,ae=f?f.shapeFlag:0,ie=g.children,{patchFlag:he,shapeFlag:ge}=g;if(he>0){if(he&128){yt(q,ie,v,b,T,A,I,K,Y);return}else if(he&256){Tt(q,ie,v,b,T,A,I,K,Y);return}}ge&8?(ae&16&&ot(q,T,A),ie!==q&&_(v,ie)):ae&16?ge&16?yt(q,ie,v,b,T,A,I,K,Y):ot(q,T,A,!0):(ae&8&&_(v,""),ge&16&&ve(ie,v,b,T,A,I,K,Y))},Tt=(f,g,v,b,T,A,I,K,Y)=>{f=f||Os,g=g||Os;const q=f.length,ae=g.length,ie=Math.min(q,ae);let he;for(he=0;he<ie;he++){const ge=g[he]=Y?_i(g[he]):Fr(g[he]);F(f[he],ge,v,null,T,A,I,K,Y)}q>ae?ot(f,T,A,!0,!1,ie):ve(g,v,b,T,A,I,K,Y,ie)},yt=(f,g,v,b,T,A,I,K,Y)=>{let q=0;const ae=g.length;let ie=f.length-1,he=ae-1;for(;q<=ie&&q<=he;){const ge=f[q],xe=g[q]=Y?_i(g[q]):Fr(g[q]);if(Cs(ge,xe))F(ge,xe,v,null,T,A,I,K,Y);else break;q++}for(;q<=ie&&q<=he;){const ge=f[ie],xe=g[he]=Y?_i(g[he]):Fr(g[he]);if(Cs(ge,xe))F(ge,xe,v,null,T,A,I,K,Y);else break;ie--,he--}if(q>ie){if(q<=he){const ge=he+1,xe=ge<ae?g[ge].el:b;for(;q<=he;)F(null,g[q]=Y?_i(g[q]):Fr(g[q]),v,xe,T,A,I,K,Y),q++}}else if(q>he)for(;q<=ie;)xt(f[q],T,A,!0),q++;else{const ge=q,xe=q,ke=new Map;for(q=xe;q<=he;q++){const pe=g[q]=Y?_i(g[q]):Fr(g[q]);pe.key!=null&&ke.set(pe.key,q)}let Le,me=0;const S=he-xe+1;let m=!1,D=0;const N=new Array(S);for(q=0;q<S;q++)N[q]=0;for(q=ge;q<=ie;q++){const pe=f[q];if(me>=S){xt(pe,T,A,!0);continue}let ye;if(pe.key!=null)ye=ke.get(pe.key);else for(Le=xe;Le<=he;Le++)if(N[Le-xe]===0&&Cs(pe,g[Le])){ye=Le;break}ye===void 0?xt(pe,T,A,!0):(N[ye-xe]=q+1,ye>=D?D=ye:m=!0,F(pe,g[ye],v,null,T,A,I,K,Y),me++)}const V=m?yS(N):Os;for(Le=V.length-1,q=S-1;q>=0;q--){const pe=xe+q,ye=g[pe],$e=pe+1<ae?g[pe+1].el:b;N[q]===0?F(null,ye,v,$e,T,A,I,K,Y):m&&(Le<0||q!==V[Le]?mt(ye,v,$e,2):Le--)}}},mt=(f,g,v,b,T=null)=>{const{el:A,type:I,transition:K,children:Y,shapeFlag:q}=f;if(q&6){mt(f.component.subTree,g,v,b);return}if(q&128){f.suspense.move(g,v,b);return}if(q&64){I.move(f,g,v,oe);return}if(I===Kt){s(A,g,v);for(let ie=0;ie<Y.length;ie++)mt(Y[ie],g,v,b);s(f.anchor,g,v);return}if(I===Ku){M(f,g,v);return}if(b!==2&&q&1&&K)if(b===0)K.beforeEnter(A),s(A,g,v),mn(()=>K.enter(A),T);else{const{leave:ie,delayLeave:he,afterLeave:ge}=K,xe=()=>s(A,g,v),ke=()=>{ie(A,()=>{xe(),ge&&ge()})};he?he(A,xe,ke):ke()}else s(A,g,v)},xt=(f,g,v,b=!1,T=!1)=>{const{type:A,props:I,ref:K,children:Y,dynamicChildren:q,shapeFlag:ae,patchFlag:ie,dirs:he}=f;if(K!=null&&uc(K,null,v,f,!0),ae&256){g.ctx.deactivate(f);return}const ge=ae&1&&he,xe=!$s(f);let ke;if(xe&&(ke=I&&I.onVnodeBeforeUnmount)&&pr(ke,g,f),ae&6)Te(f.component,v,b);else{if(ae&128){f.suspense.unmount(v,b);return}ge&&Ki(f,null,g,"beforeUnmount"),ae&64?f.type.remove(f,g,v,T,oe,b):q&&(A!==Kt||ie>0&&ie&64)?ot(q,g,v,!1,!0):(A===Kt&&ie&384||!T&&ae&16)&&ot(Y,g,v),b&&kn(f)}(xe&&(ke=I&&I.onVnodeUnmounted)||ge)&&mn(()=>{ke&&pr(ke,g,f),ge&&Ki(f,null,g,"unmounted")},v)},kn=f=>{const{type:g,el:v,anchor:b,transition:T}=f;if(g===Kt){Re(v,b);return}if(g===Ku){j(f);return}const A=()=>{o(v),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(f.shapeFlag&1&&T&&!T.persisted){const{leave:I,delayLeave:K}=T,Y=()=>I(v,A);K?K(f.el,A,Y):Y()}else A()},Re=(f,g)=>{let v;for(;f!==g;)v=O(f),o(f),f=v;o(g)},Te=(f,g,v)=>{const{bum:b,scope:T,update:A,subTree:I,um:K}=f;b&&Ps(b),T.stop(),A&&(A.active=!1,xt(I,f,g,v)),K&&mn(K,g),mn(()=>{f.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},ot=(f,g,v,b=!1,T=!1,A=0)=>{for(let I=A;I<f.length;I++)xt(f[I],g,v,b,T)},ee=f=>f.shapeFlag&6?ee(f.component.subTree):f.shapeFlag&128?f.suspense.next():O(f.anchor||f.el),le=(f,g,v)=>{f==null?g._vnode&&xt(g._vnode,null,null,!0):F(g._vnode||null,f,g,null,null,null,v),Zd(),ug(),g._vnode=f},oe={p:F,um:xt,m:mt,r:kn,mt:Ee,mc:ve,pc:Se,pbc:E,n:ee,o:e};let de,$;return t&&([de,$]=t(oe)),{render:le,hydrate:de,createApp:aS(le,de)}}function ji({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Pg(e,t,r=!1){const s=e.children,o=t.children;if(ze(s)&&ze(o))for(let l=0;l<s.length;l++){const u=s[l];let h=o[l];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=o[l]=_i(o[l]),h.el=u.el),r||Pg(u,h)),h.type===bl&&(h.el=u.el)}}function yS(e){const t=e.slice(),r=[0];let s,o,l,u,h;const p=e.length;for(s=0;s<p;s++){const d=e[s];if(d!==0){if(o=r[r.length-1],e[o]<d){t[s]=o,r.push(s);continue}for(l=0,u=r.length-1;l<u;)h=l+u>>1,e[r[h]]<d?l=h+1:u=h;d<e[r[l]]&&(l>0&&(t[s]=r[l-1]),r[l]=s)}}for(l=r.length,u=r[l-1];l-- >0;)r[l]=u,u=t[u];return r}const mS=e=>e.__isTeleport,Kt=Symbol.for("v-fgt"),bl=Symbol.for("v-txt"),Ai=Symbol.for("v-cmt"),Ku=Symbol.for("v-stc"),vo=[];let Cr=null;function be(e=!1){vo.push(Cr=e?null:[])}function vS(){vo.pop(),Cr=vo[vo.length-1]||null}let Eo=1;function lp(e){Eo+=e}function Ig(e){return e.dynamicChildren=Eo>0?Cr||Os:null,vS(),Eo>0&&Cr&&Cr.push(e),e}function Oe(e,t,r,s,o,l){return Ig(G(e,t,r,s,o,l,!0))}function ir(e,t,r,s,o){return Ig(ft(e,t,r,s,o,!0))}function ef(e){return e?e.__v_isVNode===!0:!1}function Cs(e,t){return e.type===t.type&&e.key===t.key}const wl="__vInternal",Lg=({key:e})=>e??null,Wa=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?rn(e)||Dn(e)||rt(e)?{i:En,r:e,k:t,f:!!r}:e:null);function G(e,t=null,r=null,s=0,o=null,l=e===Kt?0:1,u=!1,h=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Lg(t),ref:t&&Wa(t),scopeId:hg,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:En};return h?(tf(p,r),l&128&&e.normalize(p)):r&&(p.shapeFlag|=rn(r)?8:16),Eo>0&&!u&&Cr&&(p.patchFlag>0||l&6)&&p.patchFlag!==32&&Cr.push(p),p}const ft=_S;function _S(e,t=null,r=null,s=0,o=null,l=!1){if((!e||e===Xx)&&(e=Ai),ef(e)){const h=Qi(e,t,!0);return r&&tf(h,r),Eo>0&&!l&&Cr&&(h.shapeFlag&6?Cr[Cr.indexOf(e)]=h:Cr.push(h)),h.patchFlag|=-2,h}if(ES(e)&&(e=e.__vccOpts),t){t=bS(t);let{class:h,style:p}=t;h&&!rn(h)&&(t.class=_n(h)),Gt(p)&&(ng(p)&&!ze(p)&&(p=dn({},p)),t.style=Ji(p))}const u=rn(e)?1:dg(e)?128:mS(e)?64:Gt(e)?4:rt(e)?2:0;return G(e,t,r,s,o,u,l,!0)}function bS(e){return e?ng(e)||wl in e?dn({},e):e:null}function Qi(e,t,r=!1){const{props:s,ref:o,patchFlag:l,children:u}=e,h=t?wS(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&Lg(h),ref:t&&t.ref?r&&o?ze(o)?o.concat(Wa(t)):[o,Wa(t)]:Wa(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Kt?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Qi(e.ssContent),ssFallback:e.ssFallback&&Qi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function hn(e=" ",t=0){return ft(bl,null,e,t)}function bt(e="",t=!1){return t?(be(),ir(Ai,null,e)):ft(Ai,null,e)}function Fr(e){return e==null||typeof e=="boolean"?ft(Ai):ze(e)?ft(Kt,null,e.slice()):typeof e=="object"?_i(e):ft(bl,null,String(e))}function _i(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Qi(e)}function tf(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ze(t))r=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),tf(e,o()),o._c&&(o._d=!0));return}else{r=32;const o=t._;!o&&!(wl in t)?t._ctx=En:o===3&&En&&(En.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else rt(t)?(t={default:t,_ctx:En},r=32):(t=String(t),s&64?(r=16,t=[hn(t)]):r=8);e.children=t,e.shapeFlag|=r}function wS(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=_n([t.class,s.class]));else if(o==="style")t.style=Ji([t.style,s.style]);else if(pl(o)){const l=t[o],u=s[o];u&&l!==u&&!(ze(l)&&l.includes(u))&&(t[o]=l?[].concat(l,u):u)}else o!==""&&(t[o]=s[o])}return t}function pr(e,t,r,s=null){Er(e,t,7,[r,s])}const xS=Tg();let SS=0;function CS(e,t,r){const s=e.type,o=(t?t.appContext:e.appContext)||xS,l={uid:SS++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new G1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Dg(s,o),emitsOptions:fg(s,o),emit:null,emitted:null,propsDefaults:Ut,inheritAttrs:s.inheritAttrs,ctx:Ut,data:Ut,props:Ut,attrs:Ut,slots:Ut,refs:Ut,setupState:Ut,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=$x.bind(null,l),e.ce&&e.ce(l),l}let vn=null;const $g=()=>vn||En;let nf,ws,up="__VUE_INSTANCE_SETTERS__";(ws=Qu()[up])||(ws=Qu()[up]=[]),ws.push(e=>vn=e),nf=e=>{ws.length>1?ws.forEach(t=>t(e)):ws[0](e)};const Ks=e=>{nf(e),e.scope.on()},zi=()=>{vn&&vn.scope.off(),nf(null)};function Fg(e){return e.vnode.shapeFlag&4}let Oo=!1;function TS(e,t=!1){Oo=t;const{props:r,children:s}=e.vnode,o=Fg(e);uS(e,r,o,t),hS(e,s);const l=o?AS(e,t):void 0;return Oo=!1,l}function AS(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=rg(new Proxy(e.ctx,Zx));const{setup:s}=r;if(s){const o=e.setupContext=s.length>1?Rg(e):null;Ks(e),Hs();const l=Ci(s,e,0,[e.props,o]);if(Vs(),zi(),Mp(l)){if(l.then(zi,zi),t)return l.then(u=>{cp(e,u,t)}).catch(u=>{ml(u,e,0)});e.asyncDep=l}else cp(e,l,t)}else Ng(e,t)}function cp(e,t,r){rt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Gt(t)&&(e.setupState=og(t)),Ng(e,r)}let fp;function Ng(e,t,r){const s=e.type;if(!e.render){if(!t&&fp&&!s.render){const o=s.template||Zc(e).template;if(o){const{isCustomElement:l,compilerOptions:u}=e.appContext.config,{delimiters:h,compilerOptions:p}=s,d=dn(dn({isCustomElement:l,delimiters:h},u),p);s.render=fp(o,d)}}e.render=s.render||Ar}Ks(e),Hs(),tS(e),Vs(),zi()}function DS(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Wn(e,"get","$attrs"),t[r]}}))}function Rg(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return DS(e)},slots:e.slots,emit:e.emit,expose:t}}function xl(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(og(rg(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in mo)return mo[r](e)},has(t,r){return r in t||r in mo}}))}function hp(e,t=!0){return rt(e)?e.displayName||e.name:e.name||t&&e.__name}function ES(e){return rt(e)&&"__vccOpts"in e}const rf=(e,t)=>Dx(e,t,Oo),OS=Symbol.for("v-scx"),kS=()=>Va(OS),PS="3.3.4",IS="http://www.w3.org/2000/svg",Wi=typeof document<"u"?document:null,dp=Wi&&Wi.createElement("template"),LS={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const o=t?Wi.createElementNS(IS,e):Wi.createElement(e,r?{is:r}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>Wi.createTextNode(e),createComment:e=>Wi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Wi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,o,l){const u=r?r.previousSibling:t.lastChild;if(o&&(o===l||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),r),!(o===l||!(o=o.nextSibling)););else{dp.innerHTML=s?`<svg>${e}</svg>`:e;const h=dp.content;if(s){const p=h.firstChild;for(;p.firstChild;)h.appendChild(p.firstChild);h.removeChild(p)}t.insertBefore(h,r)}return[u?u.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function $S(e,t,r){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function FS(e,t,r){const s=e.style,o=rn(r);if(r&&!o){if(t&&!rn(t))for(const l in t)r[l]==null&&cc(s,l,"");for(const l in r)cc(s,l,r[l])}else{const l=s.display;o?t!==r&&(s.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=l)}}const pp=/\s*!important$/;function cc(e,t,r){if(ze(r))r.forEach(s=>cc(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=NS(e,t);pp.test(r)?e.setProperty(ns(s),r.replace(pp,""),"important"):e[s]=r}}const gp=["Webkit","Moz","ms"],ju={};function NS(e,t){const r=ju[t];if(r)return r;let s=Ms(t);if(s!=="filter"&&s in e)return ju[t]=s;s=jp(s);for(let o=0;o<gp.length;o++){const l=gp[o]+s;if(l in e)return ju[t]=l}return t}const yp="http://www.w3.org/1999/xlink";function RS(e,t,r,s,o){if(s&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(yp,t.slice(6,t.length)):e.setAttributeNS(yp,t,r);else{const l=q1(t);r==null||l&&!Hp(r)?e.removeAttribute(t):e.setAttribute(t,l?"":r)}}function BS(e,t,r,s,o,l,u){if(t==="innerHTML"||t==="textContent"){s&&u(s,o,l),e[t]=r??"";return}const h=e.tagName;if(t==="value"&&h!=="PROGRESS"&&!h.includes("-")){e._value=r;const d=h==="OPTION"?e.getAttribute("value"):e.value,_=r??"";d!==_&&(e.value=_),r==null&&e.removeAttribute(t);return}let p=!1;if(r===""||r==null){const d=typeof e[t];d==="boolean"?r=Hp(r):r==null&&d==="string"?(r="",p=!0):d==="number"&&(r=0,p=!0)}try{e[t]=r}catch{}p&&e.removeAttribute(t)}function Ts(e,t,r,s){e.addEventListener(t,r,s)}function MS(e,t,r,s){e.removeEventListener(t,r,s)}function US(e,t,r,s,o=null){const l=e._vei||(e._vei={}),u=l[t];if(s&&u)u.value=s;else{const[h,p]=KS(t);if(s){const d=l[t]=VS(s,o);Ts(e,h,d,p)}else u&&(MS(e,h,u,p),l[t]=void 0)}}const mp=/(?:Once|Passive|Capture)$/;function KS(e){let t;if(mp.test(e)){t={};let s;for(;s=e.match(mp);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ns(e.slice(2)),t]}let Hu=0;const jS=Promise.resolve(),HS=()=>Hu||(jS.then(()=>Hu=0),Hu=Date.now());function VS(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;Er(WS(s,r.value),t,5,[s])};return r.value=e,r.attached=HS(),r}function WS(e,t){if(ze(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const vp=/^on[a-z]/,qS=(e,t,r,s,o=!1,l,u,h,p)=>{t==="class"?$S(e,s,o):t==="style"?FS(e,r,s):pl(t)?Mc(t)||US(e,t,r,s,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):GS(e,t,s,o))?BS(e,t,s,l,u,h,p):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),RS(e,t,s,o))};function GS(e,t,r,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&vp.test(t)&&rt(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||vp.test(t)&&rn(r)?!1:t in e}const _p=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ze(t)?r=>Ps(t,r):t};function JS(e){e.target.composing=!0}function bp(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const rr={created(e,{modifiers:{lazy:t,trim:r,number:s}},o){e._assign=_p(o);const l=s||o.props&&o.props.type==="number";Ts(e,t?"change":"input",u=>{if(u.target.composing)return;let h=e.value;r&&(h=h.trim()),l&&(h=Zu(h)),e._assign(h)}),r&&Ts(e,"change",()=>{e.value=e.value.trim()}),t||(Ts(e,"compositionstart",JS),Ts(e,"compositionend",bp),Ts(e,"change",bp))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:s,number:o}},l){if(e._assign=_p(l),e.composing||document.activeElement===e&&e.type!=="range"&&(r||s&&e.value.trim()===t||(o||e.type==="number")&&Zu(e.value)===t))return;const u=t??"";e.value!==u&&(e.value=u)}},YS=["ctrl","shift","alt","meta"],zS={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>YS.some(r=>e[`${r}Key`]&&!t.includes(r))},Yt=(e,t)=>(r,...s)=>{for(let o=0;o<t.length;o++){const l=zS[t[o]];if(l&&l(r,t))return}return e(r,...s)},XS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ZS=(e,t)=>r=>{if(!("key"in r))return;const s=ns(r.key);if(t.some(o=>o===s||XS[o]===s))return e(r)},QS=dn({patchProp:qS},LS);let wp;function eC(){return wp||(wp=pS(QS))}const tC=(...e)=>{const t=eC().createApp(...e),{mount:r}=t;return t.mount=s=>{const o=nC(s);if(!o)return;const l=t._component;!rt(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.innerHTML="";const u=r(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function nC(e){return rn(e)?document.querySelector(e):e}const rC={key:0,class:"button-loader"},iC=G("i",{class:"font-icon animate-spin text-3xl block"},"rotate_right",-1),sC=[iC],Cn=qn({__name:"Button",props:{icon:{default:""},loading:{type:Boolean,default:!1},theme:{default:"info"}},setup(e){const t=e,r=Qx();return(s,o)=>(be(),Oe("button",{class:_n(["button",[`button--${t.theme}`,t.loading?"pointer-events-none":"",t.icon?"px-3 py-1.5 ":"px-3 py-2.5"]])},[t.loading?(be(),Oe("div",rC,sC)):bt("",!0),t.icon?(be(),Oe("i",{key:1,class:_n([{"opacity-0":t.loading,"mr-2":_e(r).default},"font-icon"])},Ze(t.icon),3)):bt("",!0),_e(r).default?(be(),Oe("span",{key:2,class:_n({"opacity-0":t.loading})},[xg(s.$slots,"default")],2)):bt("",!0)],2))}});var zr=(e=>(e.ProfilesSearch="profiles_search",e.ProfilesSaved="profiles_saved",e.ProfilesParsing="profiles_parsing",e.Settings="settings",e))(zr||{});class oC{constructor(){Vn(this,"active",Dr("profiles_search"));Vn(this,"list",[{value:"profiles_search",text:"Поиск продавцов",icon:"group_add"},{value:"profiles_parsing",text:"Парсинг",icon:"tune"},{value:"profiles_saved",text:"БД",icon:"people"}])}async changeTab(t){this.active.value=t,chrome.storage.local.set({activeTab:t})}async setActiveTabFromStorage(){const{activeTab:t}=await chrome.storage.local.get("activeTab");t&&(this.active.value=t)}}const gr=new oC,jt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nn=Object.keys,On=Array.isArray;function Rn(e,t){return typeof t!="object"||nn(t).forEach(function(r){e[r]=t[r]}),e}typeof Promise>"u"||jt.Promise||(jt.Promise=Promise);const ko=Object.getPrototypeOf,aC={}.hasOwnProperty;function sr(e,t){return aC.call(e,t)}function js(e,t){typeof t=="function"&&(t=t(ko(e))),(typeof Reflect>"u"?nn:Reflect.ownKeys)(t).forEach(r=>{ti(e,r,t[r])})}const Bg=Object.defineProperty;function ti(e,t,r,s){Bg(e,t,Rn(r&&sr(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},s))}function Fs(e){return{from:function(t){return e.prototype=Object.create(t.prototype),ti(e.prototype,"constructor",e),{extend:js.bind(null,e.prototype)}}}}const lC=Object.getOwnPropertyDescriptor;function sf(e,t){let r;return lC(e,t)||(r=ko(e))&&sf(r,t)}const uC=[].slice;function il(e,t,r){return uC.call(e,t,r)}function Mg(e,t){return t(e)}function po(e){if(!e)throw new Error("Assertion Failed")}function Ug(e){jt.setImmediate?setImmediate(e):setTimeout(e,0)}function Kg(e,t){return e.reduce((r,s,o)=>{var l=t(s,o);return l&&(r[l[0]]=l[1]),r},{})}function ni(e,t){if(sr(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],s=0,o=t.length;s<o;++s){var l=ni(e,t[s]);r.push(l)}return r}var u=t.indexOf(".");if(u!==-1){var h=e[t.substr(0,u)];return h===void 0?void 0:ni(h,t.substr(u+1))}}function Or(e,t,r){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){po(typeof r!="string"&&"length"in r);for(var s=0,o=t.length;s<o;++s)Or(e,t[s],r[s])}else{var l=t.indexOf(".");if(l!==-1){var u=t.substr(0,l),h=t.substr(l+1);if(h==="")r===void 0?On(e)&&!isNaN(parseInt(u))?e.splice(u,1):delete e[u]:e[u]=r;else{var p=e[u];p&&sr(e,u)||(p=e[u]={}),Or(p,h,r)}}else r===void 0?On(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function jg(e){var t={};for(var r in e)sr(e,r)&&(t[r]=e[r]);return t}const cC=[].concat;function Hg(e){return cC.apply([],e)}const Vg="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Hg([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>jt[e]),fC=Vg.map(e=>jt[e]);Kg(Vg,e=>[e,!0]);let bi=null;function Mo(e){bi=typeof WeakMap<"u"&&new WeakMap;const t=fc(e);return bi=null,t}function fc(e){if(!e||typeof e!="object")return e;let t=bi&&bi.get(e);if(t)return t;if(On(e)){t=[],bi&&bi.set(e,t);for(var r=0,s=e.length;r<s;++r)t.push(fc(e[r]))}else if(fC.indexOf(e.constructor)>=0)t=e;else{const l=ko(e);for(var o in t=l===Object.prototype?{}:Object.create(l),bi&&bi.set(e,t),e)sr(e,o)&&(t[o]=fc(e[o]))}return t}const{toString:hC}={};function hc(e){return hC.call(e).slice(8,-1)}const dc=typeof Symbol<"u"?Symbol.iterator:"@@iterator",dC=typeof dc=="symbol"?function(e){var t;return e!=null&&(t=e[dc])&&t.apply(e)}:function(){return null},As={};function Zr(e){var t,r,s,o;if(arguments.length===1){if(On(e))return e.slice();if(this===As&&typeof e=="string")return[e];if(o=dC(e)){for(r=[];!(s=o.next()).done;)r.push(s.value);return r}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const of=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Rr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Wg(e,t){Rr=e,qg=t}var qg=()=>!0;const pC=!new Error("").stack;function is(){if(pC)try{throw is.arguments,new Error}catch(e){return e}return new Error}function pc(e,t){var r=e.stack;return r?(t=t||0,r.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),r.split(`
`).slice(t).filter(qg).map(s=>`
`+s).join("")):""}var Gg=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],af=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Gg),gC={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ns(e,t){this._e=is(),this.name=e,this.message=t}function Jg(e,t){return e+". Errors: "+Object.keys(t).map(r=>t[r].toString()).filter((r,s,o)=>o.indexOf(r)===s).join(`
`)}function sl(e,t,r,s){this._e=is(),this.failures=t,this.failedKeys=s,this.successCount=r,this.message=Jg(e,t)}function _o(e,t){this._e=is(),this.name="BulkError",this.failures=Object.keys(t).map(r=>t[r]),this.failuresByPos=t,this.message=Jg(e,t)}Fs(Ns).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+pc(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Fs(sl).from(Ns),Fs(_o).from(Ns);var lf=af.reduce((e,t)=>(e[t]=t+"Error",e),{});const yC=Ns;var Je=af.reduce((e,t)=>{var r=t+"Error";function s(o,l){this._e=is(),this.name=r,o?typeof o=="string"?(this.message=`${o}${l?`
 `+l:""}`,this.inner=l||null):typeof o=="object"&&(this.message=`${o.name} ${o.message}`,this.inner=o):(this.message=gC[t]||r,this.inner=null)}return Fs(s).from(yC),e[t]=s,e},{});Je.Syntax=SyntaxError,Je.Type=TypeError,Je.Range=RangeError;var xp=Gg.reduce((e,t)=>(e[t+"Error"]=Je[t],e),{}),qa=af.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Je[t]),e),{});function Rt(){}function Po(e){return e}function mC(e,t){return e==null||e===Po?t:function(r){return t(e(r))}}function es(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function vC(e,t){return e===Rt?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var s=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var l=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?es(s,this.onsuccess):s),o&&(this.onerror=this.onerror?es(o,this.onerror):o),l!==void 0?l:r}}function _C(e,t){return e===Rt?t:function(){e.apply(this,arguments);var r=this.onsuccess,s=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?es(r,this.onsuccess):r),s&&(this.onerror=this.onerror?es(s,this.onerror):s)}}function bC(e,t){return e===Rt?t:function(r){var s=e.apply(this,arguments);Rn(r,s);var o=this.onsuccess,l=this.onerror;this.onsuccess=null,this.onerror=null;var u=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?es(o,this.onsuccess):o),l&&(this.onerror=this.onerror?es(l,this.onerror):l),s===void 0?u===void 0?void 0:u:Rn(s,u)}}function wC(e,t){return e===Rt?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function uf(e,t){return e===Rt?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var s=this,o=arguments.length,l=new Array(o);o--;)l[o]=arguments[o];return r.then(function(){return t.apply(s,l)})}return t.apply(this,arguments)}}qa.ModifyError=sl,qa.DexieError=Ns,qa.BulkError=_o;var Io={};const Yg=100,[gc,ol,yc]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,ko(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,ko(t),e]})(),zg=ol&&ol.then,Ga=gc&&gc.constructor,cf=!!yc;var mc=!1,xC=yc?()=>{yc.then($a)}:jt.setImmediate?setImmediate.bind(null,$a):jt.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{$a(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout($a,0)},bo=function(e,t){go.push([e,t]),al&&(xC(),al=!1)},vc=!0,al=!0,Xi=[],Ja=[],_c=null,bc=Po,Rs={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Tp,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{Tp(e[0],e[1])}catch{}})}},je=Rs,go=[],Zi=0,Ya=[];function Ie(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Rt,this._lib=!1;var t=this._PSD=je;if(Rr&&(this._stackHolder=is(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Io)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&xc(this,this._value))}this._state=null,this._value=null,++t.ref,Zg(this,e)}const wc={get:function(){var e=je,t=ll;function r(s,o){var l=!e.global&&(e!==je||t!==ll);const u=l&&!ii();var h=new Ie((p,d)=>{ff(this,new Xg(ul(s,e,l,u),ul(o,e,l,u),p,d,e))});return Rr&&ty(h,this),h}return r.prototype=Io,r},set:function(e){ti(this,"then",e&&e.prototype===Io?wc:{get:function(){return e},set:wc.set})}};function Xg(e,t,r,s,o){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=s,this.psd=o}function Zg(e,t){try{t(r=>{if(e._state===null){if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var s=e._lib&&Uo();r&&typeof r.then=="function"?Zg(e,(o,l)=>{r instanceof Ie?r._then(o,l):r.then(o,l)}):(e._state=!0,e._value=r,Qg(e)),s&&Ko()}},xc.bind(null,e))}catch(r){xc(e,r)}}function xc(e,t){if(Ja.push(t),e._state===null){var r=e._lib&&Uo();t=bc(t),e._state=!1,e._value=t,Rr&&t!==null&&typeof t=="object"&&!t._promise&&function(s,o,l){try{s.apply(null,l)}catch(u){o&&o(u)}}(()=>{var s=sf(t,"stack");t._promise=e,ti(t,"stack",{get:()=>mc?s&&(s.get?s.get.apply(t):s.value):e.stack})}),function(s){Xi.some(o=>o._value===s._value)||Xi.push(s)}(e),Qg(e),r&&Ko()}}function Qg(e){var t=e._listeners;e._listeners=[];for(var r=0,s=t.length;r<s;++r)ff(e,t[r]);var o=e._PSD;--o.ref||o.finalize(),Zi===0&&(++Zi,bo(()=>{--Zi==0&&hf()},[]))}function ff(e,t){if(e._state!==null){var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Zi,bo(SC,[r,e,t])}else e._listeners.push(t)}function SC(e,t,r){try{_c=t;var s,o=t._value;t._state?s=e(o):(Ja.length&&(Ja=[]),s=e(o),Ja.indexOf(o)===-1&&function(l){for(var u=Xi.length;u;)if(Xi[--u]._value===l._value)return void Xi.splice(u,1)}(t)),r.resolve(s)}catch(l){r.reject(l)}finally{_c=null,--Zi==0&&hf(),--r.psd.ref||r.psd.finalize()}}function ey(e,t,r){if(t.length===r)return t;var s="";if(e._state===!1){var o,l,u=e._value;u!=null?(o=u.name||"Error",l=u.message||u,s=pc(u,0)):(o=u,l=""),t.push(o+(l?": "+l:"")+s)}return Rr&&((s=pc(e._stackHolder,2))&&t.indexOf(s)===-1&&t.push(s),e._prev&&ey(e._prev,t,r)),t}function ty(e,t){var r=t?t._numPrev+1:0;r<100&&(e._prev=t,e._numPrev=r)}function $a(){Uo()&&Ko()}function Uo(){var e=vc;return vc=!1,al=!1,e}function Ko(){var e,t,r;do for(;go.length>0;)for(e=go,go=[],r=e.length,t=0;t<r;++t){var s=e[t];s[0].apply(null,s[1])}while(go.length>0);vc=!0,al=!0}function hf(){var e=Xi;Xi=[],e.forEach(s=>{s._PSD.onunhandled.call(null,s._value,s)});for(var t=Ya.slice(0),r=t.length;r;)t[--r]()}function Fa(e){return new Ie(Io,!1,e)}function Vt(e,t){var r=je;return function(){var s=Uo(),o=je;try{return Ei(r,!0),e.apply(this,arguments)}catch(l){t&&t(l)}finally{Ei(o,!1),s&&Ko()}}}js(Ie.prototype,{then:wc,_then:function(e,t){ff(this,new Xg(null,null,e,t,je))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,s=>s instanceof t?r(s):Fa(s)):this.then(null,s=>s&&s.name===t?r(s):Fa(s))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Fa(t)))},stack:{get:function(){if(this._stack)return this._stack;try{mc=!0;var e=ey(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{mc=!1}}},timeout:function(e,t){return e<1/0?new Ie((r,s)=>{var o=setTimeout(()=>s(new Je.Timeout(t)),e);this.then(r,s).finally(clearTimeout.bind(null,o))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ti(Ie.prototype,Symbol.toStringTag,"Dexie.Promise"),Rs.env=ny(),js(Ie,{all:function(){var e=Zr.apply(null,arguments).map(Na);return new Ie(function(t,r){e.length===0&&t([]);var s=e.length;e.forEach((o,l)=>Ie.resolve(o).then(u=>{e[l]=u,--s||t(e)},r))})},resolve:e=>{if(e instanceof Ie)return e;if(e&&typeof e.then=="function")return new Ie((r,s)=>{e.then(r,s)});var t=new Ie(Io,!0,e);return ty(t,_c),t},reject:Fa,race:function(){var e=Zr.apply(null,arguments).map(Na);return new Ie((t,r)=>{e.map(s=>Ie.resolve(s).then(t,r))})},PSD:{get:()=>je,set:e=>je=e},totalEchoes:{get:()=>ll},newPSD:Di,usePSD:qs,scheduler:{get:()=>bo,set:e=>{bo=e}},rejectionMapper:{get:()=>bc,set:e=>{bc=e}},follow:(e,t)=>new Ie((r,s)=>Di((o,l)=>{var u=je;u.unhandleds=[],u.onunhandled=l,u.finalize=es(function(){(function(h){function p(){h(),Ya.splice(Ya.indexOf(p),1)}Ya.push(p),++Zi,bo(()=>{--Zi==0&&hf()},[])})(()=>{this.unhandleds.length===0?o():l(this.unhandleds[0])})},u.finalize),e()},t,r,s))}),Ga&&(Ga.allSettled&&ti(Ie,"allSettled",function(){const e=Zr.apply(null,arguments).map(Na);return new Ie(t=>{e.length===0&&t([]);let r=e.length;const s=new Array(r);e.forEach((o,l)=>Ie.resolve(o).then(u=>s[l]={status:"fulfilled",value:u},u=>s[l]={status:"rejected",reason:u}).then(()=>--r||t(s)))})}),Ga.any&&typeof AggregateError<"u"&&ti(Ie,"any",function(){const e=Zr.apply(null,arguments).map(Na);return new Ie((t,r)=>{e.length===0&&r(new AggregateError([]));let s=e.length;const o=new Array(s);e.forEach((l,u)=>Ie.resolve(l).then(h=>t(h),h=>{o[u]=h,--s||r(new AggregateError(o))}))})}));const An={awaits:0,echoes:0,id:0};var CC=0,za=[],Vu=0,ll=0,TC=0;function Di(e,t,r,s){var o=je,l=Object.create(o);l.parent=o,l.ref=0,l.global=!1,l.id=++TC;var u=Rs.env;l.env=cf?{Promise:Ie,PromiseProp:{value:Ie,configurable:!0,writable:!0},all:Ie.all,race:Ie.race,allSettled:Ie.allSettled,any:Ie.any,resolve:Ie.resolve,reject:Ie.reject,nthen:Sp(u.nthen,l),gthen:Sp(u.gthen,l)}:{},t&&Rn(l,t),++o.ref,l.finalize=function(){--this.parent.ref||this.parent.finalize()};var h=qs(l,e,r,s);return l.ref===0&&l.finalize(),h}function Ws(){return An.id||(An.id=++CC),++An.awaits,An.echoes+=Yg,An.id}function ii(){return!!An.awaits&&(--An.awaits==0&&(An.id=0),An.echoes=An.awaits*Yg,!0)}function Na(e){return An.echoes&&e&&e.constructor===Ga?(Ws(),e.then(t=>(ii(),t),t=>(ii(),ln(t)))):e}function AC(e){++ll,An.echoes&&--An.echoes!=0||(An.echoes=An.id=0),za.push(je),Ei(e,!0)}function DC(){var e=za[za.length-1];za.pop(),Ei(e,!1)}function Ei(e,t){var r=je;if((t?!An.echoes||Vu++&&e===je:!Vu||--Vu&&e===je)||ry(t?AC.bind(null,e):DC),e!==je&&(je=e,r===Rs&&(Rs.env=ny()),cf)){var s=Rs.env.Promise,o=e.env;ol.then=o.nthen,s.prototype.then=o.gthen,(r.global||e.global)&&(Object.defineProperty(jt,"Promise",o.PromiseProp),s.all=o.all,s.race=o.race,s.resolve=o.resolve,s.reject=o.reject,o.allSettled&&(s.allSettled=o.allSettled),o.any&&(s.any=o.any))}}function ny(){var e=jt.Promise;return cf?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(jt,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ol.then,gthen:e.prototype.then}:{}}function qs(e,t,r,s,o){var l=je;try{return Ei(e,!0),t(r,s,o)}finally{Ei(l,!1)}}function ry(e){zg.call(gc,e)}function ul(e,t,r,s){return typeof e!="function"?e:function(){var o=je;r&&Ws(),Ei(t,!0);try{return e.apply(this,arguments)}finally{Ei(o,!1),s&&ry(ii)}}}function Sp(e,t){return function(r,s){return e.call(this,ul(r,t),ul(s,t))}}(""+zg).indexOf("[native code]")===-1&&(Ws=ii=Rt);const Cp="unhandledrejection";function Tp(e,t){var r;try{r=t.onuncatched(e)}catch{}if(r!==!1)try{var s,o={promise:t,reason:e};if(jt.document&&document.createEvent?((s=document.createEvent("Event")).initEvent(Cp,!0,!0),Rn(s,o)):jt.CustomEvent&&Rn(s=new CustomEvent(Cp,{detail:o}),o),s&&jt.dispatchEvent&&(dispatchEvent(s),!jt.PromiseRejectionEvent&&jt.onunhandledrejection))try{jt.onunhandledrejection(s)}catch{}Rr&&s&&!s.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var ln=Ie.reject;function Sc(e,t,r,s){if(e.idbdb&&(e._state.openComplete||je.letThrough||e._vip)){var o=e._createTransaction(t,r,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(l){return l.name===lf.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Sc(e,t,r,s))):ln(l)}return o._promise(t,(l,u)=>Di(()=>(je.trans=o,s(l,u,o)))).then(l=>o._completion.then(()=>l))}if(e._state.openComplete)return ln(new Je.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ln(new Je.DatabaseClosed);e.open().catch(Rt)}return e._state.dbReadyPromise.then(()=>Sc(e,t,r,s))}const Ap="3.2.4",Gi=String.fromCharCode(65535),Cc=-1/0,Jr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",iy="String expected.",wo=[],Sl=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),EC=Sl,OC=Sl,sy=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Cl="__dbnames",Wu="readonly",qu="readwrite";function ts(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const oy={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ra(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=Mo(t))[e],t)}class kC{_trans(t,r,s){const o=this._tx||je.trans,l=this.name;function u(p,d,_){if(!_.schema[l])throw new Je.NotFound("Table "+l+" not part of transaction");return r(_.idbtrans,_)}const h=Uo();try{return o&&o.db===this.db?o===je.trans?o._promise(t,u,s):Di(()=>o._promise(t,u,s),{trans:o,transless:je.transless||je}):Sc(this.db,t,[this.name],u)}finally{h&&Ko()}}get(t,r){return t&&t.constructor===Object?this.where(t).first(r):this._trans("readonly",s=>this.core.get({trans:s,key:t}).then(o=>this.hook.reading.fire(o))).then(r)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(On(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const r=nn(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);const s=this.schema.indexes.concat(this.schema.primKey).filter(d=>d.compound&&r.every(_=>d.keyPath.indexOf(_)>=0)&&d.keyPath.every(_=>r.indexOf(_)>=0))[0];if(s&&this.db._maxKey!==Gi)return this.where(s.name).equals(s.keyPath.map(d=>t[d]));!s&&Rr&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${r.join("+")}]`);const{idxByName:o}=this.schema,l=this.db._deps.indexedDB;function u(d,_){try{return l.cmp(d,_)===0}catch{return!1}}const[h,p]=r.reduce(([d,_],w)=>{const O=o[w],R=t[w];return[d||O,d||!O?ts(_,O&&O.multi?L=>{const F=ni(L,w);return On(F)&&F.some(J=>u(R,J))}:L=>u(R,ni(L,w))):_]},[null,null]);return h?this.where(h.name).equals(t[h.keyPath]).filter(p):s?this.filter(p):this.where(r).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,On(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const r=s=>{if(!s)return s;const o=Object.create(t.prototype);for(var l in s)if(sr(s,l))try{o[l]=s[l]}catch{}return o};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t}defineClass(){return this.mapToClass(function(t){Rn(this,t)})}add(t,r){const{auto:s,keyPath:o}=this.schema.primKey;let l=t;return o&&s&&(l=Ra(o)(t)),this._trans("readwrite",u=>this.core.mutate({trans:u,type:"add",keys:r!=null?[r]:null,values:[l]})).then(u=>u.numFailures?Ie.reject(u.failures[0]):u.lastResult).then(u=>{if(o)try{Or(t,o,u)}catch{}return u})}update(t,r){if(typeof t!="object"||On(t))return this.where(":id").equals(t).modify(r);{const s=ni(t,this.schema.primKey.keyPath);if(s===void 0)return ln(new Je.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?nn(r).forEach(o=>{Or(t,o,r[o])}):r(t,{value:t,primKey:s})}catch{}return this.where(":id").equals(s).modify(r)}}put(t,r){const{auto:s,keyPath:o}=this.schema.primKey;let l=t;return o&&s&&(l=Ra(o)(t)),this._trans("readwrite",u=>this.core.mutate({trans:u,type:"put",values:[l],keys:r!=null?[r]:null})).then(u=>u.numFailures?Ie.reject(u.failures[0]):u.lastResult).then(u=>{if(o)try{Or(t,o,u)}catch{}return u})}delete(t){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[t]})).then(r=>r.numFailures?Ie.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:oy})).then(t=>t.numFailures?Ie.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",r=>this.core.getMany({keys:t,trans:r}).then(s=>s.map(o=>this.hook.reading.fire(o))))}bulkAdd(t,r,s){const o=Array.isArray(r)?r:void 0,l=(s=s||(o?void 0:r))?s.allKeys:void 0;return this._trans("readwrite",u=>{const{auto:h,keyPath:p}=this.schema.primKey;if(p&&o)throw new Je.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new Je.InvalidArgument("Arguments objects and keys must have the same length");const d=t.length;let _=p&&h?t.map(Ra(p)):t;return this.core.mutate({trans:u,type:"add",keys:o,values:_,wantResults:l}).then(({numFailures:w,results:O,lastResult:R,failures:L})=>{if(w===0)return l?O:R;throw new _o(`${this.name}.bulkAdd(): ${w} of ${d} operations failed`,L)})})}bulkPut(t,r,s){const o=Array.isArray(r)?r:void 0,l=(s=s||(o?void 0:r))?s.allKeys:void 0;return this._trans("readwrite",u=>{const{auto:h,keyPath:p}=this.schema.primKey;if(p&&o)throw new Je.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new Je.InvalidArgument("Arguments objects and keys must have the same length");const d=t.length;let _=p&&h?t.map(Ra(p)):t;return this.core.mutate({trans:u,type:"put",keys:o,values:_,wantResults:l}).then(({numFailures:w,results:O,lastResult:R,failures:L})=>{if(w===0)return l?O:R;throw new _o(`${this.name}.bulkPut(): ${w} of ${d} operations failed`,L)})})}bulkDelete(t){const r=t.length;return this._trans("readwrite",s=>this.core.mutate({trans:s,type:"delete",keys:t})).then(({numFailures:s,lastResult:o,failures:l})=>{if(s===0)return o;throw new _o(`${this.name}.bulkDelete(): ${s} of ${r} operations failed`,l)})}}function xo(e){var t={},r=function(u,h){if(h){for(var p=arguments.length,d=new Array(p-1);--p;)d[p-1]=arguments[p];return t[u].subscribe.apply(null,d),e}if(typeof u=="string")return t[u]};r.addEventType=l;for(var s=1,o=arguments.length;s<o;++s)l(arguments[s]);return r;function l(u,h,p){if(typeof u!="object"){var d;h||(h=wC),p||(p=Rt);var _={subscribers:[],fire:p,subscribe:function(w){_.subscribers.indexOf(w)===-1&&(_.subscribers.push(w),_.fire=h(_.fire,w))},unsubscribe:function(w){_.subscribers=_.subscribers.filter(function(O){return O!==w}),_.fire=_.subscribers.reduce(h,p)}};return t[u]=r[u]=_,_}nn(d=u).forEach(function(w){var O=d[w];if(On(O))l(w,d[w][0],d[w][1]);else{if(O!=="asap")throw new Je.InvalidArgument("Invalid event config");var R=l(w,Po,function(){for(var L=arguments.length,F=new Array(L);L--;)F[L]=arguments[L];R.subscribers.forEach(function(J){Ug(function(){J.apply(null,F)})})})}})}}function uo(e,t){return Fs(t).from({prototype:e}),t}function xs(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Gu(e,t){e.filter=ts(e.filter,t)}function Ju(e,t,r){var s=e.replayFilter;e.replayFilter=s?()=>ts(s(),t()):t,e.justLimit=r&&!s}function Xa(e,t){if(e.isPrimKey)return t.primaryKey;const r=t.getIndexByKeyPath(e.index);if(!r)throw new Je.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function Dp(e,t,r){const s=Xa(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:s,range:e.range}})}function Ba(e,t,r,s){const o=e.replayFilter?ts(e.filter,e.replayFilter()):e.filter;if(e.or){const l={},u=(h,p,d)=>{if(!o||o(p,d,O=>p.stop(O),O=>p.fail(O))){var _=p.primaryKey,w=""+_;w==="[object ArrayBuffer]"&&(w=""+new Uint8Array(_)),sr(l,w)||(l[w]=!0,t(h,p,d))}};return Promise.all([e.or._iterate(u,r),Ep(Dp(e,s,r),e.algorithm,u,!e.keysOnly&&e.valueMapper)])}return Ep(Dp(e,s,r),ts(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Ep(e,t,r,s){var o=Vt(s?(l,u,h)=>r(s(l),u,h):r);return e.then(l=>{if(l)return l.start(()=>{var u=()=>l.continue();t&&!t(l,h=>u=h,h=>{l.stop(h),u=Rt},h=>{l.fail(h),u=Rt})||o(l.value,l,h=>u=h),u()})})}function Nn(e,t){try{const r=Op(e),s=Op(t);if(r!==s)return r==="Array"?1:s==="Array"?-1:r==="binary"?1:s==="binary"?-1:r==="string"?1:s==="string"?-1:r==="Date"?1:s!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(o,l){const u=o.length,h=l.length,p=u<h?u:h;for(let d=0;d<p;++d)if(o[d]!==l[d])return o[d]<l[d]?-1:1;return u===h?0:u<h?-1:1}(kp(e),kp(t));case"Array":return function(o,l){const u=o.length,h=l.length,p=u<h?u:h;for(let d=0;d<p;++d){const _=Nn(o[d],l[d]);if(_!==0)return _}return u===h?0:u<h?-1:1}(e,t)}}catch{}return NaN}function Op(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const r=hc(e);return r==="ArrayBuffer"?"binary":r}function kp(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class PC{_read(t,r){var s=this._ctx;return s.error?s.table._trans(null,ln.bind(null,s.error)):s.table._trans("readonly",t).then(r)}_write(t){var r=this._ctx;return r.error?r.table._trans(null,ln.bind(null,r.error)):r.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var r=this._ctx;r.algorithm=ts(r.algorithm,t)}_iterate(t,r){return Ba(this._ctx,t,r,this._ctx.table.core)}clone(t){var r=Object.create(this.constructor.prototype),s=Object.create(this._ctx);return t&&Rn(s,t),r._ctx=s,r}raw(){return this._ctx.valueMapper=null,this}each(t){var r=this._ctx;return this._read(s=>Ba(r,t,s,r.table.core))}count(t){return this._read(r=>{const s=this._ctx,o=s.table.core;if(xs(s,!0))return o.count({trans:r,query:{index:Xa(s,o.schema),range:s.range}}).then(u=>Math.min(u,s.limit));var l=0;return Ba(s,()=>(++l,!1),r,o).then(()=>l)}).then(t)}sortBy(t,r){const s=t.split(".").reverse(),o=s[0],l=s.length-1;function u(d,_){return _?u(d[s[_]],_-1):d[o]}var h=this._ctx.dir==="next"?1:-1;function p(d,_){var w=u(d,l),O=u(_,l);return w<O?-h:w>O?h:0}return this.toArray(function(d){return d.sort(p)}).then(r)}toArray(t){return this._read(r=>{var s=this._ctx;if(s.dir==="next"&&xs(s,!0)&&s.limit>0){const{valueMapper:o}=s,l=Xa(s,s.table.core.schema);return s.table.core.query({trans:r,limit:s.limit,values:!0,query:{index:l,range:s.range}}).then(({result:u})=>o?u.map(o):u)}{const o=[];return Ba(s,l=>o.push(l),r,s.table.core).then(()=>o)}},t)}offset(t){var r=this._ctx;return t<=0||(r.offset+=t,xs(r)?Ju(r,()=>{var s=t;return(o,l)=>s===0||(s===1?(--s,!1):(l(()=>{o.advance(s),s=0}),!1))}):Ju(r,()=>{var s=t;return()=>--s<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Ju(this._ctx,()=>{var r=t;return function(s,o,l){return--r<=0&&o(l),r>=0}},!0),this}until(t,r){return Gu(this._ctx,function(s,o,l){return!t(s.value)||(o(l),r)}),this}first(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var r,s;return Gu(this._ctx,function(o){return t(o.value)}),r=this._ctx,s=t,r.isMatch=ts(r.isMatch,s),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(s,o){t(o.key,o)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(s,o){t(o.primaryKey,o)})}keys(t){var r=this._ctx;r.keysOnly=!r.isMatch;var s=[];return this.each(function(o,l){s.push(l.key)}).then(function(){return s}).then(t)}primaryKeys(t){var r=this._ctx;if(r.dir==="next"&&xs(r,!0)&&r.limit>0)return this._read(o=>{var l=Xa(r,r.table.core.schema);return r.table.core.query({trans:o,values:!1,limit:r.limit,query:{index:l,range:r.range}})}).then(({result:o})=>o).then(t);r.keysOnly=!r.isMatch;var s=[];return this.each(function(o,l){s.push(l.primaryKey)}).then(function(){return s}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(r){return r[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var s={};return Gu(this._ctx,function(o){var l=o.primaryKey.toString(),u=sr(s,l);return s[l]=!0,!u}),this}modify(t){var r=this._ctx;return this._write(s=>{var o;if(typeof t=="function")o=t;else{var l=nn(t),u=l.length;o=function(F){for(var J=!1,z=0;z<u;++z){var B=l[z],M=t[B];ni(F,B)!==M&&(Or(F,B,M),J=!0)}return J}}const h=r.table.core,{outbound:p,extractKey:d}=h.schema.primaryKey,_=this.db._options.modifyChunkSize||200,w=[];let O=0;const R=[],L=(F,J)=>{const{failures:z,numFailures:B}=J;O+=F-B;for(let M of nn(z))w.push(z[M])};return this.clone().primaryKeys().then(F=>{const J=z=>{const B=Math.min(_,F.length-z);return h.getMany({trans:s,keys:F.slice(z,z+B),cache:"immutable"}).then(M=>{const j=[],Z=[],se=p?[]:null,ne=[];for(let k=0;k<B;++k){const E=M[k],te={value:Mo(E),primKey:F[z+k]};o.call(te,te.value,te)!==!1&&(te.value==null?ne.push(F[z+k]):p||Nn(d(E),d(te.value))===0?(Z.push(te.value),p&&se.push(F[z+k])):(ne.push(F[z+k]),j.push(te.value)))}const ve=xs(r)&&r.limit===1/0&&(typeof t!="function"||t===Yu)&&{index:r.index,range:r.range};return Promise.resolve(j.length>0&&h.mutate({trans:s,type:"add",values:j}).then(k=>{for(let E in k.failures)ne.splice(parseInt(E),1);L(j.length,k)})).then(()=>(Z.length>0||ve&&typeof t=="object")&&h.mutate({trans:s,type:"put",keys:se,values:Z,criteria:ve,changeSpec:typeof t!="function"&&t}).then(k=>L(Z.length,k))).then(()=>(ne.length>0||ve&&t===Yu)&&h.mutate({trans:s,type:"delete",keys:ne,criteria:ve}).then(k=>L(ne.length,k))).then(()=>F.length>z+B&&J(z+_))})};return J(0).then(()=>{if(w.length>0)throw new sl("Error modifying one or more objects",w,O,R);return F.length})})})}delete(){var t=this._ctx,r=t.range;return xs(t)&&(t.isPrimKey&&!OC||r.type===3)?this._write(s=>{const{primaryKey:o}=t.table.core.schema,l=r;return t.table.core.count({trans:s,query:{index:o,range:l}}).then(u=>t.table.core.mutate({trans:s,type:"deleteRange",range:l}).then(({failures:h,lastResult:p,results:d,numFailures:_})=>{if(_)throw new sl("Could not delete some values",Object.keys(h).map(w=>h[w]),u-_);return u-_}))}):this.modify(Yu)}}const Yu=(e,t)=>t.value=null;function IC(e,t){return e<t?-1:e===t?0:1}function LC(e,t){return e>t?-1:e===t?0:1}function tr(e,t,r){var s=e instanceof ly?new e.Collection(e):e;return s._ctx.error=r?new r(t):new TypeError(t),s}function Ss(e){return new e.Collection(e,()=>ay("")).limit(0)}function $C(e,t,r,s,o,l){for(var u=Math.min(e.length,s.length),h=-1,p=0;p<u;++p){var d=t[p];if(d!==s[p])return o(e[p],r[p])<0?e.substr(0,p)+r[p]+r.substr(p+1):o(e[p],s[p])<0?e.substr(0,p)+s[p]+r.substr(p+1):h>=0?e.substr(0,h)+t[h]+r.substr(h+1):null;o(e[p],d)<0&&(h=p)}return u<s.length&&l==="next"?e+r.substr(e.length):u<e.length&&l==="prev"?e.substr(0,r.length):h<0?null:e.substr(0,h)+s[h]+r.substr(h+1)}function Ma(e,t,r,s){var o,l,u,h,p,d,_,w=r.length;if(!r.every(F=>typeof F=="string"))return tr(e,iy);function O(F){o=function(z){return z==="next"?B=>B.toUpperCase():B=>B.toLowerCase()}(F),l=function(z){return z==="next"?B=>B.toLowerCase():B=>B.toUpperCase()}(F),u=F==="next"?IC:LC;var J=r.map(function(z){return{lower:l(z),upper:o(z)}}).sort(function(z,B){return u(z.lower,B.lower)});h=J.map(function(z){return z.upper}),p=J.map(function(z){return z.lower}),d=F,_=F==="next"?"":s}O("next");var R=new e.Collection(e,()=>vi(h[0],p[w-1]+s));R._ondirectionchange=function(F){O(F)};var L=0;return R._addAlgorithm(function(F,J,z){var B=F.key;if(typeof B!="string")return!1;var M=l(B);if(t(M,p,L))return!0;for(var j=null,Z=L;Z<w;++Z){var se=$C(B,M,h[Z],p[Z],u,d);se===null&&j===null?L=Z+1:(j===null||u(j,se)>0)&&(j=se)}return J(j!==null?function(){F.continue(j+_)}:z),!1}),R}function vi(e,t,r,s){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:s}}function ay(e){return{type:1,lower:e,upper:e}}class ly{get Collection(){return this._ctx.table.db.Collection}between(t,r,s,o){s=s!==!1,o=o===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(s||o)&&(!s||!o)?Ss(this):new this.Collection(this,()=>vi(t,r,!s,!o))}catch{return tr(this,Jr)}}equals(t){return t==null?tr(this,Jr):new this.Collection(this,()=>ay(t))}above(t){return t==null?tr(this,Jr):new this.Collection(this,()=>vi(t,void 0,!0))}aboveOrEqual(t){return t==null?tr(this,Jr):new this.Collection(this,()=>vi(t,void 0,!1))}below(t){return t==null?tr(this,Jr):new this.Collection(this,()=>vi(void 0,t,!1,!0))}belowOrEqual(t){return t==null?tr(this,Jr):new this.Collection(this,()=>vi(void 0,t))}startsWith(t){return typeof t!="string"?tr(this,iy):this.between(t,t+Gi,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Ma(this,(r,s)=>r.indexOf(s[0])===0,[t],Gi)}equalsIgnoreCase(t){return Ma(this,(r,s)=>r===s[0],[t],"")}anyOfIgnoreCase(){var t=Zr.apply(As,arguments);return t.length===0?Ss(this):Ma(this,(r,s)=>s.indexOf(r)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Zr.apply(As,arguments);return t.length===0?Ss(this):Ma(this,(r,s)=>s.some(o=>r.indexOf(o)===0),t,Gi)}anyOf(){const t=Zr.apply(As,arguments);let r=this._cmp;try{t.sort(r)}catch{return tr(this,Jr)}if(t.length===0)return Ss(this);const s=new this.Collection(this,()=>vi(t[0],t[t.length-1]));s._ondirectionchange=l=>{r=l==="next"?this._ascending:this._descending,t.sort(r)};let o=0;return s._addAlgorithm((l,u,h)=>{const p=l.key;for(;r(p,t[o])>0;)if(++o,o===t.length)return u(h),!1;return r(p,t[o])===0||(u(()=>{l.continue(t[o])}),!1)}),s}notEqual(t){return this.inAnyRange([[Cc,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Zr.apply(As,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return tr(this,Jr)}const r=t.reduce((s,o)=>s?s.concat([[s[s.length-1][1],o]]):[[Cc,o]],null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,r){const s=this._cmp,o=this._ascending,l=this._descending,u=this._min,h=this._max;if(t.length===0)return Ss(this);if(!t.every(B=>B[0]!==void 0&&B[1]!==void 0&&o(B[0],B[1])<=0))return tr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Je.InvalidArgument);const p=!r||r.includeLowers!==!1,d=r&&r.includeUppers===!0;let _,w=o;function O(B,M){return w(B[0],M[0])}try{_=t.reduce(function(B,M){let j=0,Z=B.length;for(;j<Z;++j){const se=B[j];if(s(M[0],se[1])<0&&s(M[1],se[0])>0){se[0]=u(se[0],M[0]),se[1]=h(se[1],M[1]);break}}return j===Z&&B.push(M),B},[]),_.sort(O)}catch{return tr(this,Jr)}let R=0;const L=d?B=>o(B,_[R][1])>0:B=>o(B,_[R][1])>=0,F=p?B=>l(B,_[R][0])>0:B=>l(B,_[R][0])>=0;let J=L;const z=new this.Collection(this,()=>vi(_[0][0],_[_.length-1][1],!p,!d));return z._ondirectionchange=B=>{B==="next"?(J=L,w=o):(J=F,w=l),_.sort(O)},z._addAlgorithm((B,M,j)=>{for(var Z=B.key;J(Z);)if(++R,R===_.length)return M(j),!1;return!!function(se){return!L(se)&&!F(se)}(Z)||(this._cmp(Z,_[R][1])===0||this._cmp(Z,_[R][0])===0||M(()=>{w===o?B.continue(_[R][0]):B.continue(_[R][1])}),!1)}),z}startsWithAnyOf(){const t=Zr.apply(As,arguments);return t.every(r=>typeof r=="string")?t.length===0?Ss(this):this.inAnyRange(t.map(r=>[r,r+Gi])):tr(this,"startsWithAnyOf() only works with strings")}}function $r(e){return Vt(function(t){return Lo(t),e(t.target.error),!1})}function Lo(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const $o="storagemutated",wi="x-storagemutated-1",Oi=xo(null,$o);class FC{_lock(){return po(!je.global),++this._reculock,this._reculock!==1||je.global||(je.lockOwnerFor=this),this}_unlock(){if(po(!je.global),--this._reculock==0)for(je.global||(je.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{qs(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&je.lockOwnerFor!==this}create(t){if(!this.mode)return this;const r=this.db.idbdb,s=this.db._state.dbOpenError;if(po(!this.idbtrans),!t&&!r)switch(s&&s.name){case"DatabaseClosedError":throw new Je.DatabaseClosed(s);case"MissingAPIError":throw new Je.MissingAPI(s.message,s);default:throw new Je.OpenFailed(s)}if(!this.active)throw new Je.TransactionInactive;return po(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Vt(o=>{Lo(o),this._reject(t.error)}),t.onabort=Vt(o=>{Lo(o),this.active&&this._reject(new Je.Abort(t.error)),this.active=!1,this.on("abort").fire(o)}),t.oncomplete=Vt(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Oi.storagemutated.fire(t.mutatedParts)}),this}_promise(t,r,s){if(t==="readwrite"&&this.mode!=="readwrite")return ln(new Je.ReadOnly("Transaction is readonly"));if(!this.active)return ln(new Je.TransactionInactive);if(this._locked())return new Ie((l,u)=>{this._blockedFuncs.push([()=>{this._promise(t,r,s).then(l,u)},je])});if(s)return Di(()=>{var l=new Ie((u,h)=>{this._lock();const p=r(u,h,this);p&&p.then&&p.then(u,h)});return l.finally(()=>this._unlock()),l._lib=!0,l});var o=new Ie((l,u)=>{var h=r(l,u,this);h&&h.then&&h.then(l,u)});return o._lib=!0,o}_root(){return this.parent?this.parent._root():this}waitFor(t){var r=this._root();const s=Ie.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>s);else{r._waitingFor=s,r._waitingQueue=[];var o=r.idbtrans.objectStore(r.storeNames[0]);(function u(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(o.get(-1/0).onsuccess=u)})()}var l=r._waitingFor;return new Ie((u,h)=>{s.then(p=>r._waitingQueue.push(Vt(u.bind(null,p))),p=>r._waitingQueue.push(Vt(h.bind(null,p)))).finally(()=>{r._waitingFor===l&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Je.Abort))}table(t){const r=this._memoizedTables||(this._memoizedTables={});if(sr(r,t))return r[t];const s=this.schema[t];if(!s)throw new Je.NotFound("Table "+t+" not part of transaction");const o=new this.db.Table(t,s,this);return o.core=this.db.core.table(t),r[t]=o,o}}function Tc(e,t,r,s,o,l,u){return{name:e,keyPath:t,unique:r,multi:s,auto:o,compound:l,src:(r&&!u?"&":"")+(s?"*":"")+(o?"++":"")+uy(t)}}function uy(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function cy(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:Kg(r,s=>[s.name,s])}}let Fo=e=>{try{return e.only([[]]),Fo=()=>[[]],[[]]}catch{return Fo=()=>Gi,Gi}};function Ac(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?s=>s[t]:s=>ni(s,t)}(e):t=>ni(t,e)}function Pp(e){return[].slice.call(e)}let NC=0;function So(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function RC(e,t,r){function s(p){if(p.type===3)return null;if(p.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:d,upper:_,lowerOpen:w,upperOpen:O}=p;return d===void 0?_===void 0?null:t.upperBound(_,!!O):_===void 0?t.lowerBound(d,!!w):t.bound(d,_,!!w,!!O)}const{schema:o,hasGetAll:l}=function(p,d){const _=Pp(p.objectStoreNames);return{schema:{name:p.name,tables:_.map(w=>d.objectStore(w)).map(w=>{const{keyPath:O,autoIncrement:R}=w,L=On(O),F=O==null,J={},z={name:w.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:F,compound:L,keyPath:O,autoIncrement:R,unique:!0,extractKey:Ac(O)},indexes:Pp(w.indexNames).map(B=>w.index(B)).map(B=>{const{name:M,unique:j,multiEntry:Z,keyPath:se}=B,ne={name:M,compound:On(se),keyPath:se,unique:j,multiEntry:Z,extractKey:Ac(se)};return J[So(se)]=ne,ne}),getIndexByKeyPath:B=>J[So(B)]};return J[":id"]=z.primaryKey,O!=null&&(J[So(O)]=z.primaryKey),z})},hasGetAll:_.length>0&&"getAll"in d.objectStore(_[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),u=o.tables.map(p=>function(d){const _=d.name;return{name:_,schema:d,mutate:function({trans:w,type:O,keys:R,values:L,range:F}){return new Promise((J,z)=>{J=Vt(J);const B=w.objectStore(_),M=B.keyPath==null,j=O==="put"||O==="add";if(!j&&O!=="delete"&&O!=="deleteRange")throw new Error("Invalid operation type: "+O);const{length:Z}=R||L||{length:1};if(R&&L&&R.length!==L.length)throw new Error("Given keys array must have same length as given values array.");if(Z===0)return J({numFailures:0,failures:{},results:[],lastResult:void 0});let se;const ne=[],ve=[];let k=0;const E=X=>{++k,Lo(X)};if(O==="deleteRange"){if(F.type===4)return J({numFailures:k,failures:ve,results:[],lastResult:void 0});F.type===3?ne.push(se=B.clear()):ne.push(se=B.delete(s(F)))}else{const[X,Me]=j?M?[L,R]:[L,null]:[R,null];if(j)for(let Ee=0;Ee<Z;++Ee)ne.push(se=Me&&Me[Ee]!==void 0?B[O](X[Ee],Me[Ee]):B[O](X[Ee])),se.onerror=E;else for(let Ee=0;Ee<Z;++Ee)ne.push(se=B[O](X[Ee])),se.onerror=E}const te=X=>{const Me=X.target.result;ne.forEach((Ee,it)=>Ee.error!=null&&(ve[it]=Ee.error)),J({numFailures:k,failures:ve,results:O==="delete"?R:ne.map(Ee=>Ee.result),lastResult:Me})};se.onerror=X=>{E(X),te(X)},se.onsuccess=te})},getMany:({trans:w,keys:O})=>new Promise((R,L)=>{R=Vt(R);const F=w.objectStore(_),J=O.length,z=new Array(J);let B,M=0,j=0;const Z=ne=>{const ve=ne.target;z[ve._pos]=ve.result,++j===M&&R(z)},se=$r(L);for(let ne=0;ne<J;++ne)O[ne]!=null&&(B=F.get(O[ne]),B._pos=ne,B.onsuccess=Z,B.onerror=se,++M);M===0&&R(z)}),get:({trans:w,key:O})=>new Promise((R,L)=>{R=Vt(R);const F=w.objectStore(_).get(O);F.onsuccess=J=>R(J.target.result),F.onerror=$r(L)}),query:function(w){return O=>new Promise((R,L)=>{R=Vt(R);const{trans:F,values:J,limit:z,query:B}=O,M=z===1/0?void 0:z,{index:j,range:Z}=B,se=F.objectStore(_),ne=j.isPrimaryKey?se:se.index(j.name),ve=s(Z);if(z===0)return R({result:[]});if(w){const k=J?ne.getAll(ve,M):ne.getAllKeys(ve,M);k.onsuccess=E=>R({result:E.target.result}),k.onerror=$r(L)}else{let k=0;const E=J||!("openKeyCursor"in ne)?ne.openCursor(ve):ne.openKeyCursor(ve),te=[];E.onsuccess=X=>{const Me=E.result;return Me?(te.push(J?Me.value:Me.primaryKey),++k===z?R({result:te}):void Me.continue()):R({result:te})},E.onerror=$r(L)}})}(l),openCursor:function({trans:w,values:O,query:R,reverse:L,unique:F}){return new Promise((J,z)=>{J=Vt(J);const{index:B,range:M}=R,j=w.objectStore(_),Z=B.isPrimaryKey?j:j.index(B.name),se=L?F?"prevunique":"prev":F?"nextunique":"next",ne=O||!("openKeyCursor"in Z)?Z.openCursor(s(M),se):Z.openKeyCursor(s(M),se);ne.onerror=$r(z),ne.onsuccess=Vt(ve=>{const k=ne.result;if(!k)return void J(null);k.___id=++NC,k.done=!1;const E=k.continue.bind(k);let te=k.continuePrimaryKey;te&&(te=te.bind(k));const X=k.advance.bind(k),Me=()=>{throw new Error("Cursor not stopped")};k.trans=w,k.stop=k.continue=k.continuePrimaryKey=k.advance=()=>{throw new Error("Cursor not started")},k.fail=Vt(z),k.next=function(){let Ee=1;return this.start(()=>Ee--?this.continue():this.stop()).then(()=>this)},k.start=Ee=>{const it=new Promise((De,Se)=>{De=Vt(De),ne.onerror=$r(Se),k.fail=Se,k.stop=Tt=>{k.stop=k.continue=k.continuePrimaryKey=k.advance=Me,De(Tt)}}),Be=()=>{if(ne.result)try{Ee()}catch(De){k.fail(De)}else k.done=!0,k.start=()=>{throw new Error("Cursor behind last entry")},k.stop()};return ne.onsuccess=Vt(De=>{ne.onsuccess=Be,Be()}),k.continue=E,k.continuePrimaryKey=te,k.advance=X,Be(),it},J(k)},z)})},count({query:w,trans:O}){const{index:R,range:L}=w;return new Promise((F,J)=>{const z=O.objectStore(_),B=R.isPrimaryKey?z:z.index(R.name),M=s(L),j=M?B.count(M):B.count();j.onsuccess=Vt(Z=>F(Z.target.result)),j.onerror=$r(J)})}}}(p)),h={};return u.forEach(p=>h[p.name]=p),{stack:"dbcore",transaction:e.transaction.bind(e),table(p){if(!h[p])throw new Error(`Table '${p}' not found`);return h[p]},MIN_KEY:-1/0,MAX_KEY:Fo(t),schema:o}}function Dc({_novip:e},t){const r=t.db,s=function(o,l,{IDBKeyRange:u,indexedDB:h},p){return{dbcore:function(_,w){return w.reduce((O,{create:R})=>({...O,...R(O)}),_)}(RC(l,u,p),o.dbcore)}}(e._middlewares,r,e._deps,t);e.core=s.dbcore,e.tables.forEach(o=>{const l=o.name;e.core.schema.tables.some(u=>u.name===l)&&(o.core=e.core.table(l),e[l]instanceof e.Table&&(e[l].core=o.core))})}function cl({_novip:e},t,r,s){r.forEach(o=>{const l=s[o];t.forEach(u=>{const h=sf(u,o);(!h||"value"in h&&h.value===void 0)&&(u===e.Transaction.prototype||u instanceof e.Transaction?ti(u,o,{get(){return this.table(o)},set(p){Bg(this,o,{value:p,writable:!0,configurable:!0,enumerable:!0})}}):u[o]=new e.Table(o,l))})})}function Ec({_novip:e},t){t.forEach(r=>{for(let s in r)r[s]instanceof e.Table&&delete r[s]})}function BC(e,t){return e._cfg.version-t._cfg.version}function MC(e,t,r,s){const o=e._dbSchema,l=e._createTransaction("readwrite",e._storeNames,o);l.create(r),l._completion.catch(s);const u=l._reject.bind(l),h=je.transless||je;Di(()=>{je.trans=l,je.transless=h,t===0?(nn(o).forEach(p=>{zu(r,p,o[p].primKey,o[p].indexes)}),Dc(e,r),Ie.follow(()=>e.on.populate.fire(l)).catch(u)):function({_novip:p},d,_,w){const O=[],R=p._versions;let L=p._dbSchema=kc(p,p.idbdb,w),F=!1;const J=R.filter(B=>B._cfg.version>=d);function z(){return O.length?Ie.resolve(O.shift()(_.idbtrans)).then(z):Ie.resolve()}return J.forEach(B=>{O.push(()=>{const M=L,j=B._cfg.dbschema;Pc(p,M,w),Pc(p,j,w),L=p._dbSchema=j;const Z=fy(M,j);Z.add.forEach(ne=>{zu(w,ne[0],ne[1].primKey,ne[1].indexes)}),Z.change.forEach(ne=>{if(ne.recreate)throw new Je.Upgrade("Not yet support for changing primary key");{const ve=w.objectStore(ne.name);ne.add.forEach(k=>Oc(ve,k)),ne.change.forEach(k=>{ve.deleteIndex(k.name),Oc(ve,k)}),ne.del.forEach(k=>ve.deleteIndex(k))}});const se=B._cfg.contentUpgrade;if(se&&B._cfg.version>d){Dc(p,w),_._memoizedTables={},F=!0;let ne=jg(j);Z.del.forEach(te=>{ne[te]=M[te]}),Ec(p,[p.Transaction.prototype]),cl(p,[p.Transaction.prototype],nn(ne),ne),_.schema=ne;const ve=of(se);let k;ve&&Ws();const E=Ie.follow(()=>{if(k=se(_),k&&ve){var te=ii.bind(null,null);k.then(te,te)}});return k&&typeof k.then=="function"?Ie.resolve(k):E.then(()=>k)}}),O.push(M=>{(!F||!EC)&&function(j,Z){[].slice.call(Z.db.objectStoreNames).forEach(se=>j[se]==null&&Z.db.deleteObjectStore(se))}(B._cfg.dbschema,M),Ec(p,[p.Transaction.prototype]),cl(p,[p.Transaction.prototype],p._storeNames,p._dbSchema),_.schema=p._dbSchema})}),z().then(()=>{var B,M;M=w,nn(B=L).forEach(j=>{M.db.objectStoreNames.contains(j)||zu(M,j,B[j].primKey,B[j].indexes)})})}(e,t,l,r).catch(u)})}function fy(e,t){const r={del:[],add:[],change:[]};let s;for(s in e)t[s]||r.del.push(s);for(s in t){const o=e[s],l=t[s];if(o){const u={name:s,def:l,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(l.primKey.keyPath||"")||o.primKey.auto!==l.primKey.auto&&!Sl)u.recreate=!0,r.change.push(u);else{const h=o.idxByName,p=l.idxByName;let d;for(d in h)p[d]||u.del.push(d);for(d in p){const _=h[d],w=p[d];_?_.src!==w.src&&u.change.push(w):u.add.push(w)}(u.del.length>0||u.add.length>0||u.change.length>0)&&r.change.push(u)}}else r.add.push([s,l])}return r}function zu(e,t,r,s){const o=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return s.forEach(l=>Oc(o,l)),o}function Oc(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function kc(e,t,r){const s={};return il(t.objectStoreNames,0).forEach(o=>{const l=r.objectStore(o);let u=l.keyPath;const h=Tc(uy(u),u||"",!1,!1,!!l.autoIncrement,u&&typeof u!="string",!0),p=[];for(let _=0;_<l.indexNames.length;++_){const w=l.index(l.indexNames[_]);u=w.keyPath;var d=Tc(w.name,u,!!w.unique,!!w.multiEntry,!1,u&&typeof u!="string",!1);p.push(d)}s[o]=cy(o,h,p)}),s}function Pc({_novip:e},t,r){const s=r.db.objectStoreNames;for(let o=0;o<s.length;++o){const l=s[o],u=r.objectStore(l);e._hasGetAll="getAll"in u;for(let h=0;h<u.indexNames.length;++h){const p=u.indexNames[h],d=u.index(p).keyPath,_=typeof d=="string"?d:"["+il(d).join("+")+"]";if(t[l]){const w=t[l].idxByName[_];w&&(w.name=p,delete t[l].idxByName[_],t[l].idxByName[p]=w)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&jt.WorkerGlobalScope&&jt instanceof jt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class UC{_parseStoresSpec(t,r){nn(t).forEach(s=>{if(t[s]!==null){var o=t[s].split(",").map((u,h)=>{const p=(u=u.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return Tc(p,d||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),On(d),h===0)}),l=o.shift();if(l.multi)throw new Je.Schema("Primary key cannot be multi-valued");o.forEach(u=>{if(u.auto)throw new Je.Schema("Only primary key can be marked as autoIncrement (++)");if(!u.keyPath)throw new Je.Schema("Index must have a name and cannot be an empty string")}),r[s]=cy(s,l,o)}})}stores(t){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?Rn(this._cfg.storesSource,t):t;const s=r._versions,o={};let l={};return s.forEach(u=>{Rn(o,u._cfg.storesSource),l=u._cfg.dbschema={},u._parseStoresSpec(o,l)}),r._dbSchema=l,Ec(r,[r._allTables,r,r.Transaction.prototype]),cl(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],nn(l),l),r._storeNames=nn(l),this}upgrade(t){return this._cfg.contentUpgrade=uf(this._cfg.contentUpgrade||Rt,t),this}}function df(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new Zt(Cl,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function pf(e){return e&&typeof e.databases=="function"}function Ic(e){return Di(function(){return je.letThrough=!0,e()})}function KC(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var r=function(){return indexedDB.databases().finally(t)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function jC(e){const t=e._state,{indexedDB:r}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?ln(t.dbOpenError):e);Rr&&(t.openCanceller._stackHolder=is()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const s=t.openCanceller;function o(){if(t.openCanceller!==s)throw new Je.DatabaseClosed("db.open() was cancelled")}let l=t.dbReadyResolve,u=null,h=!1;return Ie.race([s,(typeof navigator>"u"?Ie.resolve():KC()).then(()=>new Ie((p,d)=>{if(o(),!r)throw new Je.MissingAPI;const _=e.name,w=t.autoSchema?r.open(_):r.open(_,Math.round(10*e.verno));if(!w)throw new Je.MissingAPI;w.onerror=$r(d),w.onblocked=Vt(e._fireOnBlocked),w.onupgradeneeded=Vt(O=>{if(u=w.transaction,t.autoSchema&&!e._options.allowEmptyDB){w.onerror=Lo,u.abort(),w.result.close();const L=r.deleteDatabase(_);L.onsuccess=L.onerror=Vt(()=>{d(new Je.NoSuchDatabase(`Database ${_} doesnt exist`))})}else{u.onerror=$r(d);var R=O.oldVersion>Math.pow(2,62)?0:O.oldVersion;h=R<1,e._novip.idbdb=w.result,MC(e,R/10,u,d)}},d),w.onsuccess=Vt(()=>{u=null;const O=e._novip.idbdb=w.result,R=il(O.objectStoreNames);if(R.length>0)try{const F=O.transaction((L=R).length===1?L[0]:L,"readonly");t.autoSchema?function({_novip:J},z,B){J.verno=z.version/10;const M=J._dbSchema=kc(0,z,B);J._storeNames=il(z.objectStoreNames,0),cl(J,[J._allTables],nn(M),M)}(e,O,F):(Pc(e,e._dbSchema,F),function(J,z){const B=fy(kc(0,J.idbdb,z),J._dbSchema);return!(B.add.length||B.change.some(M=>M.add.length||M.change.length))}(e,F)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Dc(e,F)}catch{}var L;wo.push(e),O.onversionchange=Vt(F=>{t.vcFired=!0,e.on("versionchange").fire(F)}),O.onclose=Vt(F=>{e.on("close").fire(F)}),h&&function({indexedDB:F,IDBKeyRange:J},z){!pf(F)&&z!==Cl&&df(F,J).put({name:z}).catch(Rt)}(e._deps,_),p()},d)}))]).then(()=>(o(),t.onReadyBeingFired=[],Ie.resolve(Ic(()=>e.on.ready.fire(e.vip))).then(function p(){if(t.onReadyBeingFired.length>0){let d=t.onReadyBeingFired.reduce(uf,Rt);return t.onReadyBeingFired=[],Ie.resolve(Ic(()=>d(e.vip))).then(p)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(p=>{t.dbOpenError=p;try{u&&u.abort()}catch{}return s===t.openCanceller&&e._close(),ln(p)}).finally(()=>{t.openComplete=!0,l()})}function Lc(e){var t=l=>e.next(l),r=o(t),s=o(l=>e.throw(l));function o(l){return u=>{var h=l(u),p=h.value;return h.done?p:p&&typeof p.then=="function"?p.then(r,s):On(p)?Promise.all(p).then(r,s):r(p)}}return o(t)()}function HC(e,t,r){var s=arguments.length;if(s<2)throw new Je.InvalidArgument("Too few arguments");for(var o=new Array(s-1);--s;)o[s-1]=arguments[s];return r=o.pop(),[e,Hg(o),r]}function hy(e,t,r,s,o){return Ie.resolve().then(()=>{const l=je.transless||je,u=e._createTransaction(t,r,e._dbSchema,s),h={trans:u,transless:l};if(s)u.idbtrans=s.idbtrans;else try{u.create(),e._state.PR1398_maxLoop=3}catch(w){return w.name===lf.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>hy(e,t,r,null,o))):ln(w)}const p=of(o);let d;p&&Ws();const _=Ie.follow(()=>{if(d=o.call(u,u),d)if(p){var w=ii.bind(null,null);d.then(w,w)}else typeof d.next=="function"&&typeof d.throw=="function"&&(d=Lc(d))},h);return(d&&typeof d.then=="function"?Ie.resolve(d).then(w=>u.active?w:ln(new Je.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):_.then(()=>d)).then(w=>(s&&u._resolve(),u._completion.then(()=>w))).catch(w=>(u._reject(w),ln(w)))})}function Ua(e,t,r){const s=On(e)?e.slice():[e];for(let o=0;o<r;++o)s.push(t);return s}const VC={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const r=e.table(t),{schema:s}=r,o={},l=[];function u(_,w,O){const R=So(_),L=o[R]=o[R]||[],F=_==null?0:typeof _=="string"?1:_.length,J=w>0,z={...O,isVirtual:J,keyTail:w,keyLength:F,extractKey:Ac(_),unique:!J&&O.unique};return L.push(z),z.isPrimaryKey||l.push(z),F>1&&u(F===2?_[0]:_.slice(0,F-1),w+1,O),L.sort((B,M)=>B.keyTail-M.keyTail),z}const h=u(s.primaryKey.keyPath,0,s.primaryKey);o[":id"]=[h];for(const _ of s.indexes)u(_.keyPath,0,_);function p(_){const w=_.query.index;return w.isVirtual?{..._,query:{index:w,range:(O=_.query.range,R=w.keyTail,{type:O.type===1?2:O.type,lower:Ua(O.lower,O.lowerOpen?e.MAX_KEY:e.MIN_KEY,R),lowerOpen:!0,upper:Ua(O.upper,O.upperOpen?e.MIN_KEY:e.MAX_KEY,R),upperOpen:!0})}}:_;var O,R}return{...r,schema:{...s,primaryKey:h,indexes:l,getIndexByKeyPath:function(_){const w=o[So(_)];return w&&w[0]}},count:_=>r.count(p(_)),query:_=>r.query(p(_)),openCursor(_){const{keyTail:w,isVirtual:O,keyLength:R}=_.query.index;return O?r.openCursor(p(_)).then(L=>L&&function(F){return Object.create(F,{continue:{value:function(z){z!=null?F.continue(Ua(z,_.reverse?e.MAX_KEY:e.MIN_KEY,w)):_.unique?F.continue(F.key.slice(0,R).concat(_.reverse?e.MIN_KEY:e.MAX_KEY,w)):F.continue()}},continuePrimaryKey:{value(z,B){F.continuePrimaryKey(Ua(z,e.MAX_KEY,w),B)}},primaryKey:{get:()=>F.primaryKey},key:{get(){const z=F.key;return R===1?z[0]:z.slice(0,R)}},value:{get:()=>F.value}})}(L)):r.openCursor(_)}}}}}};function gf(e,t,r,s){return r=r||{},s=s||"",nn(e).forEach(o=>{if(sr(t,o)){var l=e[o],u=t[o];if(typeof l=="object"&&typeof u=="object"&&l&&u){const h=hc(l);h!==hc(u)?r[s+o]=t[o]:h==="Object"?gf(l,u,r,s+o+"."):l!==u&&(r[s+o]=t[o])}else l!==u&&(r[s+o]=t[o])}else r[s+o]=void 0}),nn(t).forEach(o=>{sr(e,o)||(r[s+o]=t[o])}),r}const WC={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const r=e.table(t),{primaryKey:s}=r.schema;return{...r,mutate(l){const u=je.trans,{deleting:h,creating:p,updating:d}=u.table(t).hook;switch(l.type){case"add":if(p.fire===Rt)break;return u._promise("readwrite",()=>_(l),!0);case"put":if(p.fire===Rt&&d.fire===Rt)break;return u._promise("readwrite",()=>_(l),!0);case"delete":if(h.fire===Rt)break;return u._promise("readwrite",()=>_(l),!0);case"deleteRange":if(h.fire===Rt)break;return u._promise("readwrite",()=>function(O){return w(O.trans,O.range,1e4)}(l),!0)}return r.mutate(l);function _(O){const R=je.trans,L=O.keys||function(F,J){return J.type==="delete"?J.keys:J.keys||J.values.map(F.extractKey)}(s,O);if(!L)throw new Error("Keys missing");return(O=O.type==="add"||O.type==="put"?{...O,keys:L}:{...O}).type!=="delete"&&(O.values=[...O.values]),O.keys&&(O.keys=[...O.keys]),function(F,J,z){return J.type==="add"?Promise.resolve([]):F.getMany({trans:J.trans,keys:z,cache:"immutable"})}(r,O,L).then(F=>{const J=L.map((z,B)=>{const M=F[B],j={onerror:null,onsuccess:null};if(O.type==="delete")h.fire.call(j,z,M,R);else if(O.type==="add"||M===void 0){const Z=p.fire.call(j,z,O.values[B],R);z==null&&Z!=null&&(z=Z,O.keys[B]=z,s.outbound||Or(O.values[B],s.keyPath,z))}else{const Z=gf(M,O.values[B]),se=d.fire.call(j,Z,z,M,R);if(se){const ne=O.values[B];Object.keys(se).forEach(ve=>{sr(ne,ve)?ne[ve]=se[ve]:Or(ne,ve,se[ve])})}}return j});return r.mutate(O).then(({failures:z,results:B,numFailures:M,lastResult:j})=>{for(let Z=0;Z<L.length;++Z){const se=B?B[Z]:L[Z],ne=J[Z];se==null?ne.onerror&&ne.onerror(z[Z]):ne.onsuccess&&ne.onsuccess(O.type==="put"&&F[Z]?O.values[Z]:se)}return{failures:z,results:B,numFailures:M,lastResult:j}}).catch(z=>(J.forEach(B=>B.onerror&&B.onerror(z)),Promise.reject(z)))})}function w(O,R,L){return r.query({trans:O,values:!1,query:{index:s,range:R},limit:L}).then(({result:F})=>_({type:"delete",keys:F,trans:O}).then(J=>J.numFailures>0?Promise.reject(J.failures[0]):F.length<L?{failures:[],numFailures:0,lastResult:void 0}:w(O,{...R,lower:F[F.length-1],lowerOpen:!0},L)))}}}}})};function dy(e,t,r){try{if(!t||t.keys.length<e.length)return null;const s=[];for(let o=0,l=0;o<t.keys.length&&l<e.length;++o)Nn(t.keys[o],e[l])===0&&(s.push(r?Mo(t.values[o]):t.values[o]),++l);return s.length===e.length?s:null}catch{return null}}const qC={stack:"dbcore",level:-1,create:e=>({table:t=>{const r=e.table(t);return{...r,getMany:s=>{if(!s.cache)return r.getMany(s);const o=dy(s.keys,s.trans._cache,s.cache==="clone");return o?Ie.resolve(o):r.getMany(s).then(l=>(s.trans._cache={keys:s.keys,values:s.cache==="clone"?Mo(l):l},l))},mutate:s=>(s.type!=="add"&&(s.trans._cache=null),r.mutate(s))}}})};function yf(e){return!("from"in e)}const Xr=function(e,t){if(!this){const r=new Xr;return e&&"d"in e&&Rn(r,e),r}Rn(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function No(e,t,r){const s=Nn(t,r);if(isNaN(s))return;if(s>0)throw RangeError();if(yf(e))return Rn(e,{from:t,to:r,d:1});const o=e.l,l=e.r;if(Nn(r,e.from)<0)return o?No(o,t,r):e.l={from:t,to:r,d:1,l:null,r:null},Ip(e);if(Nn(t,e.to)>0)return l?No(l,t,r):e.r={from:t,to:r,d:1,l:null,r:null},Ip(e);Nn(t,e.from)<0&&(e.from=t,e.l=null,e.d=l?l.d+1:1),Nn(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);const u=!e.r;o&&!e.l&&fl(e,o),l&&u&&fl(e,l)}function fl(e,t){yf(t)||function r(s,{from:o,to:l,l:u,r:h}){No(s,o,l),u&&r(s,u),h&&r(s,h)}(e,t)}function GC(e,t){const r=$c(t);let s=r.next();if(s.done)return!1;let o=s.value;const l=$c(e);let u=l.next(o.from),h=u.value;for(;!s.done&&!u.done;){if(Nn(h.from,o.to)<=0&&Nn(h.to,o.from)>=0)return!0;Nn(o.from,h.from)<0?o=(s=r.next(h.from)).value:h=(u=l.next(o.from)).value}return!1}function $c(e){let t=yf(e)?null:{s:0,n:e};return{next(r){const s=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,s)for(;t.n.l&&Nn(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!s||Nn(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Ip(e){var t,r;const s=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),o=s>1?"r":s<-1?"l":"";if(o){const l=o==="r"?"l":"r",u={...e},h=e[o];e.from=h.from,e.to=h.to,e[o]=h[o],u[o]=h[l],e[l]=u,u.d=Lp(u)}e.d=Lp(e)}function Lp({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}js(Xr.prototype,{add(e){return fl(this,e),this},addKey(e){return No(this,e,e),this},addKeys(e){return e.forEach(t=>No(this,t,t)),this},[dc](){return $c(this)}});const JC={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,r=new Xr(e.MIN_KEY,e.MAX_KEY);return{...e,table:s=>{const o=e.table(s),{schema:l}=o,{primaryKey:u}=l,{extractKey:h,outbound:p}=u,d={...o,mutate:O=>{const R=O.trans,L=R.mutatedParts||(R.mutatedParts={}),F=se=>{const ne=`idb://${t}/${s}/${se}`;return L[ne]||(L[ne]=new Xr)},J=F(""),z=F(":dels"),{type:B}=O;let[M,j]=O.type==="deleteRange"?[O.range]:O.type==="delete"?[O.keys]:O.values.length<50?[[],O.values]:[];const Z=O.trans._cache;return o.mutate(O).then(se=>{if(On(M)){B!=="delete"&&(M=se.results),J.addKeys(M);const ne=dy(M,Z);ne||B==="add"||z.addKeys(M),(ne||j)&&function(ve,k,E,te){function X(Me){const Ee=ve(Me.name||"");function it(De){return De!=null?Me.extractKey(De):null}const Be=De=>Me.multiEntry&&On(De)?De.forEach(Se=>Ee.addKey(Se)):Ee.addKey(De);(E||te).forEach((De,Se)=>{const Tt=E&&it(E[Se]),yt=te&&it(te[Se]);Nn(Tt,yt)!==0&&(Tt!=null&&Be(Tt),yt!=null&&Be(yt))})}k.indexes.forEach(X)}(F,l,ne,j)}else if(M){const ne={from:M.lower,to:M.upper};z.add(ne),J.add(ne)}else J.add(r),z.add(r),l.indexes.forEach(ne=>F(ne.name).add(r));return se})}},_=({query:{index:O,range:R}})=>{var L,F;return[O,new Xr((L=R.lower)!==null&&L!==void 0?L:e.MIN_KEY,(F=R.upper)!==null&&F!==void 0?F:e.MAX_KEY)]},w={get:O=>[u,new Xr(O.key)],getMany:O=>[u,new Xr().addKeys(O.keys)],count:_,query:_,openCursor:_};return nn(w).forEach(O=>{d[O]=function(R){const{subscr:L}=je;if(L){const F=j=>{const Z=`idb://${t}/${s}/${j}`;return L[Z]||(L[Z]=new Xr)},J=F(""),z=F(":dels"),[B,M]=w[O](R);if(F(B.name||"").add(M),!B.isPrimaryKey){if(O!=="count"){const j=O==="query"&&p&&R.values&&o.query({...R,values:!1});return o[O].apply(this,arguments).then(Z=>{if(O==="query"){if(p&&R.values)return j.then(({result:ne})=>(J.addKeys(ne),Z));const se=R.values?Z.result.map(h):Z.result;R.values?J.addKeys(se):z.addKeys(se)}else if(O==="openCursor"){const se=Z,ne=R.values;return se&&Object.create(se,{key:{get:()=>(z.addKey(se.primaryKey),se.key)},primaryKey:{get(){const ve=se.primaryKey;return z.addKey(ve),ve}},value:{get:()=>(ne&&J.addKey(se.primaryKey),se.value)}})}return Z})}z.add(r)}}return o[O].apply(this,arguments)}}),d}}}};class Zt{constructor(t,r){this._middlewares={},this.verno=0;const s=Zt.dependencies;this._options=r={addons:Zt.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:o}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const l={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Rt,dbReadyPromise:null,cancelOpen:Rt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var u;l.dbReadyPromise=new Ie(h=>{l.dbReadyResolve=h}),l.openCanceller=new Ie((h,p)=>{l.cancelOpen=p}),this._state=l,this.name=t,this.on=xo(this,"populate","blocked","versionchange","close",{ready:[uf,Rt]}),this.on.ready.subscribe=Mg(this.on.ready.subscribe,h=>(p,d)=>{Zt.vip(()=>{const _=this._state;if(_.openComplete)_.dbOpenError||Ie.resolve().then(p),d&&h(p);else if(_.onReadyBeingFired)_.onReadyBeingFired.push(p),d&&h(p);else{h(p);const w=this;d||h(function O(){w.on.ready.unsubscribe(p),w.on.ready.unsubscribe(O)})}})}),this.Collection=(u=this,uo(PC.prototype,function(h,p){this.db=u;let d=oy,_=null;if(p)try{d=p()}catch(L){_=L}const w=h._ctx,O=w.table,R=O.hook.reading.fire;this._ctx={table:O,index:w.index,isPrimKey:!w.index||O.schema.primKey.keyPath&&w.index===O.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:_,or:w.or,valueMapper:R!==Po?R:null}})),this.Table=function(h){return uo(kC.prototype,function(p,d,_){this.db=h,this._tx=_,this.name=p,this.schema=d,this.hook=h._allTables[p]?h._allTables[p].hook:xo(null,{creating:[vC,Rt],reading:[mC,Po],updating:[bC,Rt],deleting:[_C,Rt]})})}(this),this.Transaction=function(h){return uo(FC.prototype,function(p,d,_,w,O){this.db=h,this.mode=p,this.storeNames=d,this.schema=_,this.chromeTransactionDurability=w,this.idbtrans=null,this.on=xo(this,"complete","error","abort"),this.parent=O||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ie((R,L)=>{this._resolve=R,this._reject=L}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},R=>{var L=this.active;return this.active=!1,this.on.error.fire(R),this.parent?this.parent._reject(R):L&&this.idbtrans&&this.idbtrans.abort(),ln(R)})})}(this),this.Version=function(h){return uo(UC.prototype,function(p){this.db=h,this._cfg={version:p,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(h){return uo(ly.prototype,function(p,d,_){this.db=h,this._ctx={table:p,index:d===":id"?null:d,or:_};const w=h._deps.indexedDB;if(!w)throw new Je.MissingAPI;this._cmp=this._ascending=w.cmp.bind(w),this._descending=(O,R)=>w.cmp(R,O),this._max=(O,R)=>w.cmp(O,R)>0?O:R,this._min=(O,R)=>w.cmp(O,R)<0?O:R,this._IDBKeyRange=h._deps.IDBKeyRange})}(this),this.on("versionchange",h=>{h.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",h=>{!h.newVersion||h.newVersion<h.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${h.oldVersion/10}`)}),this._maxKey=Fo(r.IDBKeyRange),this._createTransaction=(h,p,d,_)=>new this.Transaction(h,p,d,this._options.chromeTransactionDurability,_),this._fireOnBlocked=h=>{this.on("blocked").fire(h),wo.filter(p=>p.name===this.name&&p!==this&&!p._state.vcFired).map(p=>p.on("versionchange").fire(h))},this.use(VC),this.use(WC),this.use(JC),this.use(qC),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(h=>h(this))}version(t){if(isNaN(t)||t<.1)throw new Je.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Je.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const r=this._versions;var s=r.filter(o=>o._cfg.version===t)[0];return s||(s=new this.Version(t),r.push(s),r.sort(BC),s.stores({}),this._state.autoSchema=!1,s)}_whenReady(t){return this.idbdb&&(this._state.openComplete||je.letThrough||this._vip)?t():new Ie((r,s)=>{if(this._state.openComplete)return s(new Je.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void s(new Je.DatabaseClosed);this.open().catch(Rt)}this._state.dbReadyPromise.then(r,s)}).then(t)}use({stack:t,create:r,level:s,name:o}){o&&this.unuse({stack:t,name:o});const l=this._middlewares[t]||(this._middlewares[t]=[]);return l.push({stack:t,create:r,level:s??10,name:o}),l.sort((u,h)=>u.level-h.level),this}unuse({stack:t,name:r,create:s}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(o=>s?o.create!==s:!!r&&o.name!==r)),this}open(){return jC(this)}_close(){const t=this._state,r=wo.indexOf(this);if(r>=0&&wo.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new Ie(s=>{t.dbReadyResolve=s}),t.openCanceller=new Ie((s,o)=>{t.cancelOpen=o})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Je.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,r=this._state;return new Ie((s,o)=>{const l=()=>{this.close();var u=this._deps.indexedDB.deleteDatabase(this.name);u.onsuccess=Vt(()=>{(function({indexedDB:h,IDBKeyRange:p},d){!pf(h)&&d!==Cl&&df(h,p).delete(d).catch(Rt)})(this._deps,this.name),s()}),u.onerror=$r(o),u.onblocked=this._fireOnBlocked};if(t)throw new Je.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(l):l()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return nn(this._allTables).map(t=>this._allTables[t])}transaction(){const t=HC.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,r,s){let o=je.trans;o&&o.db===this&&t.indexOf("!")===-1||(o=null);const l=t.indexOf("?")!==-1;let u,h;t=t.replace("!","").replace("?","");try{if(h=r.map(d=>{var _=d instanceof this.Table?d.name:d;if(typeof _!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return _}),t=="r"||t===Wu)u=Wu;else{if(t!="rw"&&t!=qu)throw new Je.InvalidArgument("Invalid transaction mode: "+t);u=qu}if(o){if(o.mode===Wu&&u===qu){if(!l)throw new Je.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&h.forEach(d=>{if(o&&o.storeNames.indexOf(d)===-1){if(!l)throw new Je.SubTransaction("Table "+d+" not included in parent transaction.");o=null}}),l&&o&&!o.active&&(o=null)}}catch(d){return o?o._promise(null,(_,w)=>{w(d)}):ln(d)}const p=hy.bind(null,this,u,h,o,s);return o?o._promise(u,p,"lock"):je.trans?qs(je.transless,()=>this._whenReady(p)):this._whenReady(p)}table(t){if(!sr(this._allTables,t))throw new Je.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const YC=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class zC{constructor(t){this._subscribe=t}subscribe(t,r,s){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:r,complete:s})}[YC](){return this}}function py(e,t){return nn(t).forEach(r=>{fl(e[r]||(e[r]=new Xr),t[r])}),e}function XC(e){let t,r=!1;const s=new zC(o=>{const l=of(e);let u=!1,h={},p={};const d={get closed(){return u},unsubscribe:()=>{u=!0,Oi.storagemutated.unsubscribe(R)}};o.start&&o.start(d);let _=!1,w=!1;function O(){return nn(p).some(F=>h[F]&&GC(h[F],p[F]))}const R=F=>{py(h,F),O()&&L()},L=()=>{if(_||u)return;h={};const F={},J=function(z){l&&Ws();const B=()=>Di(e,{subscr:z,trans:null}),M=je.trans?qs(je.transless,B):B();return l&&M.then(ii,ii),M}(F);w||(Oi($o,R),w=!0),_=!0,Promise.resolve(J).then(z=>{r=!0,t=z,_=!1,u||(O()?L():(h={},p=F,o.next&&o.next(z)))},z=>{_=!1,r=!1,o.error&&o.error(z),d.unsubscribe()})};return L(),d});return s.hasValue=()=>r,s.getValue=()=>t,s}let Fc;try{Fc={indexedDB:jt.indexedDB||jt.mozIndexedDB||jt.webkitIndexedDB||jt.msIndexedDB,IDBKeyRange:jt.IDBKeyRange||jt.webkitIDBKeyRange}}catch{Fc={indexedDB:null,IDBKeyRange:null}}const Hi=Zt;function Za(e){let t=ei;try{ei=!0,Oi.storagemutated.fire(e)}finally{ei=t}}js(Hi,{...qa,delete:e=>new Hi(e,{addons:[]}).delete(),exists:e=>new Hi(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:r}){return pf(t)?Promise.resolve(t.databases()).then(s=>s.map(o=>o.name).filter(o=>o!==Cl)):df(t,r).toCollection().primaryKeys()}(Hi.dependencies).then(e)}catch{return ln(new Je.MissingAPI)}},defineClass:()=>function(e){Rn(this,e)},ignoreTransaction:e=>je.trans?qs(je.transless,e):e(),vip:Ic,async:function(e){return function(){try{var t=Lc(e.apply(this,arguments));return t&&typeof t.then=="function"?t:Ie.resolve(t)}catch(r){return ln(r)}}},spawn:function(e,t,r){try{var s=Lc(e.apply(r,t||[]));return s&&typeof s.then=="function"?s:Ie.resolve(s)}catch(o){return ln(o)}},currentTransaction:{get:()=>je.trans||null},waitFor:function(e,t){const r=Ie.resolve(typeof e=="function"?Hi.ignoreTransaction(e):e).timeout(t||6e4);return je.trans?je.trans.waitFor(r):r},Promise:Ie,debug:{get:()=>Rr,set:e=>{Wg(e,e==="dexie"?()=>!0:sy)}},derive:Fs,extend:Rn,props:js,override:Mg,Events:xo,on:Oi,liveQuery:XC,extendObservabilitySet:py,getByKeyPath:ni,setByKeyPath:Or,delByKeyPath:function(e,t){typeof t=="string"?Or(e,t,void 0):"length"in t&&[].map.call(t,function(r){Or(e,r,void 0)})},shallowClone:jg,deepClone:Mo,getObjectDiff:gf,cmp:Nn,asap:Ug,minKey:Cc,addons:[],connections:wo,errnames:lf,dependencies:Fc,semVer:Ap,version:Ap.split(".").map(e=>parseInt(e)).reduce((e,t,r)=>e+t/Math.pow(10,2*r))}),Hi.maxKey=Fo(Hi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Oi($o,e=>{if(!ei){let t;Sl?(t=document.createEvent("CustomEvent"),t.initCustomEvent(wi,!0,!0,e)):t=new CustomEvent(wi,{detail:e}),ei=!0,dispatchEvent(t),ei=!1}}),addEventListener(wi,({detail:e})=>{ei||Za(e)}));let ei=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(wi);typeof e.unref=="function"&&e.unref(),Oi($o,t=>{ei||e.postMessage(t)}),e.onmessage=t=>{t.data&&Za(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Oi($o,t=>{try{ei||(typeof localStorage<"u"&&localStorage.setItem(wi,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:wi,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===wi){const r=JSON.parse(t.newValue);r&&Za(r.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===wi&&Za(t.changedParts)})}Ie.rejectionMapper=function(e,t){if(!e||e instanceof Ns||e instanceof TypeError||e instanceof SyntaxError||!e.name||!xp[e.name])return e;var r=new xp[e.name](t||e.message,e);return"stack"in e&&ti(r,"stack",{get:function(){return this.inner.stack}}),r},Wg(Rr,sy);const It=new Zt("avito_scraper");function ZC(e=1){It.version(e).stores({profilesParseFilter:`
            ++id,
            productName,
            dateFrom,
            dateTo,
            ratingFrom,
            ratingTo,
            scrollInterval,
            deliveryOnly,
            closeTabs,
            *profilesLinks
        `,profilesSearchFilter:`
            ++id,
            reviewsCount,
            categoryUrl,
            profileName,
            pageStart,
            pageEnd,
            pageTitle
        `,profilesSearchedList:`
            ++id,
            url,
            name,
            rating,
            reviewsCount,
            existsInDataBase
        `,profilesParsedList:`
            ++id,
            activeAdds,
            color,
            comment,
            completedAdds,
            deliveryInfo,
            marked,
            name,
            opened,
            parsingDate,
            rating,
            reviewsCount,
            reviewsSortedBy,
            subscribers,
            url,
            *reviewsList
        `,profilesSavedList:`
            ++id,
            &url,
            name,
            comment,
            savedDate,
            *parsingResults
        `})}class QC{constructor(t){Vn(this,"canvas",null);Vn(this,"settings",{canvasClass:"rd-toast-canvas",groupContainerClass:"rd-toast-container",iconClass:"rd-toast-item-icon",showClass:"show",hideClass:"hide",toastClass:"rd-toast-item",toastContentClass:"rd-toast-item-content",icon:"",type:"info",position:"bottom-right",duration:5e3,hideOnClick:!1});this.settings={...this.settings,...t},this.init()}show(t="info",r="",s={}){var p,d;const o={...this.settings,...s,type:t},l=(p=this.canvas)==null?void 0:p.querySelector(`.${this.settings.groupContainerClass}.position-${o.position}`),u=this.createToast(r,o);if(l)return l.append(u),u;const h=this.createContainer(o);return h.append(u),(d=this.canvas)==null||d.append(h),u}drop(t,r={}){const s={...this.settings,...r};this.removeToast(t,s)}createToast(t,r){const s=document.createElement("div"),o=[r.toastClass||"",`type-${r.type}`,`position-${r.position}`||"",r.showClass||""];s.classList.add(...o),s.innerHTML=`<div class="${r.toastContentClass}">${t}</div>`,r.icon&&s.insertAdjacentHTML("afterbegin",`<div class="${r.iconClass}">${r.icon}</div>`);const l=setTimeout(()=>{this.removeToast(s,r)},r.duration);return r.hideOnClick&&s.addEventListener("click",()=>{clearTimeout(l),this.removeToast(s,r)}),s}removeToast(t,r){r.showClass&&t.classList.remove(r.showClass),r.hideClass&&t.classList.add(r.hideClass);let s=getComputedStyle(t).getPropertyValue("animation-duration");setTimeout(()=>{t.remove()},parseFloat(s)*1e3)}createContainer(t){const r=document.createElement("div");return r.classList.add(this.settings.groupContainerClass,`position-${t.position}`),r}init(){const t=document.querySelector(`.${this.settings.canvasClass}`);if(t){this.canvas=t;return}this.canvas=document.createElement("div"),this.canvas.classList.add(this.settings.canvasClass),document.body.append(this.canvas)}}const dt=new QC({hideOnClick:!0,position:"bottom-right"});var ct=(e=>(e.ReviewsFilterSaved="Фильтр парсинга сохранен",e.ReviewsFilterSaveError="Не удалось сохранить фильтр парсинга",e.ReviewsFilterCleared="Фильтр парсинга сброшен",e.ReviewsFilterClearError="Не удалось удалить фильтр парсинга из базы",e.ReviewsFilterGetError="Не удалось достать фильтр парсинга из базы",e.ReviewsFilterAllLinksParsed="Все ссылки уже прошли парсинг",e.ReviewsFilterSimilarLinks="В фильтре парсинга присутствуют одинаковые ссылки",e.ProfilesSearchFilterSaved="Фильтр поиска сохранен",e.ProfilesSearchFilterSaveError="Не удалось сохранить фильтр поиска",e.ProfilesSearchFilterCleared="Фильтр поиска сброшен",e.ProfilesSearchFilterClearError="Не удалось удалить фильтр поиска из базы",e.ProfilesSearchFilterGetError="Не удалось достать фильтр поиска из базы",e.ProfilesSearchedListCreated="Список найденных продавцов сохранен",e.ProfilesSearchedListCreateError="Не удалось сохранить список найденных продавцов",e.ProfilesSearchedListCleared="Список найденных продавцов очищен",e.ParsingReviewsCanceled="Парсинг отзывов отменен",e.ParsingReviewsStarted="Парсинг отзывов запущен",e.ParsingReviewsFinished="Парсинг отзывов завершен",e.TabOpenError="Не удалось открыть ссылку",e.ProfileCreated="Профиль добавлен в базу",e.ProfileCreateError="Не удалось сохранить профиль в базу",e.ProfileEdited="Профиль успешно обновлен",e.ProfileEditeError="Не удалось обновить профиль",e.ProfileDeleted="Профиль успешно удален",e.ProfileDeleteError="Не удалось удалить профиль",e.ProfileLinkCopied="Ссылка профиля скопирована в буффер",e.ProfileLinkAddedInReviewsFilter="Ссылка профиля вставлена в форму фильтра",e.ProfileInfoListAddedInDB="Список профилей сохранен",e.ProfileInfoListRemovedFromDB="Список профилей очищен",e.InfoCopied="Информация скопирована в буффер",e.InfoNotFound="Информация не найдена",e.ResultsNotFound="Результаты не найдены",e.ProductNameCopied="Название товара скопировано в буффер",e.WaitOpenPage="Ожидаем открытия следующей страницы ...",e.DBExportSuccess="Экпорт базы успешно завершен",e.DBExportError="Не удалось экспортировать базу",e.DBImportError="Не удалось импортировать базу",e.DBImportSuccess="Импорт базы успешно завершен",e.DBDropSuccess="База данных успешно удалена",e.DBDropError="Не удалось удалить базу данных",e.ProfilesParsingEnded="Поиск продавцов завершен",e.ProfilesParsingError="Поиск продавцов завершен неудачно",e))(ct||{});function eT(){let e=new Date;return new Date(e.setMonth(e.getMonth()-2))}function Bs(e){if(e)return new Date(e).toLocaleString("ru-RU")}function $p(e){let t=e.split(".");return Date.parse(`${t[2]} ${t[1]} ${t[0]}`)}async function gy(e){return new Promise(t=>{chrome.tabs.create({url:e,active:!0},async r=>{chrome.tabs.onUpdated.addListener(function s(o,l){l.status==="complete"&&o===r.id&&(chrome.tabs.onUpdated.removeListener(s),t(r))})})})}async function Fp(){let t=(await chrome.tabs.query({})).find(r=>{var s;return(s=r.url)==null?void 0:s.includes("options.html")});t&&t.id&&chrome.tabs.update(t.id,{active:!0})}async function tT(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}function mf(e){const t=document.createElement("textarea");t.style.cssText="position: absolute; left: -9999px; top: -9999px;",document.body.appendChild(t),t.value=e,t.focus({preventScroll:!0}),t.select();try{document.execCommand("copy")}catch(r){console.error("Ошибка при копировании в буффер",r)}t.remove()}function nT(e,t){return Math.floor(Math.random()*(t-e+1))+e}async function rT(){const{appStartMessage:e}=await chrome.storage.local.get("appStartMessage");e&&(dt.show("success",e),chrome.storage.local.remove(["appStartMessage"]))}var Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */hl.exports;(function(e,t){(function(){var r,s="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",h="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",d=500,_="__lodash_placeholder__",w=1,O=2,R=4,L=1,F=2,J=1,z=2,B=4,M=8,j=16,Z=32,se=64,ne=128,ve=256,k=512,E=30,te="...",X=800,Me=16,Ee=1,it=2,Be=3,De=1/0,Se=9007199254740991,Tt=17976931348623157e292,yt=0/0,mt=4294967295,xt=mt-1,kn=mt>>>1,Re=[["ary",ne],["bind",J],["bindKey",z],["curry",M],["curryRight",j],["flip",k],["partial",Z],["partialRight",se],["rearg",ve]],Te="[object Arguments]",ot="[object Array]",ee="[object AsyncFunction]",le="[object Boolean]",oe="[object Date]",de="[object DOMException]",$="[object Error]",f="[object Function]",g="[object GeneratorFunction]",v="[object Map]",b="[object Number]",T="[object Null]",A="[object Object]",I="[object Promise]",K="[object Proxy]",Y="[object RegExp]",q="[object Set]",ae="[object String]",ie="[object Symbol]",he="[object Undefined]",ge="[object WeakMap]",xe="[object WeakSet]",ke="[object ArrayBuffer]",Le="[object DataView]",me="[object Float32Array]",S="[object Float64Array]",m="[object Int8Array]",D="[object Int16Array]",N="[object Int32Array]",V="[object Uint8Array]",pe="[object Uint8ClampedArray]",ye="[object Uint16Array]",$e="[object Uint32Array]",Ae=/\b__p \+= '';/g,He=/\b(__p \+=) '' \+/g,at=/(__e\(.*?\)|\b__t\)) \+\n'';/g,lt=/&(?:amp|lt|gt|quot|#39);/g,Ct=/[&<>"']/g,wt=RegExp(lt.source),vt=RegExp(Ct.source),Lt=/<%-([\s\S]+?)%>/g,$t=/<%([\s\S]+?)%>/g,Qe=/<%=([\s\S]+?)%>/g,sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fe=/^\w*$/,we=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ue=/[\\^$.*+?()[\]{}|]/g,Ke=RegExp(Ue.source),Ve=/^\s+/,ht=/\s/,Pn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wt=/\{\n\/\* \[wrapped with (.+)\] \*/,bn=/,? & /,Bn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ot=/[()=,{}\[\]\/\s]/,Mn=/\\(\\)?/g,Ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wn=/\w*$/,pn=/^[-+]0x[0-9a-f]+$/i,Gn=/^0b[01]+$/i,Jn=/^\[object .+?Constructor\]$/,Gs=/^0o[0-7]+$/i,ss=/^(?:0|[1-9]\d*)$/,oi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ai=/($^)/,kr=/['\n\r\u2028\u2029\\]/g,Qt="\\ud800-\\udfff",mr="\\u0300-\\u036f",Br="\\ufe20-\\ufe2f",os="\\u20d0-\\u20ff",_f=mr+Br+os,bf="\\u2700-\\u27bf",wf="a-z\\xdf-\\xf6\\xf8-\\xff",Ey="\\xac\\xb1\\xd7\\xf7",Oy="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ky="\\u2000-\\u206f",Py=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xf="A-Z\\xc0-\\xd6\\xd8-\\xde",Sf="\\ufe0e\\ufe0f",Cf=Ey+Oy+ky+Py,Al="['’]",Iy="["+Qt+"]",Tf="["+Cf+"]",jo="["+_f+"]",Af="\\d+",Ly="["+bf+"]",Df="["+wf+"]",Ef="[^"+Qt+Cf+Af+bf+wf+xf+"]",Dl="\\ud83c[\\udffb-\\udfff]",$y="(?:"+jo+"|"+Dl+")",Of="[^"+Qt+"]",El="(?:\\ud83c[\\udde6-\\uddff]){2}",Ol="[\\ud800-\\udbff][\\udc00-\\udfff]",as="["+xf+"]",kf="\\u200d",Pf="(?:"+Df+"|"+Ef+")",Fy="(?:"+as+"|"+Ef+")",If="(?:"+Al+"(?:d|ll|m|re|s|t|ve))?",Lf="(?:"+Al+"(?:D|LL|M|RE|S|T|VE))?",$f=$y+"?",Ff="["+Sf+"]?",Ny="(?:"+kf+"(?:"+[Of,El,Ol].join("|")+")"+Ff+$f+")*",Ry="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",By="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nf=Ff+$f+Ny,My="(?:"+[Ly,El,Ol].join("|")+")"+Nf,Uy="(?:"+[Of+jo+"?",jo,El,Ol,Iy].join("|")+")",Ky=RegExp(Al,"g"),jy=RegExp(jo,"g"),kl=RegExp(Dl+"(?="+Dl+")|"+Uy+Nf,"g"),Hy=RegExp([as+"?"+Df+"+"+If+"(?="+[Tf,as,"$"].join("|")+")",Fy+"+"+Lf+"(?="+[Tf,as+Pf,"$"].join("|")+")",as+"?"+Pf+"+"+If,as+"+"+Lf,By,Ry,Af,My].join("|"),"g"),Vy=RegExp("["+kf+Qt+_f+Sf+"]"),Wy=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qy=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gy=-1,Mt={};Mt[me]=Mt[S]=Mt[m]=Mt[D]=Mt[N]=Mt[V]=Mt[pe]=Mt[ye]=Mt[$e]=!0,Mt[Te]=Mt[ot]=Mt[ke]=Mt[le]=Mt[Le]=Mt[oe]=Mt[$]=Mt[f]=Mt[v]=Mt[b]=Mt[A]=Mt[Y]=Mt[q]=Mt[ae]=Mt[ge]=!1;var Bt={};Bt[Te]=Bt[ot]=Bt[ke]=Bt[Le]=Bt[le]=Bt[oe]=Bt[me]=Bt[S]=Bt[m]=Bt[D]=Bt[N]=Bt[v]=Bt[b]=Bt[A]=Bt[Y]=Bt[q]=Bt[ae]=Bt[ie]=Bt[V]=Bt[pe]=Bt[ye]=Bt[$e]=!0,Bt[$]=Bt[f]=Bt[ge]=!1;var Jy={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Yy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zy=parseFloat,Qy=parseInt,Rf=typeof Ds=="object"&&Ds&&Ds.Object===Object&&Ds,em=typeof self=="object"&&self&&self.Object===Object&&self,gn=Rf||em||Function("return this")(),Pl=t&&!t.nodeType&&t,Ii=Pl&&!0&&e&&!e.nodeType&&e,Bf=Ii&&Ii.exports===Pl,Il=Bf&&Rf.process,or=function(){try{var H=Ii&&Ii.require&&Ii.require("util").types;return H||Il&&Il.binding&&Il.binding("util")}catch{}}(),Mf=or&&or.isArrayBuffer,Uf=or&&or.isDate,Kf=or&&or.isMap,jf=or&&or.isRegExp,Hf=or&&or.isSet,Vf=or&&or.isTypedArray;function Yn(H,re,Q){switch(Q.length){case 0:return H.call(re);case 1:return H.call(re,Q[0]);case 2:return H.call(re,Q[0],Q[1]);case 3:return H.call(re,Q[0],Q[1],Q[2])}return H.apply(re,Q)}function tm(H,re,Q,Pe){for(var et=-1,At=H==null?0:H.length;++et<At;){var on=H[et];re(Pe,on,Q(on),H)}return Pe}function ar(H,re){for(var Q=-1,Pe=H==null?0:H.length;++Q<Pe&&re(H[Q],Q,H)!==!1;);return H}function nm(H,re){for(var Q=H==null?0:H.length;Q--&&re(H[Q],Q,H)!==!1;);return H}function Wf(H,re){for(var Q=-1,Pe=H==null?0:H.length;++Q<Pe;)if(!re(H[Q],Q,H))return!1;return!0}function li(H,re){for(var Q=-1,Pe=H==null?0:H.length,et=0,At=[];++Q<Pe;){var on=H[Q];re(on,Q,H)&&(At[et++]=on)}return At}function Ho(H,re){var Q=H==null?0:H.length;return!!Q&&ls(H,re,0)>-1}function Ll(H,re,Q){for(var Pe=-1,et=H==null?0:H.length;++Pe<et;)if(Q(re,H[Pe]))return!0;return!1}function Ht(H,re){for(var Q=-1,Pe=H==null?0:H.length,et=Array(Pe);++Q<Pe;)et[Q]=re(H[Q],Q,H);return et}function ui(H,re){for(var Q=-1,Pe=re.length,et=H.length;++Q<Pe;)H[et+Q]=re[Q];return H}function $l(H,re,Q,Pe){var et=-1,At=H==null?0:H.length;for(Pe&&At&&(Q=H[++et]);++et<At;)Q=re(Q,H[et],et,H);return Q}function rm(H,re,Q,Pe){var et=H==null?0:H.length;for(Pe&&et&&(Q=H[--et]);et--;)Q=re(Q,H[et],et,H);return Q}function Fl(H,re){for(var Q=-1,Pe=H==null?0:H.length;++Q<Pe;)if(re(H[Q],Q,H))return!0;return!1}var im=Nl("length");function sm(H){return H.split("")}function om(H){return H.match(Bn)||[]}function qf(H,re,Q){var Pe;return Q(H,function(et,At,on){if(re(et,At,on))return Pe=At,!1}),Pe}function Vo(H,re,Q,Pe){for(var et=H.length,At=Q+(Pe?1:-1);Pe?At--:++At<et;)if(re(H[At],At,H))return At;return-1}function ls(H,re,Q){return re===re?vm(H,re,Q):Vo(H,Gf,Q)}function am(H,re,Q,Pe){for(var et=Q-1,At=H.length;++et<At;)if(Pe(H[et],re))return et;return-1}function Gf(H){return H!==H}function Jf(H,re){var Q=H==null?0:H.length;return Q?Bl(H,re)/Q:yt}function Nl(H){return function(re){return re==null?r:re[H]}}function Rl(H){return function(re){return H==null?r:H[re]}}function Yf(H,re,Q,Pe,et){return et(H,function(At,on,Nt){Q=Pe?(Pe=!1,At):re(Q,At,on,Nt)}),Q}function lm(H,re){var Q=H.length;for(H.sort(re);Q--;)H[Q]=H[Q].value;return H}function Bl(H,re){for(var Q,Pe=-1,et=H.length;++Pe<et;){var At=re(H[Pe]);At!==r&&(Q=Q===r?At:Q+At)}return Q}function Ml(H,re){for(var Q=-1,Pe=Array(H);++Q<H;)Pe[Q]=re(Q);return Pe}function um(H,re){return Ht(re,function(Q){return[Q,H[Q]]})}function zf(H){return H&&H.slice(0,eh(H)+1).replace(Ve,"")}function zn(H){return function(re){return H(re)}}function Ul(H,re){return Ht(re,function(Q){return H[Q]})}function Js(H,re){return H.has(re)}function Xf(H,re){for(var Q=-1,Pe=H.length;++Q<Pe&&ls(re,H[Q],0)>-1;);return Q}function Zf(H,re){for(var Q=H.length;Q--&&ls(re,H[Q],0)>-1;);return Q}function cm(H,re){for(var Q=H.length,Pe=0;Q--;)H[Q]===re&&++Pe;return Pe}var fm=Rl(Jy),hm=Rl(Yy);function dm(H){return"\\"+Xy[H]}function pm(H,re){return H==null?r:H[re]}function us(H){return Vy.test(H)}function gm(H){return Wy.test(H)}function ym(H){for(var re,Q=[];!(re=H.next()).done;)Q.push(re.value);return Q}function Kl(H){var re=-1,Q=Array(H.size);return H.forEach(function(Pe,et){Q[++re]=[et,Pe]}),Q}function Qf(H,re){return function(Q){return H(re(Q))}}function ci(H,re){for(var Q=-1,Pe=H.length,et=0,At=[];++Q<Pe;){var on=H[Q];(on===re||on===_)&&(H[Q]=_,At[et++]=Q)}return At}function Wo(H){var re=-1,Q=Array(H.size);return H.forEach(function(Pe){Q[++re]=Pe}),Q}function mm(H){var re=-1,Q=Array(H.size);return H.forEach(function(Pe){Q[++re]=[Pe,Pe]}),Q}function vm(H,re,Q){for(var Pe=Q-1,et=H.length;++Pe<et;)if(H[Pe]===re)return Pe;return-1}function _m(H,re,Q){for(var Pe=Q+1;Pe--;)if(H[Pe]===re)return Pe;return Pe}function cs(H){return us(H)?wm(H):im(H)}function vr(H){return us(H)?xm(H):sm(H)}function eh(H){for(var re=H.length;re--&&ht.test(H.charAt(re)););return re}var bm=Rl(zy);function wm(H){for(var re=kl.lastIndex=0;kl.test(H);)++re;return re}function xm(H){return H.match(kl)||[]}function Sm(H){return H.match(Hy)||[]}var Cm=function H(re){re=re==null?gn:fs.defaults(gn.Object(),re,fs.pick(gn,qy));var Q=re.Array,Pe=re.Date,et=re.Error,At=re.Function,on=re.Math,Nt=re.Object,jl=re.RegExp,Tm=re.String,lr=re.TypeError,qo=Q.prototype,Am=At.prototype,hs=Nt.prototype,Go=re["__core-js_shared__"],Jo=Am.toString,Pt=hs.hasOwnProperty,Dm=0,th=function(){var n=/[^.]+$/.exec(Go&&Go.keys&&Go.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Yo=hs.toString,Em=Jo.call(Nt),Om=gn._,km=jl("^"+Jo.call(Pt).replace(Ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zo=Bf?re.Buffer:r,fi=re.Symbol,Xo=re.Uint8Array,nh=zo?zo.allocUnsafe:r,Zo=Qf(Nt.getPrototypeOf,Nt),rh=Nt.create,ih=hs.propertyIsEnumerable,Qo=qo.splice,sh=fi?fi.isConcatSpreadable:r,Ys=fi?fi.iterator:r,Li=fi?fi.toStringTag:r,ea=function(){try{var n=Bi(Nt,"defineProperty");return n({},"",{}),n}catch{}}(),Pm=re.clearTimeout!==gn.clearTimeout&&re.clearTimeout,Im=Pe&&Pe.now!==gn.Date.now&&Pe.now,Lm=re.setTimeout!==gn.setTimeout&&re.setTimeout,ta=on.ceil,na=on.floor,Hl=Nt.getOwnPropertySymbols,$m=zo?zo.isBuffer:r,oh=re.isFinite,Fm=qo.join,Nm=Qf(Nt.keys,Nt),an=on.max,xn=on.min,Rm=Pe.now,Bm=re.parseInt,ah=on.random,Mm=qo.reverse,Vl=Bi(re,"DataView"),zs=Bi(re,"Map"),Wl=Bi(re,"Promise"),ds=Bi(re,"Set"),Xs=Bi(re,"WeakMap"),Zs=Bi(Nt,"create"),ra=Xs&&new Xs,ps={},Um=Mi(Vl),Km=Mi(zs),jm=Mi(Wl),Hm=Mi(ds),Vm=Mi(Xs),ia=fi?fi.prototype:r,Qs=ia?ia.valueOf:r,lh=ia?ia.toString:r;function x(n){if(Jt(n)&&!tt(n)&&!(n instanceof gt)){if(n instanceof ur)return n;if(Pt.call(n,"__wrapped__"))return ud(n)}return new ur(n)}var gs=function(){function n(){}return function(i){if(!qt(i))return{};if(rh)return rh(i);n.prototype=i;var a=new n;return n.prototype=r,a}}();function sa(){}function ur(n,i){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=r}x.templateSettings={escape:Lt,evaluate:$t,interpolate:Qe,variable:"",imports:{_:x}},x.prototype=sa.prototype,x.prototype.constructor=x,ur.prototype=gs(sa.prototype),ur.prototype.constructor=ur;function gt(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=mt,this.__views__=[]}function Wm(){var n=new gt(this.__wrapped__);return n.__actions__=Un(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Un(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Un(this.__views__),n}function qm(){if(this.__filtered__){var n=new gt(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Gm(){var n=this.__wrapped__.value(),i=this.__dir__,a=tt(n),c=i<0,y=a?n.length:0,C=s_(0,y,this.__views__),P=C.start,U=C.end,W=U-P,ue=c?U:P-1,ce=this.__iteratees__,fe=ce.length,Ce=0,Ne=xn(W,this.__takeCount__);if(!a||!c&&y==W&&Ne==W)return Ih(n,this.__actions__);var qe=[];e:for(;W--&&Ce<Ne;){ue+=i;for(var st=-1,Ge=n[ue];++st<fe;){var pt=ce[st],_t=pt.iteratee,Qn=pt.type,$n=_t(Ge);if(Qn==it)Ge=$n;else if(!$n){if(Qn==Ee)continue e;break e}}qe[Ce++]=Ge}return qe}gt.prototype=gs(sa.prototype),gt.prototype.constructor=gt;function $i(n){var i=-1,a=n==null?0:n.length;for(this.clear();++i<a;){var c=n[i];this.set(c[0],c[1])}}function Jm(){this.__data__=Zs?Zs(null):{},this.size=0}function Ym(n){var i=this.has(n)&&delete this.__data__[n];return this.size-=i?1:0,i}function zm(n){var i=this.__data__;if(Zs){var a=i[n];return a===p?r:a}return Pt.call(i,n)?i[n]:r}function Xm(n){var i=this.__data__;return Zs?i[n]!==r:Pt.call(i,n)}function Zm(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=Zs&&i===r?p:i,this}$i.prototype.clear=Jm,$i.prototype.delete=Ym,$i.prototype.get=zm,$i.prototype.has=Xm,$i.prototype.set=Zm;function Mr(n){var i=-1,a=n==null?0:n.length;for(this.clear();++i<a;){var c=n[i];this.set(c[0],c[1])}}function Qm(){this.__data__=[],this.size=0}function ev(n){var i=this.__data__,a=oa(i,n);if(a<0)return!1;var c=i.length-1;return a==c?i.pop():Qo.call(i,a,1),--this.size,!0}function tv(n){var i=this.__data__,a=oa(i,n);return a<0?r:i[a][1]}function nv(n){return oa(this.__data__,n)>-1}function rv(n,i){var a=this.__data__,c=oa(a,n);return c<0?(++this.size,a.push([n,i])):a[c][1]=i,this}Mr.prototype.clear=Qm,Mr.prototype.delete=ev,Mr.prototype.get=tv,Mr.prototype.has=nv,Mr.prototype.set=rv;function Ur(n){var i=-1,a=n==null?0:n.length;for(this.clear();++i<a;){var c=n[i];this.set(c[0],c[1])}}function iv(){this.size=0,this.__data__={hash:new $i,map:new(zs||Mr),string:new $i}}function sv(n){var i=va(this,n).delete(n);return this.size-=i?1:0,i}function ov(n){return va(this,n).get(n)}function av(n){return va(this,n).has(n)}function lv(n,i){var a=va(this,n),c=a.size;return a.set(n,i),this.size+=a.size==c?0:1,this}Ur.prototype.clear=iv,Ur.prototype.delete=sv,Ur.prototype.get=ov,Ur.prototype.has=av,Ur.prototype.set=lv;function Fi(n){var i=-1,a=n==null?0:n.length;for(this.__data__=new Ur;++i<a;)this.add(n[i])}function uv(n){return this.__data__.set(n,p),this}function cv(n){return this.__data__.has(n)}Fi.prototype.add=Fi.prototype.push=uv,Fi.prototype.has=cv;function _r(n){var i=this.__data__=new Mr(n);this.size=i.size}function fv(){this.__data__=new Mr,this.size=0}function hv(n){var i=this.__data__,a=i.delete(n);return this.size=i.size,a}function dv(n){return this.__data__.get(n)}function pv(n){return this.__data__.has(n)}function gv(n,i){var a=this.__data__;if(a instanceof Mr){var c=a.__data__;if(!zs||c.length<o-1)return c.push([n,i]),this.size=++a.size,this;a=this.__data__=new Ur(c)}return a.set(n,i),this.size=a.size,this}_r.prototype.clear=fv,_r.prototype.delete=hv,_r.prototype.get=dv,_r.prototype.has=pv,_r.prototype.set=gv;function uh(n,i){var a=tt(n),c=!a&&Ui(n),y=!a&&!c&&yi(n),C=!a&&!c&&!y&&_s(n),P=a||c||y||C,U=P?Ml(n.length,Tm):[],W=U.length;for(var ue in n)(i||Pt.call(n,ue))&&!(P&&(ue=="length"||y&&(ue=="offset"||ue=="parent")||C&&(ue=="buffer"||ue=="byteLength"||ue=="byteOffset")||Vr(ue,W)))&&U.push(ue);return U}function ch(n){var i=n.length;return i?n[nu(0,i-1)]:r}function yv(n,i){return _a(Un(n),Ni(i,0,n.length))}function mv(n){return _a(Un(n))}function ql(n,i,a){(a!==r&&!br(n[i],a)||a===r&&!(i in n))&&Kr(n,i,a)}function eo(n,i,a){var c=n[i];(!(Pt.call(n,i)&&br(c,a))||a===r&&!(i in n))&&Kr(n,i,a)}function oa(n,i){for(var a=n.length;a--;)if(br(n[a][0],i))return a;return-1}function vv(n,i,a,c){return hi(n,function(y,C,P){i(c,y,a(y),P)}),c}function fh(n,i){return n&&Ir(i,un(i),n)}function _v(n,i){return n&&Ir(i,jn(i),n)}function Kr(n,i,a){i=="__proto__"&&ea?ea(n,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[i]=a}function Gl(n,i){for(var a=-1,c=i.length,y=Q(c),C=n==null;++a<c;)y[a]=C?r:Du(n,i[a]);return y}function Ni(n,i,a){return n===n&&(a!==r&&(n=n<=a?n:a),i!==r&&(n=n>=i?n:i)),n}function cr(n,i,a,c,y,C){var P,U=i&w,W=i&O,ue=i&R;if(a&&(P=y?a(n,c,y,C):a(n)),P!==r)return P;if(!qt(n))return n;var ce=tt(n);if(ce){if(P=a_(n),!U)return Un(n,P)}else{var fe=Sn(n),Ce=fe==f||fe==g;if(yi(n))return Fh(n,U);if(fe==A||fe==Te||Ce&&!y){if(P=W||Ce?{}:ed(n),!U)return W?zv(n,_v(P,n)):Yv(n,fh(P,n))}else{if(!Bt[fe])return y?n:{};P=l_(n,fe,U)}}C||(C=new _r);var Ne=C.get(n);if(Ne)return Ne;C.set(n,P),Od(n)?n.forEach(function(Ge){P.add(cr(Ge,i,a,Ge,n,C))}):Dd(n)&&n.forEach(function(Ge,pt){P.set(pt,cr(Ge,i,a,pt,n,C))});var qe=ue?W?du:hu:W?jn:un,st=ce?r:qe(n);return ar(st||n,function(Ge,pt){st&&(pt=Ge,Ge=n[pt]),eo(P,pt,cr(Ge,i,a,pt,n,C))}),P}function bv(n){var i=un(n);return function(a){return hh(a,n,i)}}function hh(n,i,a){var c=a.length;if(n==null)return!c;for(n=Nt(n);c--;){var y=a[c],C=i[y],P=n[y];if(P===r&&!(y in n)||!C(P))return!1}return!0}function dh(n,i,a){if(typeof n!="function")throw new lr(u);return ao(function(){n.apply(r,a)},i)}function to(n,i,a,c){var y=-1,C=Ho,P=!0,U=n.length,W=[],ue=i.length;if(!U)return W;a&&(i=Ht(i,zn(a))),c?(C=Ll,P=!1):i.length>=o&&(C=Js,P=!1,i=new Fi(i));e:for(;++y<U;){var ce=n[y],fe=a==null?ce:a(ce);if(ce=c||ce!==0?ce:0,P&&fe===fe){for(var Ce=ue;Ce--;)if(i[Ce]===fe)continue e;W.push(ce)}else C(i,fe,c)||W.push(ce)}return W}var hi=Uh(Pr),ph=Uh(Yl,!0);function wv(n,i){var a=!0;return hi(n,function(c,y,C){return a=!!i(c,y,C),a}),a}function aa(n,i,a){for(var c=-1,y=n.length;++c<y;){var C=n[c],P=i(C);if(P!=null&&(U===r?P===P&&!Zn(P):a(P,U)))var U=P,W=C}return W}function xv(n,i,a,c){var y=n.length;for(a=nt(a),a<0&&(a=-a>y?0:y+a),c=c===r||c>y?y:nt(c),c<0&&(c+=y),c=a>c?0:Pd(c);a<c;)n[a++]=i;return n}function gh(n,i){var a=[];return hi(n,function(c,y,C){i(c,y,C)&&a.push(c)}),a}function yn(n,i,a,c,y){var C=-1,P=n.length;for(a||(a=c_),y||(y=[]);++C<P;){var U=n[C];i>0&&a(U)?i>1?yn(U,i-1,a,c,y):ui(y,U):c||(y[y.length]=U)}return y}var Jl=Kh(),yh=Kh(!0);function Pr(n,i){return n&&Jl(n,i,un)}function Yl(n,i){return n&&yh(n,i,un)}function la(n,i){return li(i,function(a){return Wr(n[a])})}function Ri(n,i){i=pi(i,n);for(var a=0,c=i.length;n!=null&&a<c;)n=n[Lr(i[a++])];return a&&a==c?n:r}function mh(n,i,a){var c=i(n);return tt(n)?c:ui(c,a(n))}function In(n){return n==null?n===r?he:T:Li&&Li in Nt(n)?i_(n):m_(n)}function zl(n,i){return n>i}function Sv(n,i){return n!=null&&Pt.call(n,i)}function Cv(n,i){return n!=null&&i in Nt(n)}function Tv(n,i,a){return n>=xn(i,a)&&n<an(i,a)}function Xl(n,i,a){for(var c=a?Ll:Ho,y=n[0].length,C=n.length,P=C,U=Q(C),W=1/0,ue=[];P--;){var ce=n[P];P&&i&&(ce=Ht(ce,zn(i))),W=xn(ce.length,W),U[P]=!a&&(i||y>=120&&ce.length>=120)?new Fi(P&&ce):r}ce=n[0];var fe=-1,Ce=U[0];e:for(;++fe<y&&ue.length<W;){var Ne=ce[fe],qe=i?i(Ne):Ne;if(Ne=a||Ne!==0?Ne:0,!(Ce?Js(Ce,qe):c(ue,qe,a))){for(P=C;--P;){var st=U[P];if(!(st?Js(st,qe):c(n[P],qe,a)))continue e}Ce&&Ce.push(qe),ue.push(Ne)}}return ue}function Av(n,i,a,c){return Pr(n,function(y,C,P){i(c,a(y),C,P)}),c}function no(n,i,a){i=pi(i,n),n=id(n,i);var c=n==null?n:n[Lr(hr(i))];return c==null?r:Yn(c,n,a)}function vh(n){return Jt(n)&&In(n)==Te}function Dv(n){return Jt(n)&&In(n)==ke}function Ev(n){return Jt(n)&&In(n)==oe}function ro(n,i,a,c,y){return n===i?!0:n==null||i==null||!Jt(n)&&!Jt(i)?n!==n&&i!==i:Ov(n,i,a,c,ro,y)}function Ov(n,i,a,c,y,C){var P=tt(n),U=tt(i),W=P?ot:Sn(n),ue=U?ot:Sn(i);W=W==Te?A:W,ue=ue==Te?A:ue;var ce=W==A,fe=ue==A,Ce=W==ue;if(Ce&&yi(n)){if(!yi(i))return!1;P=!0,ce=!1}if(Ce&&!ce)return C||(C=new _r),P||_s(n)?Xh(n,i,a,c,y,C):n_(n,i,W,a,c,y,C);if(!(a&L)){var Ne=ce&&Pt.call(n,"__wrapped__"),qe=fe&&Pt.call(i,"__wrapped__");if(Ne||qe){var st=Ne?n.value():n,Ge=qe?i.value():i;return C||(C=new _r),y(st,Ge,a,c,C)}}return Ce?(C||(C=new _r),r_(n,i,a,c,y,C)):!1}function kv(n){return Jt(n)&&Sn(n)==v}function Zl(n,i,a,c){var y=a.length,C=y,P=!c;if(n==null)return!C;for(n=Nt(n);y--;){var U=a[y];if(P&&U[2]?U[1]!==n[U[0]]:!(U[0]in n))return!1}for(;++y<C;){U=a[y];var W=U[0],ue=n[W],ce=U[1];if(P&&U[2]){if(ue===r&&!(W in n))return!1}else{var fe=new _r;if(c)var Ce=c(ue,ce,W,n,i,fe);if(!(Ce===r?ro(ce,ue,L|F,c,fe):Ce))return!1}}return!0}function _h(n){if(!qt(n)||h_(n))return!1;var i=Wr(n)?km:Jn;return i.test(Mi(n))}function Pv(n){return Jt(n)&&In(n)==Y}function Iv(n){return Jt(n)&&Sn(n)==q}function Lv(n){return Jt(n)&&Ta(n.length)&&!!Mt[In(n)]}function bh(n){return typeof n=="function"?n:n==null?Hn:typeof n=="object"?tt(n)?Sh(n[0],n[1]):xh(n):jd(n)}function Ql(n){if(!oo(n))return Nm(n);var i=[];for(var a in Nt(n))Pt.call(n,a)&&a!="constructor"&&i.push(a);return i}function $v(n){if(!qt(n))return y_(n);var i=oo(n),a=[];for(var c in n)c=="constructor"&&(i||!Pt.call(n,c))||a.push(c);return a}function eu(n,i){return n<i}function wh(n,i){var a=-1,c=Kn(n)?Q(n.length):[];return hi(n,function(y,C,P){c[++a]=i(y,C,P)}),c}function xh(n){var i=gu(n);return i.length==1&&i[0][2]?nd(i[0][0],i[0][1]):function(a){return a===n||Zl(a,n,i)}}function Sh(n,i){return mu(n)&&td(i)?nd(Lr(n),i):function(a){var c=Du(a,n);return c===r&&c===i?Eu(a,n):ro(i,c,L|F)}}function ua(n,i,a,c,y){n!==i&&Jl(i,function(C,P){if(y||(y=new _r),qt(C))Fv(n,i,P,a,ua,c,y);else{var U=c?c(_u(n,P),C,P+"",n,i,y):r;U===r&&(U=C),ql(n,P,U)}},jn)}function Fv(n,i,a,c,y,C,P){var U=_u(n,a),W=_u(i,a),ue=P.get(W);if(ue){ql(n,a,ue);return}var ce=C?C(U,W,a+"",n,i,P):r,fe=ce===r;if(fe){var Ce=tt(W),Ne=!Ce&&yi(W),qe=!Ce&&!Ne&&_s(W);ce=W,Ce||Ne||qe?tt(U)?ce=U:zt(U)?ce=Un(U):Ne?(fe=!1,ce=Fh(W,!0)):qe?(fe=!1,ce=Nh(W,!0)):ce=[]:lo(W)||Ui(W)?(ce=U,Ui(U)?ce=Id(U):(!qt(U)||Wr(U))&&(ce=ed(W))):fe=!1}fe&&(P.set(W,ce),y(ce,W,c,C,P),P.delete(W)),ql(n,a,ce)}function Ch(n,i){var a=n.length;if(a)return i+=i<0?a:0,Vr(i,a)?n[i]:r}function Th(n,i,a){i.length?i=Ht(i,function(C){return tt(C)?function(P){return Ri(P,C.length===1?C[0]:C)}:C}):i=[Hn];var c=-1;i=Ht(i,zn(We()));var y=wh(n,function(C,P,U){var W=Ht(i,function(ue){return ue(C)});return{criteria:W,index:++c,value:C}});return lm(y,function(C,P){return Jv(C,P,a)})}function Nv(n,i){return Ah(n,i,function(a,c){return Eu(n,c)})}function Ah(n,i,a){for(var c=-1,y=i.length,C={};++c<y;){var P=i[c],U=Ri(n,P);a(U,P)&&io(C,pi(P,n),U)}return C}function Rv(n){return function(i){return Ri(i,n)}}function tu(n,i,a,c){var y=c?am:ls,C=-1,P=i.length,U=n;for(n===i&&(i=Un(i)),a&&(U=Ht(n,zn(a)));++C<P;)for(var W=0,ue=i[C],ce=a?a(ue):ue;(W=y(U,ce,W,c))>-1;)U!==n&&Qo.call(U,W,1),Qo.call(n,W,1);return n}function Dh(n,i){for(var a=n?i.length:0,c=a-1;a--;){var y=i[a];if(a==c||y!==C){var C=y;Vr(y)?Qo.call(n,y,1):su(n,y)}}return n}function nu(n,i){return n+na(ah()*(i-n+1))}function Bv(n,i,a,c){for(var y=-1,C=an(ta((i-n)/(a||1)),0),P=Q(C);C--;)P[c?C:++y]=n,n+=a;return P}function ru(n,i){var a="";if(!n||i<1||i>Se)return a;do i%2&&(a+=n),i=na(i/2),i&&(n+=n);while(i);return a}function ut(n,i){return bu(rd(n,i,Hn),n+"")}function Mv(n){return ch(bs(n))}function Uv(n,i){var a=bs(n);return _a(a,Ni(i,0,a.length))}function io(n,i,a,c){if(!qt(n))return n;i=pi(i,n);for(var y=-1,C=i.length,P=C-1,U=n;U!=null&&++y<C;){var W=Lr(i[y]),ue=a;if(W==="__proto__"||W==="constructor"||W==="prototype")return n;if(y!=P){var ce=U[W];ue=c?c(ce,W,U):r,ue===r&&(ue=qt(ce)?ce:Vr(i[y+1])?[]:{})}eo(U,W,ue),U=U[W]}return n}var Eh=ra?function(n,i){return ra.set(n,i),n}:Hn,Kv=ea?function(n,i){return ea(n,"toString",{configurable:!0,enumerable:!1,value:ku(i),writable:!0})}:Hn;function jv(n){return _a(bs(n))}function fr(n,i,a){var c=-1,y=n.length;i<0&&(i=-i>y?0:y+i),a=a>y?y:a,a<0&&(a+=y),y=i>a?0:a-i>>>0,i>>>=0;for(var C=Q(y);++c<y;)C[c]=n[c+i];return C}function Hv(n,i){var a;return hi(n,function(c,y,C){return a=i(c,y,C),!a}),!!a}function ca(n,i,a){var c=0,y=n==null?c:n.length;if(typeof i=="number"&&i===i&&y<=kn){for(;c<y;){var C=c+y>>>1,P=n[C];P!==null&&!Zn(P)&&(a?P<=i:P<i)?c=C+1:y=C}return y}return iu(n,i,Hn,a)}function iu(n,i,a,c){var y=0,C=n==null?0:n.length;if(C===0)return 0;i=a(i);for(var P=i!==i,U=i===null,W=Zn(i),ue=i===r;y<C;){var ce=na((y+C)/2),fe=a(n[ce]),Ce=fe!==r,Ne=fe===null,qe=fe===fe,st=Zn(fe);if(P)var Ge=c||qe;else ue?Ge=qe&&(c||Ce):U?Ge=qe&&Ce&&(c||!Ne):W?Ge=qe&&Ce&&!Ne&&(c||!st):Ne||st?Ge=!1:Ge=c?fe<=i:fe<i;Ge?y=ce+1:C=ce}return xn(C,xt)}function Oh(n,i){for(var a=-1,c=n.length,y=0,C=[];++a<c;){var P=n[a],U=i?i(P):P;if(!a||!br(U,W)){var W=U;C[y++]=P===0?0:P}}return C}function kh(n){return typeof n=="number"?n:Zn(n)?yt:+n}function Xn(n){if(typeof n=="string")return n;if(tt(n))return Ht(n,Xn)+"";if(Zn(n))return lh?lh.call(n):"";var i=n+"";return i=="0"&&1/n==-De?"-0":i}function di(n,i,a){var c=-1,y=Ho,C=n.length,P=!0,U=[],W=U;if(a)P=!1,y=Ll;else if(C>=o){var ue=i?null:e_(n);if(ue)return Wo(ue);P=!1,y=Js,W=new Fi}else W=i?[]:U;e:for(;++c<C;){var ce=n[c],fe=i?i(ce):ce;if(ce=a||ce!==0?ce:0,P&&fe===fe){for(var Ce=W.length;Ce--;)if(W[Ce]===fe)continue e;i&&W.push(fe),U.push(ce)}else y(W,fe,a)||(W!==U&&W.push(fe),U.push(ce))}return U}function su(n,i){return i=pi(i,n),n=id(n,i),n==null||delete n[Lr(hr(i))]}function Ph(n,i,a,c){return io(n,i,a(Ri(n,i)),c)}function fa(n,i,a,c){for(var y=n.length,C=c?y:-1;(c?C--:++C<y)&&i(n[C],C,n););return a?fr(n,c?0:C,c?C+1:y):fr(n,c?C+1:0,c?y:C)}function Ih(n,i){var a=n;return a instanceof gt&&(a=a.value()),$l(i,function(c,y){return y.func.apply(y.thisArg,ui([c],y.args))},a)}function ou(n,i,a){var c=n.length;if(c<2)return c?di(n[0]):[];for(var y=-1,C=Q(c);++y<c;)for(var P=n[y],U=-1;++U<c;)U!=y&&(C[y]=to(C[y]||P,n[U],i,a));return di(yn(C,1),i,a)}function Lh(n,i,a){for(var c=-1,y=n.length,C=i.length,P={};++c<y;){var U=c<C?i[c]:r;a(P,n[c],U)}return P}function au(n){return zt(n)?n:[]}function lu(n){return typeof n=="function"?n:Hn}function pi(n,i){return tt(n)?n:mu(n,i)?[n]:ld(kt(n))}var Vv=ut;function gi(n,i,a){var c=n.length;return a=a===r?c:a,!i&&a>=c?n:fr(n,i,a)}var $h=Pm||function(n){return gn.clearTimeout(n)};function Fh(n,i){if(i)return n.slice();var a=n.length,c=nh?nh(a):new n.constructor(a);return n.copy(c),c}function uu(n){var i=new n.constructor(n.byteLength);return new Xo(i).set(new Xo(n)),i}function Wv(n,i){var a=i?uu(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}function qv(n){var i=new n.constructor(n.source,wn.exec(n));return i.lastIndex=n.lastIndex,i}function Gv(n){return Qs?Nt(Qs.call(n)):{}}function Nh(n,i){var a=i?uu(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}function Rh(n,i){if(n!==i){var a=n!==r,c=n===null,y=n===n,C=Zn(n),P=i!==r,U=i===null,W=i===i,ue=Zn(i);if(!U&&!ue&&!C&&n>i||C&&P&&W&&!U&&!ue||c&&P&&W||!a&&W||!y)return 1;if(!c&&!C&&!ue&&n<i||ue&&a&&y&&!c&&!C||U&&a&&y||!P&&y||!W)return-1}return 0}function Jv(n,i,a){for(var c=-1,y=n.criteria,C=i.criteria,P=y.length,U=a.length;++c<P;){var W=Rh(y[c],C[c]);if(W){if(c>=U)return W;var ue=a[c];return W*(ue=="desc"?-1:1)}}return n.index-i.index}function Bh(n,i,a,c){for(var y=-1,C=n.length,P=a.length,U=-1,W=i.length,ue=an(C-P,0),ce=Q(W+ue),fe=!c;++U<W;)ce[U]=i[U];for(;++y<P;)(fe||y<C)&&(ce[a[y]]=n[y]);for(;ue--;)ce[U++]=n[y++];return ce}function Mh(n,i,a,c){for(var y=-1,C=n.length,P=-1,U=a.length,W=-1,ue=i.length,ce=an(C-U,0),fe=Q(ce+ue),Ce=!c;++y<ce;)fe[y]=n[y];for(var Ne=y;++W<ue;)fe[Ne+W]=i[W];for(;++P<U;)(Ce||y<C)&&(fe[Ne+a[P]]=n[y++]);return fe}function Un(n,i){var a=-1,c=n.length;for(i||(i=Q(c));++a<c;)i[a]=n[a];return i}function Ir(n,i,a,c){var y=!a;a||(a={});for(var C=-1,P=i.length;++C<P;){var U=i[C],W=c?c(a[U],n[U],U,a,n):r;W===r&&(W=n[U]),y?Kr(a,U,W):eo(a,U,W)}return a}function Yv(n,i){return Ir(n,yu(n),i)}function zv(n,i){return Ir(n,Zh(n),i)}function ha(n,i){return function(a,c){var y=tt(a)?tm:vv,C=i?i():{};return y(a,n,We(c,2),C)}}function ys(n){return ut(function(i,a){var c=-1,y=a.length,C=y>1?a[y-1]:r,P=y>2?a[2]:r;for(C=n.length>3&&typeof C=="function"?(y--,C):r,P&&Ln(a[0],a[1],P)&&(C=y<3?r:C,y=1),i=Nt(i);++c<y;){var U=a[c];U&&n(i,U,c,C)}return i})}function Uh(n,i){return function(a,c){if(a==null)return a;if(!Kn(a))return n(a,c);for(var y=a.length,C=i?y:-1,P=Nt(a);(i?C--:++C<y)&&c(P[C],C,P)!==!1;);return a}}function Kh(n){return function(i,a,c){for(var y=-1,C=Nt(i),P=c(i),U=P.length;U--;){var W=P[n?U:++y];if(a(C[W],W,C)===!1)break}return i}}function Xv(n,i,a){var c=i&J,y=so(n);function C(){var P=this&&this!==gn&&this instanceof C?y:n;return P.apply(c?a:this,arguments)}return C}function jh(n){return function(i){i=kt(i);var a=us(i)?vr(i):r,c=a?a[0]:i.charAt(0),y=a?gi(a,1).join(""):i.slice(1);return c[n]()+y}}function ms(n){return function(i){return $l(Ud(Md(i).replace(Ky,"")),n,"")}}function so(n){return function(){var i=arguments;switch(i.length){case 0:return new n;case 1:return new n(i[0]);case 2:return new n(i[0],i[1]);case 3:return new n(i[0],i[1],i[2]);case 4:return new n(i[0],i[1],i[2],i[3]);case 5:return new n(i[0],i[1],i[2],i[3],i[4]);case 6:return new n(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new n(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var a=gs(n.prototype),c=n.apply(a,i);return qt(c)?c:a}}function Zv(n,i,a){var c=so(n);function y(){for(var C=arguments.length,P=Q(C),U=C,W=vs(y);U--;)P[U]=arguments[U];var ue=C<3&&P[0]!==W&&P[C-1]!==W?[]:ci(P,W);if(C-=ue.length,C<a)return Gh(n,i,da,y.placeholder,r,P,ue,r,r,a-C);var ce=this&&this!==gn&&this instanceof y?c:n;return Yn(ce,this,P)}return y}function Hh(n){return function(i,a,c){var y=Nt(i);if(!Kn(i)){var C=We(a,3);i=un(i),a=function(U){return C(y[U],U,y)}}var P=n(i,a,c);return P>-1?y[C?i[P]:P]:r}}function Vh(n){return Hr(function(i){var a=i.length,c=a,y=ur.prototype.thru;for(n&&i.reverse();c--;){var C=i[c];if(typeof C!="function")throw new lr(u);if(y&&!P&&ma(C)=="wrapper")var P=new ur([],!0)}for(c=P?c:a;++c<a;){C=i[c];var U=ma(C),W=U=="wrapper"?pu(C):r;W&&vu(W[0])&&W[1]==(ne|M|Z|ve)&&!W[4].length&&W[9]==1?P=P[ma(W[0])].apply(P,W[3]):P=C.length==1&&vu(C)?P[U]():P.thru(C)}return function(){var ue=arguments,ce=ue[0];if(P&&ue.length==1&&tt(ce))return P.plant(ce).value();for(var fe=0,Ce=a?i[fe].apply(this,ue):ce;++fe<a;)Ce=i[fe].call(this,Ce);return Ce}})}function da(n,i,a,c,y,C,P,U,W,ue){var ce=i&ne,fe=i&J,Ce=i&z,Ne=i&(M|j),qe=i&k,st=Ce?r:so(n);function Ge(){for(var pt=arguments.length,_t=Q(pt),Qn=pt;Qn--;)_t[Qn]=arguments[Qn];if(Ne)var $n=vs(Ge),er=cm(_t,$n);if(c&&(_t=Bh(_t,c,y,Ne)),C&&(_t=Mh(_t,C,P,Ne)),pt-=er,Ne&&pt<ue){var Xt=ci(_t,$n);return Gh(n,i,da,Ge.placeholder,a,_t,Xt,U,W,ue-pt)}var wr=fe?a:this,Gr=Ce?wr[n]:n;return pt=_t.length,U?_t=v_(_t,U):qe&&pt>1&&_t.reverse(),ce&&W<pt&&(_t.length=W),this&&this!==gn&&this instanceof Ge&&(Gr=st||so(Gr)),Gr.apply(wr,_t)}return Ge}function Wh(n,i){return function(a,c){return Av(a,n,i(c),{})}}function pa(n,i){return function(a,c){var y;if(a===r&&c===r)return i;if(a!==r&&(y=a),c!==r){if(y===r)return c;typeof a=="string"||typeof c=="string"?(a=Xn(a),c=Xn(c)):(a=kh(a),c=kh(c)),y=n(a,c)}return y}}function cu(n){return Hr(function(i){return i=Ht(i,zn(We())),ut(function(a){var c=this;return n(i,function(y){return Yn(y,c,a)})})})}function ga(n,i){i=i===r?" ":Xn(i);var a=i.length;if(a<2)return a?ru(i,n):i;var c=ru(i,ta(n/cs(i)));return us(i)?gi(vr(c),0,n).join(""):c.slice(0,n)}function Qv(n,i,a,c){var y=i&J,C=so(n);function P(){for(var U=-1,W=arguments.length,ue=-1,ce=c.length,fe=Q(ce+W),Ce=this&&this!==gn&&this instanceof P?C:n;++ue<ce;)fe[ue]=c[ue];for(;W--;)fe[ue++]=arguments[++U];return Yn(Ce,y?a:this,fe)}return P}function qh(n){return function(i,a,c){return c&&typeof c!="number"&&Ln(i,a,c)&&(a=c=r),i=qr(i),a===r?(a=i,i=0):a=qr(a),c=c===r?i<a?1:-1:qr(c),Bv(i,a,c,n)}}function ya(n){return function(i,a){return typeof i=="string"&&typeof a=="string"||(i=dr(i),a=dr(a)),n(i,a)}}function Gh(n,i,a,c,y,C,P,U,W,ue){var ce=i&M,fe=ce?P:r,Ce=ce?r:P,Ne=ce?C:r,qe=ce?r:C;i|=ce?Z:se,i&=~(ce?se:Z),i&B||(i&=~(J|z));var st=[n,i,y,Ne,fe,qe,Ce,U,W,ue],Ge=a.apply(r,st);return vu(n)&&sd(Ge,st),Ge.placeholder=c,od(Ge,n,i)}function fu(n){var i=on[n];return function(a,c){if(a=dr(a),c=c==null?0:xn(nt(c),292),c&&oh(a)){var y=(kt(a)+"e").split("e"),C=i(y[0]+"e"+(+y[1]+c));return y=(kt(C)+"e").split("e"),+(y[0]+"e"+(+y[1]-c))}return i(a)}}var e_=ds&&1/Wo(new ds([,-0]))[1]==De?function(n){return new ds(n)}:Lu;function Jh(n){return function(i){var a=Sn(i);return a==v?Kl(i):a==q?mm(i):um(i,n(i))}}function jr(n,i,a,c,y,C,P,U){var W=i&z;if(!W&&typeof n!="function")throw new lr(u);var ue=c?c.length:0;if(ue||(i&=~(Z|se),c=y=r),P=P===r?P:an(nt(P),0),U=U===r?U:nt(U),ue-=y?y.length:0,i&se){var ce=c,fe=y;c=y=r}var Ce=W?r:pu(n),Ne=[n,i,a,c,y,ce,fe,C,P,U];if(Ce&&g_(Ne,Ce),n=Ne[0],i=Ne[1],a=Ne[2],c=Ne[3],y=Ne[4],U=Ne[9]=Ne[9]===r?W?0:n.length:an(Ne[9]-ue,0),!U&&i&(M|j)&&(i&=~(M|j)),!i||i==J)var qe=Xv(n,i,a);else i==M||i==j?qe=Zv(n,i,U):(i==Z||i==(J|Z))&&!y.length?qe=Qv(n,i,a,c):qe=da.apply(r,Ne);var st=Ce?Eh:sd;return od(st(qe,Ne),n,i)}function Yh(n,i,a,c){return n===r||br(n,hs[a])&&!Pt.call(c,a)?i:n}function zh(n,i,a,c,y,C){return qt(n)&&qt(i)&&(C.set(i,n),ua(n,i,r,zh,C),C.delete(i)),n}function t_(n){return lo(n)?r:n}function Xh(n,i,a,c,y,C){var P=a&L,U=n.length,W=i.length;if(U!=W&&!(P&&W>U))return!1;var ue=C.get(n),ce=C.get(i);if(ue&&ce)return ue==i&&ce==n;var fe=-1,Ce=!0,Ne=a&F?new Fi:r;for(C.set(n,i),C.set(i,n);++fe<U;){var qe=n[fe],st=i[fe];if(c)var Ge=P?c(st,qe,fe,i,n,C):c(qe,st,fe,n,i,C);if(Ge!==r){if(Ge)continue;Ce=!1;break}if(Ne){if(!Fl(i,function(pt,_t){if(!Js(Ne,_t)&&(qe===pt||y(qe,pt,a,c,C)))return Ne.push(_t)})){Ce=!1;break}}else if(!(qe===st||y(qe,st,a,c,C))){Ce=!1;break}}return C.delete(n),C.delete(i),Ce}function n_(n,i,a,c,y,C,P){switch(a){case Le:if(n.byteLength!=i.byteLength||n.byteOffset!=i.byteOffset)return!1;n=n.buffer,i=i.buffer;case ke:return!(n.byteLength!=i.byteLength||!C(new Xo(n),new Xo(i)));case le:case oe:case b:return br(+n,+i);case $:return n.name==i.name&&n.message==i.message;case Y:case ae:return n==i+"";case v:var U=Kl;case q:var W=c&L;if(U||(U=Wo),n.size!=i.size&&!W)return!1;var ue=P.get(n);if(ue)return ue==i;c|=F,P.set(n,i);var ce=Xh(U(n),U(i),c,y,C,P);return P.delete(n),ce;case ie:if(Qs)return Qs.call(n)==Qs.call(i)}return!1}function r_(n,i,a,c,y,C){var P=a&L,U=hu(n),W=U.length,ue=hu(i),ce=ue.length;if(W!=ce&&!P)return!1;for(var fe=W;fe--;){var Ce=U[fe];if(!(P?Ce in i:Pt.call(i,Ce)))return!1}var Ne=C.get(n),qe=C.get(i);if(Ne&&qe)return Ne==i&&qe==n;var st=!0;C.set(n,i),C.set(i,n);for(var Ge=P;++fe<W;){Ce=U[fe];var pt=n[Ce],_t=i[Ce];if(c)var Qn=P?c(_t,pt,Ce,i,n,C):c(pt,_t,Ce,n,i,C);if(!(Qn===r?pt===_t||y(pt,_t,a,c,C):Qn)){st=!1;break}Ge||(Ge=Ce=="constructor")}if(st&&!Ge){var $n=n.constructor,er=i.constructor;$n!=er&&"constructor"in n&&"constructor"in i&&!(typeof $n=="function"&&$n instanceof $n&&typeof er=="function"&&er instanceof er)&&(st=!1)}return C.delete(n),C.delete(i),st}function Hr(n){return bu(rd(n,r,hd),n+"")}function hu(n){return mh(n,un,yu)}function du(n){return mh(n,jn,Zh)}var pu=ra?function(n){return ra.get(n)}:Lu;function ma(n){for(var i=n.name+"",a=ps[i],c=Pt.call(ps,i)?a.length:0;c--;){var y=a[c],C=y.func;if(C==null||C==n)return y.name}return i}function vs(n){var i=Pt.call(x,"placeholder")?x:n;return i.placeholder}function We(){var n=x.iteratee||Pu;return n=n===Pu?bh:n,arguments.length?n(arguments[0],arguments[1]):n}function va(n,i){var a=n.__data__;return f_(i)?a[typeof i=="string"?"string":"hash"]:a.map}function gu(n){for(var i=un(n),a=i.length;a--;){var c=i[a],y=n[c];i[a]=[c,y,td(y)]}return i}function Bi(n,i){var a=pm(n,i);return _h(a)?a:r}function i_(n){var i=Pt.call(n,Li),a=n[Li];try{n[Li]=r;var c=!0}catch{}var y=Yo.call(n);return c&&(i?n[Li]=a:delete n[Li]),y}var yu=Hl?function(n){return n==null?[]:(n=Nt(n),li(Hl(n),function(i){return ih.call(n,i)}))}:$u,Zh=Hl?function(n){for(var i=[];n;)ui(i,yu(n)),n=Zo(n);return i}:$u,Sn=In;(Vl&&Sn(new Vl(new ArrayBuffer(1)))!=Le||zs&&Sn(new zs)!=v||Wl&&Sn(Wl.resolve())!=I||ds&&Sn(new ds)!=q||Xs&&Sn(new Xs)!=ge)&&(Sn=function(n){var i=In(n),a=i==A?n.constructor:r,c=a?Mi(a):"";if(c)switch(c){case Um:return Le;case Km:return v;case jm:return I;case Hm:return q;case Vm:return ge}return i});function s_(n,i,a){for(var c=-1,y=a.length;++c<y;){var C=a[c],P=C.size;switch(C.type){case"drop":n+=P;break;case"dropRight":i-=P;break;case"take":i=xn(i,n+P);break;case"takeRight":n=an(n,i-P);break}}return{start:n,end:i}}function o_(n){var i=n.match(Wt);return i?i[1].split(bn):[]}function Qh(n,i,a){i=pi(i,n);for(var c=-1,y=i.length,C=!1;++c<y;){var P=Lr(i[c]);if(!(C=n!=null&&a(n,P)))break;n=n[P]}return C||++c!=y?C:(y=n==null?0:n.length,!!y&&Ta(y)&&Vr(P,y)&&(tt(n)||Ui(n)))}function a_(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&Pt.call(n,"index")&&(a.index=n.index,a.input=n.input),a}function ed(n){return typeof n.constructor=="function"&&!oo(n)?gs(Zo(n)):{}}function l_(n,i,a){var c=n.constructor;switch(i){case ke:return uu(n);case le:case oe:return new c(+n);case Le:return Wv(n,a);case me:case S:case m:case D:case N:case V:case pe:case ye:case $e:return Nh(n,a);case v:return new c;case b:case ae:return new c(n);case Y:return qv(n);case q:return new c;case ie:return Gv(n)}}function u_(n,i){var a=i.length;if(!a)return n;var c=a-1;return i[c]=(a>1?"& ":"")+i[c],i=i.join(a>2?", ":" "),n.replace(Pn,`{
/* [wrapped with `+i+`] */
`)}function c_(n){return tt(n)||Ui(n)||!!(sh&&n&&n[sh])}function Vr(n,i){var a=typeof n;return i=i??Se,!!i&&(a=="number"||a!="symbol"&&ss.test(n))&&n>-1&&n%1==0&&n<i}function Ln(n,i,a){if(!qt(a))return!1;var c=typeof i;return(c=="number"?Kn(a)&&Vr(i,a.length):c=="string"&&i in a)?br(a[i],n):!1}function mu(n,i){if(tt(n))return!1;var a=typeof n;return a=="number"||a=="symbol"||a=="boolean"||n==null||Zn(n)?!0:Fe.test(n)||!sn.test(n)||i!=null&&n in Nt(i)}function f_(n){var i=typeof n;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?n!=="__proto__":n===null}function vu(n){var i=ma(n),a=x[i];if(typeof a!="function"||!(i in gt.prototype))return!1;if(n===a)return!0;var c=pu(a);return!!c&&n===c[0]}function h_(n){return!!th&&th in n}var d_=Go?Wr:Fu;function oo(n){var i=n&&n.constructor,a=typeof i=="function"&&i.prototype||hs;return n===a}function td(n){return n===n&&!qt(n)}function nd(n,i){return function(a){return a==null?!1:a[n]===i&&(i!==r||n in Nt(a))}}function p_(n){var i=Sa(n,function(c){return a.size===d&&a.clear(),c}),a=i.cache;return i}function g_(n,i){var a=n[1],c=i[1],y=a|c,C=y<(J|z|ne),P=c==ne&&a==M||c==ne&&a==ve&&n[7].length<=i[8]||c==(ne|ve)&&i[7].length<=i[8]&&a==M;if(!(C||P))return n;c&J&&(n[2]=i[2],y|=a&J?0:B);var U=i[3];if(U){var W=n[3];n[3]=W?Bh(W,U,i[4]):U,n[4]=W?ci(n[3],_):i[4]}return U=i[5],U&&(W=n[5],n[5]=W?Mh(W,U,i[6]):U,n[6]=W?ci(n[5],_):i[6]),U=i[7],U&&(n[7]=U),c&ne&&(n[8]=n[8]==null?i[8]:xn(n[8],i[8])),n[9]==null&&(n[9]=i[9]),n[0]=i[0],n[1]=y,n}function y_(n){var i=[];if(n!=null)for(var a in Nt(n))i.push(a);return i}function m_(n){return Yo.call(n)}function rd(n,i,a){return i=an(i===r?n.length-1:i,0),function(){for(var c=arguments,y=-1,C=an(c.length-i,0),P=Q(C);++y<C;)P[y]=c[i+y];y=-1;for(var U=Q(i+1);++y<i;)U[y]=c[y];return U[i]=a(P),Yn(n,this,U)}}function id(n,i){return i.length<2?n:Ri(n,fr(i,0,-1))}function v_(n,i){for(var a=n.length,c=xn(i.length,a),y=Un(n);c--;){var C=i[c];n[c]=Vr(C,a)?y[C]:r}return n}function _u(n,i){if(!(i==="constructor"&&typeof n[i]=="function")&&i!="__proto__")return n[i]}var sd=ad(Eh),ao=Lm||function(n,i){return gn.setTimeout(n,i)},bu=ad(Kv);function od(n,i,a){var c=i+"";return bu(n,u_(c,__(o_(c),a)))}function ad(n){var i=0,a=0;return function(){var c=Rm(),y=Me-(c-a);if(a=c,y>0){if(++i>=X)return arguments[0]}else i=0;return n.apply(r,arguments)}}function _a(n,i){var a=-1,c=n.length,y=c-1;for(i=i===r?c:i;++a<i;){var C=nu(a,y),P=n[C];n[C]=n[a],n[a]=P}return n.length=i,n}var ld=p_(function(n){var i=[];return n.charCodeAt(0)===46&&i.push(""),n.replace(we,function(a,c,y,C){i.push(y?C.replace(Mn,"$1"):c||a)}),i});function Lr(n){if(typeof n=="string"||Zn(n))return n;var i=n+"";return i=="0"&&1/n==-De?"-0":i}function Mi(n){if(n!=null){try{return Jo.call(n)}catch{}try{return n+""}catch{}}return""}function __(n,i){return ar(Re,function(a){var c="_."+a[0];i&a[1]&&!Ho(n,c)&&n.push(c)}),n.sort()}function ud(n){if(n instanceof gt)return n.clone();var i=new ur(n.__wrapped__,n.__chain__);return i.__actions__=Un(n.__actions__),i.__index__=n.__index__,i.__values__=n.__values__,i}function b_(n,i,a){(a?Ln(n,i,a):i===r)?i=1:i=an(nt(i),0);var c=n==null?0:n.length;if(!c||i<1)return[];for(var y=0,C=0,P=Q(ta(c/i));y<c;)P[C++]=fr(n,y,y+=i);return P}function w_(n){for(var i=-1,a=n==null?0:n.length,c=0,y=[];++i<a;){var C=n[i];C&&(y[c++]=C)}return y}function x_(){var n=arguments.length;if(!n)return[];for(var i=Q(n-1),a=arguments[0],c=n;c--;)i[c-1]=arguments[c];return ui(tt(a)?Un(a):[a],yn(i,1))}var S_=ut(function(n,i){return zt(n)?to(n,yn(i,1,zt,!0)):[]}),C_=ut(function(n,i){var a=hr(i);return zt(a)&&(a=r),zt(n)?to(n,yn(i,1,zt,!0),We(a,2)):[]}),T_=ut(function(n,i){var a=hr(i);return zt(a)&&(a=r),zt(n)?to(n,yn(i,1,zt,!0),r,a):[]});function A_(n,i,a){var c=n==null?0:n.length;return c?(i=a||i===r?1:nt(i),fr(n,i<0?0:i,c)):[]}function D_(n,i,a){var c=n==null?0:n.length;return c?(i=a||i===r?1:nt(i),i=c-i,fr(n,0,i<0?0:i)):[]}function E_(n,i){return n&&n.length?fa(n,We(i,3),!0,!0):[]}function O_(n,i){return n&&n.length?fa(n,We(i,3),!0):[]}function k_(n,i,a,c){var y=n==null?0:n.length;return y?(a&&typeof a!="number"&&Ln(n,i,a)&&(a=0,c=y),xv(n,i,a,c)):[]}function cd(n,i,a){var c=n==null?0:n.length;if(!c)return-1;var y=a==null?0:nt(a);return y<0&&(y=an(c+y,0)),Vo(n,We(i,3),y)}function fd(n,i,a){var c=n==null?0:n.length;if(!c)return-1;var y=c-1;return a!==r&&(y=nt(a),y=a<0?an(c+y,0):xn(y,c-1)),Vo(n,We(i,3),y,!0)}function hd(n){var i=n==null?0:n.length;return i?yn(n,1):[]}function P_(n){var i=n==null?0:n.length;return i?yn(n,De):[]}function I_(n,i){var a=n==null?0:n.length;return a?(i=i===r?1:nt(i),yn(n,i)):[]}function L_(n){for(var i=-1,a=n==null?0:n.length,c={};++i<a;){var y=n[i];c[y[0]]=y[1]}return c}function dd(n){return n&&n.length?n[0]:r}function $_(n,i,a){var c=n==null?0:n.length;if(!c)return-1;var y=a==null?0:nt(a);return y<0&&(y=an(c+y,0)),ls(n,i,y)}function F_(n){var i=n==null?0:n.length;return i?fr(n,0,-1):[]}var N_=ut(function(n){var i=Ht(n,au);return i.length&&i[0]===n[0]?Xl(i):[]}),R_=ut(function(n){var i=hr(n),a=Ht(n,au);return i===hr(a)?i=r:a.pop(),a.length&&a[0]===n[0]?Xl(a,We(i,2)):[]}),B_=ut(function(n){var i=hr(n),a=Ht(n,au);return i=typeof i=="function"?i:r,i&&a.pop(),a.length&&a[0]===n[0]?Xl(a,r,i):[]});function M_(n,i){return n==null?"":Fm.call(n,i)}function hr(n){var i=n==null?0:n.length;return i?n[i-1]:r}function U_(n,i,a){var c=n==null?0:n.length;if(!c)return-1;var y=c;return a!==r&&(y=nt(a),y=y<0?an(c+y,0):xn(y,c-1)),i===i?_m(n,i,y):Vo(n,Gf,y,!0)}function K_(n,i){return n&&n.length?Ch(n,nt(i)):r}var j_=ut(pd);function pd(n,i){return n&&n.length&&i&&i.length?tu(n,i):n}function H_(n,i,a){return n&&n.length&&i&&i.length?tu(n,i,We(a,2)):n}function V_(n,i,a){return n&&n.length&&i&&i.length?tu(n,i,r,a):n}var W_=Hr(function(n,i){var a=n==null?0:n.length,c=Gl(n,i);return Dh(n,Ht(i,function(y){return Vr(y,a)?+y:y}).sort(Rh)),c});function q_(n,i){var a=[];if(!(n&&n.length))return a;var c=-1,y=[],C=n.length;for(i=We(i,3);++c<C;){var P=n[c];i(P,c,n)&&(a.push(P),y.push(c))}return Dh(n,y),a}function wu(n){return n==null?n:Mm.call(n)}function G_(n,i,a){var c=n==null?0:n.length;return c?(a&&typeof a!="number"&&Ln(n,i,a)?(i=0,a=c):(i=i==null?0:nt(i),a=a===r?c:nt(a)),fr(n,i,a)):[]}function J_(n,i){return ca(n,i)}function Y_(n,i,a){return iu(n,i,We(a,2))}function z_(n,i){var a=n==null?0:n.length;if(a){var c=ca(n,i);if(c<a&&br(n[c],i))return c}return-1}function X_(n,i){return ca(n,i,!0)}function Z_(n,i,a){return iu(n,i,We(a,2),!0)}function Q_(n,i){var a=n==null?0:n.length;if(a){var c=ca(n,i,!0)-1;if(br(n[c],i))return c}return-1}function eb(n){return n&&n.length?Oh(n):[]}function tb(n,i){return n&&n.length?Oh(n,We(i,2)):[]}function nb(n){var i=n==null?0:n.length;return i?fr(n,1,i):[]}function rb(n,i,a){return n&&n.length?(i=a||i===r?1:nt(i),fr(n,0,i<0?0:i)):[]}function ib(n,i,a){var c=n==null?0:n.length;return c?(i=a||i===r?1:nt(i),i=c-i,fr(n,i<0?0:i,c)):[]}function sb(n,i){return n&&n.length?fa(n,We(i,3),!1,!0):[]}function ob(n,i){return n&&n.length?fa(n,We(i,3)):[]}var ab=ut(function(n){return di(yn(n,1,zt,!0))}),lb=ut(function(n){var i=hr(n);return zt(i)&&(i=r),di(yn(n,1,zt,!0),We(i,2))}),ub=ut(function(n){var i=hr(n);return i=typeof i=="function"?i:r,di(yn(n,1,zt,!0),r,i)});function cb(n){return n&&n.length?di(n):[]}function fb(n,i){return n&&n.length?di(n,We(i,2)):[]}function hb(n,i){return i=typeof i=="function"?i:r,n&&n.length?di(n,r,i):[]}function xu(n){if(!(n&&n.length))return[];var i=0;return n=li(n,function(a){if(zt(a))return i=an(a.length,i),!0}),Ml(i,function(a){return Ht(n,Nl(a))})}function gd(n,i){if(!(n&&n.length))return[];var a=xu(n);return i==null?a:Ht(a,function(c){return Yn(i,r,c)})}var db=ut(function(n,i){return zt(n)?to(n,i):[]}),pb=ut(function(n){return ou(li(n,zt))}),gb=ut(function(n){var i=hr(n);return zt(i)&&(i=r),ou(li(n,zt),We(i,2))}),yb=ut(function(n){var i=hr(n);return i=typeof i=="function"?i:r,ou(li(n,zt),r,i)}),mb=ut(xu);function vb(n,i){return Lh(n||[],i||[],eo)}function _b(n,i){return Lh(n||[],i||[],io)}var bb=ut(function(n){var i=n.length,a=i>1?n[i-1]:r;return a=typeof a=="function"?(n.pop(),a):r,gd(n,a)});function yd(n){var i=x(n);return i.__chain__=!0,i}function wb(n,i){return i(n),n}function ba(n,i){return i(n)}var xb=Hr(function(n){var i=n.length,a=i?n[0]:0,c=this.__wrapped__,y=function(C){return Gl(C,n)};return i>1||this.__actions__.length||!(c instanceof gt)||!Vr(a)?this.thru(y):(c=c.slice(a,+a+(i?1:0)),c.__actions__.push({func:ba,args:[y],thisArg:r}),new ur(c,this.__chain__).thru(function(C){return i&&!C.length&&C.push(r),C}))});function Sb(){return yd(this)}function Cb(){return new ur(this.value(),this.__chain__)}function Tb(){this.__values__===r&&(this.__values__=kd(this.value()));var n=this.__index__>=this.__values__.length,i=n?r:this.__values__[this.__index__++];return{done:n,value:i}}function Ab(){return this}function Db(n){for(var i,a=this;a instanceof sa;){var c=ud(a);c.__index__=0,c.__values__=r,i?y.__wrapped__=c:i=c;var y=c;a=a.__wrapped__}return y.__wrapped__=n,i}function Eb(){var n=this.__wrapped__;if(n instanceof gt){var i=n;return this.__actions__.length&&(i=new gt(this)),i=i.reverse(),i.__actions__.push({func:ba,args:[wu],thisArg:r}),new ur(i,this.__chain__)}return this.thru(wu)}function Ob(){return Ih(this.__wrapped__,this.__actions__)}var kb=ha(function(n,i,a){Pt.call(n,a)?++n[a]:Kr(n,a,1)});function Pb(n,i,a){var c=tt(n)?Wf:wv;return a&&Ln(n,i,a)&&(i=r),c(n,We(i,3))}function Ib(n,i){var a=tt(n)?li:gh;return a(n,We(i,3))}var Lb=Hh(cd),$b=Hh(fd);function Fb(n,i){return yn(wa(n,i),1)}function Nb(n,i){return yn(wa(n,i),De)}function Rb(n,i,a){return a=a===r?1:nt(a),yn(wa(n,i),a)}function md(n,i){var a=tt(n)?ar:hi;return a(n,We(i,3))}function vd(n,i){var a=tt(n)?nm:ph;return a(n,We(i,3))}var Bb=ha(function(n,i,a){Pt.call(n,a)?n[a].push(i):Kr(n,a,[i])});function Mb(n,i,a,c){n=Kn(n)?n:bs(n),a=a&&!c?nt(a):0;var y=n.length;return a<0&&(a=an(y+a,0)),Aa(n)?a<=y&&n.indexOf(i,a)>-1:!!y&&ls(n,i,a)>-1}var Ub=ut(function(n,i,a){var c=-1,y=typeof i=="function",C=Kn(n)?Q(n.length):[];return hi(n,function(P){C[++c]=y?Yn(i,P,a):no(P,i,a)}),C}),Kb=ha(function(n,i,a){Kr(n,a,i)});function wa(n,i){var a=tt(n)?Ht:wh;return a(n,We(i,3))}function jb(n,i,a,c){return n==null?[]:(tt(i)||(i=i==null?[]:[i]),a=c?r:a,tt(a)||(a=a==null?[]:[a]),Th(n,i,a))}var Hb=ha(function(n,i,a){n[a?0:1].push(i)},function(){return[[],[]]});function Vb(n,i,a){var c=tt(n)?$l:Yf,y=arguments.length<3;return c(n,We(i,4),a,y,hi)}function Wb(n,i,a){var c=tt(n)?rm:Yf,y=arguments.length<3;return c(n,We(i,4),a,y,ph)}function qb(n,i){var a=tt(n)?li:gh;return a(n,Ca(We(i,3)))}function Gb(n){var i=tt(n)?ch:Mv;return i(n)}function Jb(n,i,a){(a?Ln(n,i,a):i===r)?i=1:i=nt(i);var c=tt(n)?yv:Uv;return c(n,i)}function Yb(n){var i=tt(n)?mv:jv;return i(n)}function zb(n){if(n==null)return 0;if(Kn(n))return Aa(n)?cs(n):n.length;var i=Sn(n);return i==v||i==q?n.size:Ql(n).length}function Xb(n,i,a){var c=tt(n)?Fl:Hv;return a&&Ln(n,i,a)&&(i=r),c(n,We(i,3))}var Zb=ut(function(n,i){if(n==null)return[];var a=i.length;return a>1&&Ln(n,i[0],i[1])?i=[]:a>2&&Ln(i[0],i[1],i[2])&&(i=[i[0]]),Th(n,yn(i,1),[])}),xa=Im||function(){return gn.Date.now()};function Qb(n,i){if(typeof i!="function")throw new lr(u);return n=nt(n),function(){if(--n<1)return i.apply(this,arguments)}}function _d(n,i,a){return i=a?r:i,i=n&&i==null?n.length:i,jr(n,ne,r,r,r,r,i)}function bd(n,i){var a;if(typeof i!="function")throw new lr(u);return n=nt(n),function(){return--n>0&&(a=i.apply(this,arguments)),n<=1&&(i=r),a}}var Su=ut(function(n,i,a){var c=J;if(a.length){var y=ci(a,vs(Su));c|=Z}return jr(n,c,i,a,y)}),wd=ut(function(n,i,a){var c=J|z;if(a.length){var y=ci(a,vs(wd));c|=Z}return jr(i,c,n,a,y)});function xd(n,i,a){i=a?r:i;var c=jr(n,M,r,r,r,r,r,i);return c.placeholder=xd.placeholder,c}function Sd(n,i,a){i=a?r:i;var c=jr(n,j,r,r,r,r,r,i);return c.placeholder=Sd.placeholder,c}function Cd(n,i,a){var c,y,C,P,U,W,ue=0,ce=!1,fe=!1,Ce=!0;if(typeof n!="function")throw new lr(u);i=dr(i)||0,qt(a)&&(ce=!!a.leading,fe="maxWait"in a,C=fe?an(dr(a.maxWait)||0,i):C,Ce="trailing"in a?!!a.trailing:Ce);function Ne(Xt){var wr=c,Gr=y;return c=y=r,ue=Xt,P=n.apply(Gr,wr),P}function qe(Xt){return ue=Xt,U=ao(pt,i),ce?Ne(Xt):P}function st(Xt){var wr=Xt-W,Gr=Xt-ue,Hd=i-wr;return fe?xn(Hd,C-Gr):Hd}function Ge(Xt){var wr=Xt-W,Gr=Xt-ue;return W===r||wr>=i||wr<0||fe&&Gr>=C}function pt(){var Xt=xa();if(Ge(Xt))return _t(Xt);U=ao(pt,st(Xt))}function _t(Xt){return U=r,Ce&&c?Ne(Xt):(c=y=r,P)}function Qn(){U!==r&&$h(U),ue=0,c=W=y=U=r}function $n(){return U===r?P:_t(xa())}function er(){var Xt=xa(),wr=Ge(Xt);if(c=arguments,y=this,W=Xt,wr){if(U===r)return qe(W);if(fe)return $h(U),U=ao(pt,i),Ne(W)}return U===r&&(U=ao(pt,i)),P}return er.cancel=Qn,er.flush=$n,er}var e0=ut(function(n,i){return dh(n,1,i)}),t0=ut(function(n,i,a){return dh(n,dr(i)||0,a)});function n0(n){return jr(n,k)}function Sa(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new lr(u);var a=function(){var c=arguments,y=i?i.apply(this,c):c[0],C=a.cache;if(C.has(y))return C.get(y);var P=n.apply(this,c);return a.cache=C.set(y,P)||C,P};return a.cache=new(Sa.Cache||Ur),a}Sa.Cache=Ur;function Ca(n){if(typeof n!="function")throw new lr(u);return function(){var i=arguments;switch(i.length){case 0:return!n.call(this);case 1:return!n.call(this,i[0]);case 2:return!n.call(this,i[0],i[1]);case 3:return!n.call(this,i[0],i[1],i[2])}return!n.apply(this,i)}}function r0(n){return bd(2,n)}var i0=Vv(function(n,i){i=i.length==1&&tt(i[0])?Ht(i[0],zn(We())):Ht(yn(i,1),zn(We()));var a=i.length;return ut(function(c){for(var y=-1,C=xn(c.length,a);++y<C;)c[y]=i[y].call(this,c[y]);return Yn(n,this,c)})}),Cu=ut(function(n,i){var a=ci(i,vs(Cu));return jr(n,Z,r,i,a)}),Td=ut(function(n,i){var a=ci(i,vs(Td));return jr(n,se,r,i,a)}),s0=Hr(function(n,i){return jr(n,ve,r,r,r,i)});function o0(n,i){if(typeof n!="function")throw new lr(u);return i=i===r?i:nt(i),ut(n,i)}function a0(n,i){if(typeof n!="function")throw new lr(u);return i=i==null?0:an(nt(i),0),ut(function(a){var c=a[i],y=gi(a,0,i);return c&&ui(y,c),Yn(n,this,y)})}function l0(n,i,a){var c=!0,y=!0;if(typeof n!="function")throw new lr(u);return qt(a)&&(c="leading"in a?!!a.leading:c,y="trailing"in a?!!a.trailing:y),Cd(n,i,{leading:c,maxWait:i,trailing:y})}function u0(n){return _d(n,1)}function c0(n,i){return Cu(lu(i),n)}function f0(){if(!arguments.length)return[];var n=arguments[0];return tt(n)?n:[n]}function h0(n){return cr(n,R)}function d0(n,i){return i=typeof i=="function"?i:r,cr(n,R,i)}function p0(n){return cr(n,w|R)}function g0(n,i){return i=typeof i=="function"?i:r,cr(n,w|R,i)}function y0(n,i){return i==null||hh(n,i,un(i))}function br(n,i){return n===i||n!==n&&i!==i}var m0=ya(zl),v0=ya(function(n,i){return n>=i}),Ui=vh(function(){return arguments}())?vh:function(n){return Jt(n)&&Pt.call(n,"callee")&&!ih.call(n,"callee")},tt=Q.isArray,_0=Mf?zn(Mf):Dv;function Kn(n){return n!=null&&Ta(n.length)&&!Wr(n)}function zt(n){return Jt(n)&&Kn(n)}function b0(n){return n===!0||n===!1||Jt(n)&&In(n)==le}var yi=$m||Fu,w0=Uf?zn(Uf):Ev;function x0(n){return Jt(n)&&n.nodeType===1&&!lo(n)}function S0(n){if(n==null)return!0;if(Kn(n)&&(tt(n)||typeof n=="string"||typeof n.splice=="function"||yi(n)||_s(n)||Ui(n)))return!n.length;var i=Sn(n);if(i==v||i==q)return!n.size;if(oo(n))return!Ql(n).length;for(var a in n)if(Pt.call(n,a))return!1;return!0}function C0(n,i){return ro(n,i)}function T0(n,i,a){a=typeof a=="function"?a:r;var c=a?a(n,i):r;return c===r?ro(n,i,r,a):!!c}function Tu(n){if(!Jt(n))return!1;var i=In(n);return i==$||i==de||typeof n.message=="string"&&typeof n.name=="string"&&!lo(n)}function A0(n){return typeof n=="number"&&oh(n)}function Wr(n){if(!qt(n))return!1;var i=In(n);return i==f||i==g||i==ee||i==K}function Ad(n){return typeof n=="number"&&n==nt(n)}function Ta(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Se}function qt(n){var i=typeof n;return n!=null&&(i=="object"||i=="function")}function Jt(n){return n!=null&&typeof n=="object"}var Dd=Kf?zn(Kf):kv;function D0(n,i){return n===i||Zl(n,i,gu(i))}function E0(n,i,a){return a=typeof a=="function"?a:r,Zl(n,i,gu(i),a)}function O0(n){return Ed(n)&&n!=+n}function k0(n){if(d_(n))throw new et(l);return _h(n)}function P0(n){return n===null}function I0(n){return n==null}function Ed(n){return typeof n=="number"||Jt(n)&&In(n)==b}function lo(n){if(!Jt(n)||In(n)!=A)return!1;var i=Zo(n);if(i===null)return!0;var a=Pt.call(i,"constructor")&&i.constructor;return typeof a=="function"&&a instanceof a&&Jo.call(a)==Em}var Au=jf?zn(jf):Pv;function L0(n){return Ad(n)&&n>=-Se&&n<=Se}var Od=Hf?zn(Hf):Iv;function Aa(n){return typeof n=="string"||!tt(n)&&Jt(n)&&In(n)==ae}function Zn(n){return typeof n=="symbol"||Jt(n)&&In(n)==ie}var _s=Vf?zn(Vf):Lv;function $0(n){return n===r}function F0(n){return Jt(n)&&Sn(n)==ge}function N0(n){return Jt(n)&&In(n)==xe}var R0=ya(eu),B0=ya(function(n,i){return n<=i});function kd(n){if(!n)return[];if(Kn(n))return Aa(n)?vr(n):Un(n);if(Ys&&n[Ys])return ym(n[Ys]());var i=Sn(n),a=i==v?Kl:i==q?Wo:bs;return a(n)}function qr(n){if(!n)return n===0?n:0;if(n=dr(n),n===De||n===-De){var i=n<0?-1:1;return i*Tt}return n===n?n:0}function nt(n){var i=qr(n),a=i%1;return i===i?a?i-a:i:0}function Pd(n){return n?Ni(nt(n),0,mt):0}function dr(n){if(typeof n=="number")return n;if(Zn(n))return yt;if(qt(n)){var i=typeof n.valueOf=="function"?n.valueOf():n;n=qt(i)?i+"":i}if(typeof n!="string")return n===0?n:+n;n=zf(n);var a=Gn.test(n);return a||Gs.test(n)?Qy(n.slice(2),a?2:8):pn.test(n)?yt:+n}function Id(n){return Ir(n,jn(n))}function M0(n){return n?Ni(nt(n),-Se,Se):n===0?n:0}function kt(n){return n==null?"":Xn(n)}var U0=ys(function(n,i){if(oo(i)||Kn(i)){Ir(i,un(i),n);return}for(var a in i)Pt.call(i,a)&&eo(n,a,i[a])}),Ld=ys(function(n,i){Ir(i,jn(i),n)}),Da=ys(function(n,i,a,c){Ir(i,jn(i),n,c)}),K0=ys(function(n,i,a,c){Ir(i,un(i),n,c)}),j0=Hr(Gl);function H0(n,i){var a=gs(n);return i==null?a:fh(a,i)}var V0=ut(function(n,i){n=Nt(n);var a=-1,c=i.length,y=c>2?i[2]:r;for(y&&Ln(i[0],i[1],y)&&(c=1);++a<c;)for(var C=i[a],P=jn(C),U=-1,W=P.length;++U<W;){var ue=P[U],ce=n[ue];(ce===r||br(ce,hs[ue])&&!Pt.call(n,ue))&&(n[ue]=C[ue])}return n}),W0=ut(function(n){return n.push(r,zh),Yn($d,r,n)});function q0(n,i){return qf(n,We(i,3),Pr)}function G0(n,i){return qf(n,We(i,3),Yl)}function J0(n,i){return n==null?n:Jl(n,We(i,3),jn)}function Y0(n,i){return n==null?n:yh(n,We(i,3),jn)}function z0(n,i){return n&&Pr(n,We(i,3))}function X0(n,i){return n&&Yl(n,We(i,3))}function Z0(n){return n==null?[]:la(n,un(n))}function Q0(n){return n==null?[]:la(n,jn(n))}function Du(n,i,a){var c=n==null?r:Ri(n,i);return c===r?a:c}function ew(n,i){return n!=null&&Qh(n,i,Sv)}function Eu(n,i){return n!=null&&Qh(n,i,Cv)}var tw=Wh(function(n,i,a){i!=null&&typeof i.toString!="function"&&(i=Yo.call(i)),n[i]=a},ku(Hn)),nw=Wh(function(n,i,a){i!=null&&typeof i.toString!="function"&&(i=Yo.call(i)),Pt.call(n,i)?n[i].push(a):n[i]=[a]},We),rw=ut(no);function un(n){return Kn(n)?uh(n):Ql(n)}function jn(n){return Kn(n)?uh(n,!0):$v(n)}function iw(n,i){var a={};return i=We(i,3),Pr(n,function(c,y,C){Kr(a,i(c,y,C),c)}),a}function sw(n,i){var a={};return i=We(i,3),Pr(n,function(c,y,C){Kr(a,y,i(c,y,C))}),a}var ow=ys(function(n,i,a){ua(n,i,a)}),$d=ys(function(n,i,a,c){ua(n,i,a,c)}),aw=Hr(function(n,i){var a={};if(n==null)return a;var c=!1;i=Ht(i,function(C){return C=pi(C,n),c||(c=C.length>1),C}),Ir(n,du(n),a),c&&(a=cr(a,w|O|R,t_));for(var y=i.length;y--;)su(a,i[y]);return a});function lw(n,i){return Fd(n,Ca(We(i)))}var uw=Hr(function(n,i){return n==null?{}:Nv(n,i)});function Fd(n,i){if(n==null)return{};var a=Ht(du(n),function(c){return[c]});return i=We(i),Ah(n,a,function(c,y){return i(c,y[0])})}function cw(n,i,a){i=pi(i,n);var c=-1,y=i.length;for(y||(y=1,n=r);++c<y;){var C=n==null?r:n[Lr(i[c])];C===r&&(c=y,C=a),n=Wr(C)?C.call(n):C}return n}function fw(n,i,a){return n==null?n:io(n,i,a)}function hw(n,i,a,c){return c=typeof c=="function"?c:r,n==null?n:io(n,i,a,c)}var Nd=Jh(un),Rd=Jh(jn);function dw(n,i,a){var c=tt(n),y=c||yi(n)||_s(n);if(i=We(i,4),a==null){var C=n&&n.constructor;y?a=c?new C:[]:qt(n)?a=Wr(C)?gs(Zo(n)):{}:a={}}return(y?ar:Pr)(n,function(P,U,W){return i(a,P,U,W)}),a}function pw(n,i){return n==null?!0:su(n,i)}function gw(n,i,a){return n==null?n:Ph(n,i,lu(a))}function yw(n,i,a,c){return c=typeof c=="function"?c:r,n==null?n:Ph(n,i,lu(a),c)}function bs(n){return n==null?[]:Ul(n,un(n))}function mw(n){return n==null?[]:Ul(n,jn(n))}function vw(n,i,a){return a===r&&(a=i,i=r),a!==r&&(a=dr(a),a=a===a?a:0),i!==r&&(i=dr(i),i=i===i?i:0),Ni(dr(n),i,a)}function _w(n,i,a){return i=qr(i),a===r?(a=i,i=0):a=qr(a),n=dr(n),Tv(n,i,a)}function bw(n,i,a){if(a&&typeof a!="boolean"&&Ln(n,i,a)&&(i=a=r),a===r&&(typeof i=="boolean"?(a=i,i=r):typeof n=="boolean"&&(a=n,n=r)),n===r&&i===r?(n=0,i=1):(n=qr(n),i===r?(i=n,n=0):i=qr(i)),n>i){var c=n;n=i,i=c}if(a||n%1||i%1){var y=ah();return xn(n+y*(i-n+Zy("1e-"+((y+"").length-1))),i)}return nu(n,i)}var ww=ms(function(n,i,a){return i=i.toLowerCase(),n+(a?Bd(i):i)});function Bd(n){return Ou(kt(n).toLowerCase())}function Md(n){return n=kt(n),n&&n.replace(oi,fm).replace(jy,"")}function xw(n,i,a){n=kt(n),i=Xn(i);var c=n.length;a=a===r?c:Ni(nt(a),0,c);var y=a;return a-=i.length,a>=0&&n.slice(a,y)==i}function Sw(n){return n=kt(n),n&&vt.test(n)?n.replace(Ct,hm):n}function Cw(n){return n=kt(n),n&&Ke.test(n)?n.replace(Ue,"\\$&"):n}var Tw=ms(function(n,i,a){return n+(a?"-":"")+i.toLowerCase()}),Aw=ms(function(n,i,a){return n+(a?" ":"")+i.toLowerCase()}),Dw=jh("toLowerCase");function Ew(n,i,a){n=kt(n),i=nt(i);var c=i?cs(n):0;if(!i||c>=i)return n;var y=(i-c)/2;return ga(na(y),a)+n+ga(ta(y),a)}function Ow(n,i,a){n=kt(n),i=nt(i);var c=i?cs(n):0;return i&&c<i?n+ga(i-c,a):n}function kw(n,i,a){n=kt(n),i=nt(i);var c=i?cs(n):0;return i&&c<i?ga(i-c,a)+n:n}function Pw(n,i,a){return a||i==null?i=0:i&&(i=+i),Bm(kt(n).replace(Ve,""),i||0)}function Iw(n,i,a){return(a?Ln(n,i,a):i===r)?i=1:i=nt(i),ru(kt(n),i)}function Lw(){var n=arguments,i=kt(n[0]);return n.length<3?i:i.replace(n[1],n[2])}var $w=ms(function(n,i,a){return n+(a?"_":"")+i.toLowerCase()});function Fw(n,i,a){return a&&typeof a!="number"&&Ln(n,i,a)&&(i=a=r),a=a===r?mt:a>>>0,a?(n=kt(n),n&&(typeof i=="string"||i!=null&&!Au(i))&&(i=Xn(i),!i&&us(n))?gi(vr(n),0,a):n.split(i,a)):[]}var Nw=ms(function(n,i,a){return n+(a?" ":"")+Ou(i)});function Rw(n,i,a){return n=kt(n),a=a==null?0:Ni(nt(a),0,n.length),i=Xn(i),n.slice(a,a+i.length)==i}function Bw(n,i,a){var c=x.templateSettings;a&&Ln(n,i,a)&&(i=r),n=kt(n),i=Da({},i,c,Yh);var y=Da({},i.imports,c.imports,Yh),C=un(y),P=Ul(y,C),U,W,ue=0,ce=i.interpolate||ai,fe="__p += '",Ce=jl((i.escape||ai).source+"|"+ce.source+"|"+(ce===Qe?Ft:ai).source+"|"+(i.evaluate||ai).source+"|$","g"),Ne="//# sourceURL="+(Pt.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gy+"]")+`
`;n.replace(Ce,function(Ge,pt,_t,Qn,$n,er){return _t||(_t=Qn),fe+=n.slice(ue,er).replace(kr,dm),pt&&(U=!0,fe+=`' +
__e(`+pt+`) +
'`),$n&&(W=!0,fe+=`';
`+$n+`;
__p += '`),_t&&(fe+=`' +
((__t = (`+_t+`)) == null ? '' : __t) +
'`),ue=er+Ge.length,Ge}),fe+=`';
`;var qe=Pt.call(i,"variable")&&i.variable;if(!qe)fe=`with (obj) {
`+fe+`
}
`;else if(Ot.test(qe))throw new et(h);fe=(W?fe.replace(Ae,""):fe).replace(He,"$1").replace(at,"$1;"),fe="function("+(qe||"obj")+`) {
`+(qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(W?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+fe+`return __p
}`;var st=Kd(function(){return At(C,Ne+"return "+fe).apply(r,P)});if(st.source=fe,Tu(st))throw st;return st}function Mw(n){return kt(n).toLowerCase()}function Uw(n){return kt(n).toUpperCase()}function Kw(n,i,a){if(n=kt(n),n&&(a||i===r))return zf(n);if(!n||!(i=Xn(i)))return n;var c=vr(n),y=vr(i),C=Xf(c,y),P=Zf(c,y)+1;return gi(c,C,P).join("")}function jw(n,i,a){if(n=kt(n),n&&(a||i===r))return n.slice(0,eh(n)+1);if(!n||!(i=Xn(i)))return n;var c=vr(n),y=Zf(c,vr(i))+1;return gi(c,0,y).join("")}function Hw(n,i,a){if(n=kt(n),n&&(a||i===r))return n.replace(Ve,"");if(!n||!(i=Xn(i)))return n;var c=vr(n),y=Xf(c,vr(i));return gi(c,y).join("")}function Vw(n,i){var a=E,c=te;if(qt(i)){var y="separator"in i?i.separator:y;a="length"in i?nt(i.length):a,c="omission"in i?Xn(i.omission):c}n=kt(n);var C=n.length;if(us(n)){var P=vr(n);C=P.length}if(a>=C)return n;var U=a-cs(c);if(U<1)return c;var W=P?gi(P,0,U).join(""):n.slice(0,U);if(y===r)return W+c;if(P&&(U+=W.length-U),Au(y)){if(n.slice(U).search(y)){var ue,ce=W;for(y.global||(y=jl(y.source,kt(wn.exec(y))+"g")),y.lastIndex=0;ue=y.exec(ce);)var fe=ue.index;W=W.slice(0,fe===r?U:fe)}}else if(n.indexOf(Xn(y),U)!=U){var Ce=W.lastIndexOf(y);Ce>-1&&(W=W.slice(0,Ce))}return W+c}function Ww(n){return n=kt(n),n&&wt.test(n)?n.replace(lt,bm):n}var qw=ms(function(n,i,a){return n+(a?" ":"")+i.toUpperCase()}),Ou=jh("toUpperCase");function Ud(n,i,a){return n=kt(n),i=a?r:i,i===r?gm(n)?Sm(n):om(n):n.match(i)||[]}var Kd=ut(function(n,i){try{return Yn(n,r,i)}catch(a){return Tu(a)?a:new et(a)}}),Gw=Hr(function(n,i){return ar(i,function(a){a=Lr(a),Kr(n,a,Su(n[a],n))}),n});function Jw(n){var i=n==null?0:n.length,a=We();return n=i?Ht(n,function(c){if(typeof c[1]!="function")throw new lr(u);return[a(c[0]),c[1]]}):[],ut(function(c){for(var y=-1;++y<i;){var C=n[y];if(Yn(C[0],this,c))return Yn(C[1],this,c)}})}function Yw(n){return bv(cr(n,w))}function ku(n){return function(){return n}}function zw(n,i){return n==null||n!==n?i:n}var Xw=Vh(),Zw=Vh(!0);function Hn(n){return n}function Pu(n){return bh(typeof n=="function"?n:cr(n,w))}function Qw(n){return xh(cr(n,w))}function e1(n,i){return Sh(n,cr(i,w))}var t1=ut(function(n,i){return function(a){return no(a,n,i)}}),n1=ut(function(n,i){return function(a){return no(n,a,i)}});function Iu(n,i,a){var c=un(i),y=la(i,c);a==null&&!(qt(i)&&(y.length||!c.length))&&(a=i,i=n,n=this,y=la(i,un(i)));var C=!(qt(a)&&"chain"in a)||!!a.chain,P=Wr(n);return ar(y,function(U){var W=i[U];n[U]=W,P&&(n.prototype[U]=function(){var ue=this.__chain__;if(C||ue){var ce=n(this.__wrapped__),fe=ce.__actions__=Un(this.__actions__);return fe.push({func:W,args:arguments,thisArg:n}),ce.__chain__=ue,ce}return W.apply(n,ui([this.value()],arguments))})}),n}function r1(){return gn._===this&&(gn._=Om),this}function Lu(){}function i1(n){return n=nt(n),ut(function(i){return Ch(i,n)})}var s1=cu(Ht),o1=cu(Wf),a1=cu(Fl);function jd(n){return mu(n)?Nl(Lr(n)):Rv(n)}function l1(n){return function(i){return n==null?r:Ri(n,i)}}var u1=qh(),c1=qh(!0);function $u(){return[]}function Fu(){return!1}function f1(){return{}}function h1(){return""}function d1(){return!0}function p1(n,i){if(n=nt(n),n<1||n>Se)return[];var a=mt,c=xn(n,mt);i=We(i),n-=mt;for(var y=Ml(c,i);++a<n;)i(a);return y}function g1(n){return tt(n)?Ht(n,Lr):Zn(n)?[n]:Un(ld(kt(n)))}function y1(n){var i=++Dm;return kt(n)+i}var m1=pa(function(n,i){return n+i},0),v1=fu("ceil"),_1=pa(function(n,i){return n/i},1),b1=fu("floor");function w1(n){return n&&n.length?aa(n,Hn,zl):r}function x1(n,i){return n&&n.length?aa(n,We(i,2),zl):r}function S1(n){return Jf(n,Hn)}function C1(n,i){return Jf(n,We(i,2))}function T1(n){return n&&n.length?aa(n,Hn,eu):r}function A1(n,i){return n&&n.length?aa(n,We(i,2),eu):r}var D1=pa(function(n,i){return n*i},1),E1=fu("round"),O1=pa(function(n,i){return n-i},0);function k1(n){return n&&n.length?Bl(n,Hn):0}function P1(n,i){return n&&n.length?Bl(n,We(i,2)):0}return x.after=Qb,x.ary=_d,x.assign=U0,x.assignIn=Ld,x.assignInWith=Da,x.assignWith=K0,x.at=j0,x.before=bd,x.bind=Su,x.bindAll=Gw,x.bindKey=wd,x.castArray=f0,x.chain=yd,x.chunk=b_,x.compact=w_,x.concat=x_,x.cond=Jw,x.conforms=Yw,x.constant=ku,x.countBy=kb,x.create=H0,x.curry=xd,x.curryRight=Sd,x.debounce=Cd,x.defaults=V0,x.defaultsDeep=W0,x.defer=e0,x.delay=t0,x.difference=S_,x.differenceBy=C_,x.differenceWith=T_,x.drop=A_,x.dropRight=D_,x.dropRightWhile=E_,x.dropWhile=O_,x.fill=k_,x.filter=Ib,x.flatMap=Fb,x.flatMapDeep=Nb,x.flatMapDepth=Rb,x.flatten=hd,x.flattenDeep=P_,x.flattenDepth=I_,x.flip=n0,x.flow=Xw,x.flowRight=Zw,x.fromPairs=L_,x.functions=Z0,x.functionsIn=Q0,x.groupBy=Bb,x.initial=F_,x.intersection=N_,x.intersectionBy=R_,x.intersectionWith=B_,x.invert=tw,x.invertBy=nw,x.invokeMap=Ub,x.iteratee=Pu,x.keyBy=Kb,x.keys=un,x.keysIn=jn,x.map=wa,x.mapKeys=iw,x.mapValues=sw,x.matches=Qw,x.matchesProperty=e1,x.memoize=Sa,x.merge=ow,x.mergeWith=$d,x.method=t1,x.methodOf=n1,x.mixin=Iu,x.negate=Ca,x.nthArg=i1,x.omit=aw,x.omitBy=lw,x.once=r0,x.orderBy=jb,x.over=s1,x.overArgs=i0,x.overEvery=o1,x.overSome=a1,x.partial=Cu,x.partialRight=Td,x.partition=Hb,x.pick=uw,x.pickBy=Fd,x.property=jd,x.propertyOf=l1,x.pull=j_,x.pullAll=pd,x.pullAllBy=H_,x.pullAllWith=V_,x.pullAt=W_,x.range=u1,x.rangeRight=c1,x.rearg=s0,x.reject=qb,x.remove=q_,x.rest=o0,x.reverse=wu,x.sampleSize=Jb,x.set=fw,x.setWith=hw,x.shuffle=Yb,x.slice=G_,x.sortBy=Zb,x.sortedUniq=eb,x.sortedUniqBy=tb,x.split=Fw,x.spread=a0,x.tail=nb,x.take=rb,x.takeRight=ib,x.takeRightWhile=sb,x.takeWhile=ob,x.tap=wb,x.throttle=l0,x.thru=ba,x.toArray=kd,x.toPairs=Nd,x.toPairsIn=Rd,x.toPath=g1,x.toPlainObject=Id,x.transform=dw,x.unary=u0,x.union=ab,x.unionBy=lb,x.unionWith=ub,x.uniq=cb,x.uniqBy=fb,x.uniqWith=hb,x.unset=pw,x.unzip=xu,x.unzipWith=gd,x.update=gw,x.updateWith=yw,x.values=bs,x.valuesIn=mw,x.without=db,x.words=Ud,x.wrap=c0,x.xor=pb,x.xorBy=gb,x.xorWith=yb,x.zip=mb,x.zipObject=vb,x.zipObjectDeep=_b,x.zipWith=bb,x.entries=Nd,x.entriesIn=Rd,x.extend=Ld,x.extendWith=Da,Iu(x,x),x.add=m1,x.attempt=Kd,x.camelCase=ww,x.capitalize=Bd,x.ceil=v1,x.clamp=vw,x.clone=h0,x.cloneDeep=p0,x.cloneDeepWith=g0,x.cloneWith=d0,x.conformsTo=y0,x.deburr=Md,x.defaultTo=zw,x.divide=_1,x.endsWith=xw,x.eq=br,x.escape=Sw,x.escapeRegExp=Cw,x.every=Pb,x.find=Lb,x.findIndex=cd,x.findKey=q0,x.findLast=$b,x.findLastIndex=fd,x.findLastKey=G0,x.floor=b1,x.forEach=md,x.forEachRight=vd,x.forIn=J0,x.forInRight=Y0,x.forOwn=z0,x.forOwnRight=X0,x.get=Du,x.gt=m0,x.gte=v0,x.has=ew,x.hasIn=Eu,x.head=dd,x.identity=Hn,x.includes=Mb,x.indexOf=$_,x.inRange=_w,x.invoke=rw,x.isArguments=Ui,x.isArray=tt,x.isArrayBuffer=_0,x.isArrayLike=Kn,x.isArrayLikeObject=zt,x.isBoolean=b0,x.isBuffer=yi,x.isDate=w0,x.isElement=x0,x.isEmpty=S0,x.isEqual=C0,x.isEqualWith=T0,x.isError=Tu,x.isFinite=A0,x.isFunction=Wr,x.isInteger=Ad,x.isLength=Ta,x.isMap=Dd,x.isMatch=D0,x.isMatchWith=E0,x.isNaN=O0,x.isNative=k0,x.isNil=I0,x.isNull=P0,x.isNumber=Ed,x.isObject=qt,x.isObjectLike=Jt,x.isPlainObject=lo,x.isRegExp=Au,x.isSafeInteger=L0,x.isSet=Od,x.isString=Aa,x.isSymbol=Zn,x.isTypedArray=_s,x.isUndefined=$0,x.isWeakMap=F0,x.isWeakSet=N0,x.join=M_,x.kebabCase=Tw,x.last=hr,x.lastIndexOf=U_,x.lowerCase=Aw,x.lowerFirst=Dw,x.lt=R0,x.lte=B0,x.max=w1,x.maxBy=x1,x.mean=S1,x.meanBy=C1,x.min=T1,x.minBy=A1,x.stubArray=$u,x.stubFalse=Fu,x.stubObject=f1,x.stubString=h1,x.stubTrue=d1,x.multiply=D1,x.nth=K_,x.noConflict=r1,x.noop=Lu,x.now=xa,x.pad=Ew,x.padEnd=Ow,x.padStart=kw,x.parseInt=Pw,x.random=bw,x.reduce=Vb,x.reduceRight=Wb,x.repeat=Iw,x.replace=Lw,x.result=cw,x.round=E1,x.runInContext=H,x.sample=Gb,x.size=zb,x.snakeCase=$w,x.some=Xb,x.sortedIndex=J_,x.sortedIndexBy=Y_,x.sortedIndexOf=z_,x.sortedLastIndex=X_,x.sortedLastIndexBy=Z_,x.sortedLastIndexOf=Q_,x.startCase=Nw,x.startsWith=Rw,x.subtract=O1,x.sum=k1,x.sumBy=P1,x.template=Bw,x.times=p1,x.toFinite=qr,x.toInteger=nt,x.toLength=Pd,x.toLower=Mw,x.toNumber=dr,x.toSafeInteger=M0,x.toString=kt,x.toUpper=Uw,x.trim=Kw,x.trimEnd=jw,x.trimStart=Hw,x.truncate=Vw,x.unescape=Ww,x.uniqueId=y1,x.upperCase=qw,x.upperFirst=Ou,x.each=md,x.eachRight=vd,x.first=dd,Iu(x,function(){var n={};return Pr(x,function(i,a){Pt.call(x.prototype,a)||(n[a]=i)}),n}(),{chain:!1}),x.VERSION=s,ar(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){x[n].placeholder=x}),ar(["drop","take"],function(n,i){gt.prototype[n]=function(a){a=a===r?1:an(nt(a),0);var c=this.__filtered__&&!i?new gt(this):this.clone();return c.__filtered__?c.__takeCount__=xn(a,c.__takeCount__):c.__views__.push({size:xn(a,mt),type:n+(c.__dir__<0?"Right":"")}),c},gt.prototype[n+"Right"]=function(a){return this.reverse()[n](a).reverse()}}),ar(["filter","map","takeWhile"],function(n,i){var a=i+1,c=a==Ee||a==Be;gt.prototype[n]=function(y){var C=this.clone();return C.__iteratees__.push({iteratee:We(y,3),type:a}),C.__filtered__=C.__filtered__||c,C}}),ar(["head","last"],function(n,i){var a="take"+(i?"Right":"");gt.prototype[n]=function(){return this[a](1).value()[0]}}),ar(["initial","tail"],function(n,i){var a="drop"+(i?"":"Right");gt.prototype[n]=function(){return this.__filtered__?new gt(this):this[a](1)}}),gt.prototype.compact=function(){return this.filter(Hn)},gt.prototype.find=function(n){return this.filter(n).head()},gt.prototype.findLast=function(n){return this.reverse().find(n)},gt.prototype.invokeMap=ut(function(n,i){return typeof n=="function"?new gt(this):this.map(function(a){return no(a,n,i)})}),gt.prototype.reject=function(n){return this.filter(Ca(We(n)))},gt.prototype.slice=function(n,i){n=nt(n);var a=this;return a.__filtered__&&(n>0||i<0)?new gt(a):(n<0?a=a.takeRight(-n):n&&(a=a.drop(n)),i!==r&&(i=nt(i),a=i<0?a.dropRight(-i):a.take(i-n)),a)},gt.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},gt.prototype.toArray=function(){return this.take(mt)},Pr(gt.prototype,function(n,i){var a=/^(?:filter|find|map|reject)|While$/.test(i),c=/^(?:head|last)$/.test(i),y=x[c?"take"+(i=="last"?"Right":""):i],C=c||/^find/.test(i);y&&(x.prototype[i]=function(){var P=this.__wrapped__,U=c?[1]:arguments,W=P instanceof gt,ue=U[0],ce=W||tt(P),fe=function(pt){var _t=y.apply(x,ui([pt],U));return c&&Ce?_t[0]:_t};ce&&a&&typeof ue=="function"&&ue.length!=1&&(W=ce=!1);var Ce=this.__chain__,Ne=!!this.__actions__.length,qe=C&&!Ce,st=W&&!Ne;if(!C&&ce){P=st?P:new gt(this);var Ge=n.apply(P,U);return Ge.__actions__.push({func:ba,args:[fe],thisArg:r}),new ur(Ge,Ce)}return qe&&st?n.apply(this,U):(Ge=this.thru(fe),qe?c?Ge.value()[0]:Ge.value():Ge)})}),ar(["pop","push","shift","sort","splice","unshift"],function(n){var i=qo[n],a=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",c=/^(?:pop|shift)$/.test(n);x.prototype[n]=function(){var y=arguments;if(c&&!this.__chain__){var C=this.value();return i.apply(tt(C)?C:[],y)}return this[a](function(P){return i.apply(tt(P)?P:[],y)})}}),Pr(gt.prototype,function(n,i){var a=x[i];if(a){var c=a.name+"";Pt.call(ps,c)||(ps[c]=[]),ps[c].push({name:i,func:a})}}),ps[da(r,z).name]=[{name:"wrapper",func:r}],gt.prototype.clone=Wm,gt.prototype.reverse=qm,gt.prototype.value=Gm,x.prototype.at=xb,x.prototype.chain=Sb,x.prototype.commit=Cb,x.prototype.next=Tb,x.prototype.plant=Db,x.prototype.reverse=Eb,x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=Ob,x.prototype.first=x.prototype.head,Ys&&(x.prototype[Ys]=Ab),x},fs=Cm();Ii?((Ii.exports=fs)._=fs,Pl._=fs):gn._=fs}).call(Ds)})(hl,hl.exports);var cn=hl.exports;class sT{constructor(){Vn(this,"list",Dr([]));Vn(this,"state",Pi({contentModalData:[],contentModalVisible:!1,viewAllButtonVisible:!1,viewMoreThanButtonVisible:!1}))}pushProfileInfo(t){this.list.value.push(t)}pushResultsByUrl(t,r){const s=this.list.value.find(o=>o.url===t);s&&(s.reviewsList=r,this.sortResults(s,"product_name_asc"))}sortResults(t,r){if(!t.reviewsList)return;t.reviewsSortedBy=r;let s=JSON.parse(JSON.stringify(t.reviewsList)),o=[];r==="product_name_desc"&&(o=cn.orderBy(s,["productName"],["desc"])),r==="product_name_asc"&&(o=cn.orderBy(s,["productName"],["asc"])),r==="rating_desc"&&(o=cn.orderBy(s,["rating"],["desc"])),r==="rating_asc"&&(o=cn.orderBy(s,["rating"],["asc"])),r==="date_desc"&&(o=cn.orderBy(s,["date"],["desc"])),r==="date_asc"&&(o=cn.orderBy(s,["date"],["asc"])),r==="delivery_desc"&&(o=cn.orderBy(s,["delivery"],["desc","asc"])),r==="delivery_asc"&&(o=cn.orderBy(s,["delivery"],["asc","desc"])),t.reviewsList=[],t.reviewsList=o}copyItemInfo(t){var s;let r="";r+=`${t.name}
`,r+=`${t.url}
`,r+=`${t.rating}
`,r+=`${t.reviewsCount}
`,r+=`${t.subscribers}
`,r+=`${t.deliveryInfo}
`,r+=`${Bs(t.parsingDate)}



`,this.sortResults(t,"product_name_asc"),(s=t.reviewsList)==null||s.forEach(o=>{let l=new Date(o.date),u=new Intl.DateTimeFormat("ru",{month:"2-digit",year:"numeric"}).format(l);r+=`${o.productName}~${u}${o.delivery?"~Delivery":""}
`}),r&&(mf(r),dt.show("success",ct.InfoCopied))}getMoreThanResults(t=10){let r=[],s=new Map;this.list.value.forEach(l=>{var u;(u=l.reviewsList)==null||u.forEach(h=>{if(s.has(h.productName)){let p=s.get(h.productName);if(p){let d=[...p,{...h,color:l.color,info:`${l.name} / ${l.rating} / ${l.reviewsCount} / ${l.subscribers} / ${l.deliveryInfo}`,count:0}];s.set(h.productName,d)}}else s.set(h.productName,[{...h,color:l.color,info:`${l.name} / ${l.rating} / ${l.reviewsCount} / ${l.subscribers} / ${l.deliveryInfo}`,count:0}])})}),s.forEach((l,u)=>{l.length>=t&&(l[0]&&(l[0].count=l.length),r.push(l[0]))}),s.clear();let o=JSON.parse(JSON.stringify(r));return o.sort((l,u)=>l.count>u.count?-1:l.count<u.count?1:0),r=o,r}getAllResults(){let t=[];this.list.value.forEach(s=>{var o;(o=s.reviewsList)==null||o.forEach(l=>{t.push({...l,color:s.color,info:`${s.name} / ${s.rating} / ${s.reviewsCount} / ${s.subscribers} / ${s.deliveryInfo}`,count:0})})});let r=JSON.parse(JSON.stringify(t));return r.sort((s,o)=>s.productName.localeCompare(o.productName)),t=r,t}async apiRemoveProfile(t){try{t&&await It.profilesParsedList.delete(t)}catch(r){console.log(r)}finally{}}async apiUpdateProfile(t){try{if(t.id){let r=JSON.parse(JSON.stringify(t));await It.profilesParsedList.update(r.id,r)}}catch(r){console.log(r)}}async apiCreateList(){try{let t=JSON.parse(JSON.stringify(this.list.value));t.length&&(It.profilesParsedList.clear(),It.profilesParsedList.bulkAdd(t),dt.show("success",ct.ProfileInfoListAddedInDB))}catch(t){console.log(t)}finally{}}async apiGetList(){try{const t=await It.profilesParsedList.toArray();if(t.length)return t}catch(t){console.log(t)}finally{}return[]}async apiRemoveList(){try{await It.profilesParsedList.clear(),dt.show("warning",ct.ProfileInfoListRemovedFromDB)}catch(t){console.log(t)}finally{}}async apiRemoveListUnmarkedOnly(){try{let r=(await It.profilesParsedList.filter(s=>s.marked===!1).toArray()).map(s=>s.id);await It.profilesParsedList.bulkDelete(r),dt.show("warning",ct.ProfileInfoListRemovedFromDB)}catch(t){console.log(t)}finally{}}async apiCreateProfile(t){try{let r=JSON.parse(JSON.stringify(t)),s={url:r.url,name:r.name,comment:r.comment,savedDate:Date.now(),opened:!1,loading:!1,parsingResults:[{parsingDate:r.parsingDate,rating:r.rating,reviewsCount:r.reviewsCount,deliveryInfo:r.deliveryInfo,subscribers:r.subscribers,activeAdds:r.activeAdds,completedAdds:r.completedAdds}]};const o=await It.profilesSavedList.add(s);t.existsInDataBase=!0,t.savedDate=s.savedDate,t.comment=s.comment}catch(r){console.log(r),dt.show("error",ct.ProfileCreateError)}finally{}}}const Xe=new sT,oT={class:"mb-8 border-b border-gray-500 sticky top-0 z-[100] bg-gray-700"},aT={class:"centered py-3 flex flex-wrap items-center gap-3"},lT={class:"flex items-center gap-3 ml-auto"},uT=qn({__name:"Header",setup(e){async function t(){Xe.state.contentModalVisible=!0,Xe.state.contentModalData=Xe.getAllResults()}async function r(){Xe.state.contentModalVisible=!0,Xe.state.contentModalData=Xe.getMoreThanResults()}return(s,o)=>(be(),Oe("header",oT,[G("div",aT,[(be(!0),Oe(Kt,null,Qr(_e(gr).list,l=>(be(),ir(Cn,{key:l.value,icon:l.icon,class:_n([_e(gr).active.value===l.value?"ring-2 ring-white":""]),onClick:u=>_e(gr).changeTab(l.value)},{default:fn(()=>[hn(Ze(l.text),1)]),_:2},1032,["icon","class","onClick"]))),128)),G("div",lT,[_e(Xe).state.viewAllButtonVisible&&_e(Xe).list.value.length>1?(be(),ir(Cn,{key:0,theme:"success",type:"button",icon:"remove_red_eye",onClick:Yt(t,["stop","prevent"])},{default:fn(()=>[hn("Все результаты")]),_:1},8,["onClick"])):bt("",!0),_e(Xe).state.viewMoreThanButtonVisible&&_e(Xe).list.value.length>1?(be(),ir(Cn,{key:1,theme:"success",type:"button",icon:"remove_red_eye",onClick:Yt(r,["stop","prevent"])},{default:fn(()=>[hn(" >= 10")]),_:1},8,["onClick"])):bt("",!0)]),ft(Cn,{theme:"info",type:"button",icon:"settings",class:_n(["ml-auto",[_e(gr).active.value===_e(zr).Settings?"ring-2 ring-white":""]]),onClick:o[0]||(o[0]=l=>_e(gr).changeTab(_e(zr).Settings))},null,8,["class"])])]))}}),cT={class:"switch"},fT=["tabindex","checked"],hT=["tabindex","checked"],dT=G("div",{class:"switch__label"},null,-1),Np=qn({__name:"Switch",props:{type:{default:"checkbox"},modelValue:{},tabindex:{}},emits:["update:modelValue"],setup(e,{emit:t}){const r=s=>{t("update:modelValue",s.target.checked)};return(s,o)=>(be(),Oe("div",cT,[s.type==="checkbox"?(be(),Oe("input",{key:0,type:"checkbox",tabindex:s.tabindex,checked:s.modelValue,onChange:r},null,40,fT)):bt("",!0),s.type==="radio"?(be(),Oe("input",{key:1,type:"radio",tabindex:s.tabindex,checked:s.modelValue,onChange:r},null,40,hT)):bt("",!0),dT]))}});var yy={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(Ds,function(){return function(){var r={d:function($,f){for(var g in f)r.o(f,g)&&!r.o($,g)&&Object.defineProperty($,g,{enumerable:!0,get:f[g]})},o:function($,f){return Object.prototype.hasOwnProperty.call($,f)}},s={};r.d(s,{default:function(){return oe}});var o={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},l={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:o.days,minView:o.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function u($){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof $=="string"?f.querySelector($):$}function h(){let{tagName:$="div",className:f="",innerHtml:g="",id:v="",attrs:b={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=document.createElement($);return f&&T.classList.add(...f.split(" ")),v&&(T.id=v),g&&(T.innerHTML=g),b&&p(T,b),T}function p($,f){for(let[g,v]of Object.entries(f))v!==void 0&&$.setAttribute(g,v);return $}function d($){return new Date($.getFullYear(),$.getMonth()+1,0).getDate()}function _($){let f=$.getHours(),{hours:g,dayPeriod:v}=w(f);return{year:$.getFullYear(),month:$.getMonth(),fullMonth:$.getMonth()+1<10?"0"+($.getMonth()+1):$.getMonth()+1,date:$.getDate(),fullDate:$.getDate()<10?"0"+$.getDate():$.getDate(),day:$.getDay(),hours:f,fullHours:O(f),hours12:g,dayPeriod:v,fullHours12:O(g),minutes:$.getMinutes(),fullMinutes:$.getMinutes()<10?"0"+$.getMinutes():$.getMinutes()}}function w($){return{dayPeriod:$>11?"pm":"am",hours:$%12==0?12:$%12}}function O($){return $<10?"0"+$:$}function R($){let f=10*Math.floor($.getFullYear()/10);return[f,f+9]}function L(){let $=[];for(var f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];return g.forEach(b=>{if(typeof b=="object")for(let T in b)b[T]&&$.push(T);else b&&$.push(b)}),$.join(" ")}function F($,f){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.days;if(!$||!f)return!1;let v=_($),b=_(f);return{[o.days]:v.date===b.date&&v.month===b.month&&v.year===b.year,[o.months]:v.month===b.month&&v.year===b.year,[o.years]:v.year===b.year}[g]}function J($,f,g){let v=B($,!1).getTime(),b=B(f,!1).getTime();return g?v>=b:v>b}function z($,f){return!J($,f,!0)}function B($){let f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],g=new Date($.getTime());return typeof f!="boolean"||f||M(g),g}function M($){return $.setHours(0,0,0,0),$}function j($,f,g){$.length?$.forEach(v=>{v.addEventListener(f,g)}):$.addEventListener(f,g)}function Z($,f){return!(!$||$===document||$ instanceof DocumentFragment)&&($.matches(f)?$:Z($.parentNode,f))}function se($,f,g){return $>g?g:$<f?f:$}function ne($){for(var f=arguments.length,g=new Array(f>1?f-1:0),v=1;v<f;v++)g[v-1]=arguments[v];return g.filter(b=>b).forEach(b=>{for(let[T,A]of Object.entries(b))if(A!==void 0&&A.toString()==="[object Object]"){let I=$[T]!==void 0?$[T].toString():void 0,K=A.toString(),Y=Array.isArray(A)?[]:{};$[T]=$[T]?I!==K?Y:$[T]:Y,ne($[T],A)}else $[T]=A}),$}function ve($){let f=$;return $ instanceof Date||(f=new Date($)),isNaN(f.getTime())&&(console.log(`Unable to convert value "${$}" to Date object`),f=!1),f}function k($){let f="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+f+")("+$+")($|<|"+f+")","g")}function E($,f,g){return(f=function(v){var b=function(T,A){if(typeof T!="object"||T===null)return T;var I=T[Symbol.toPrimitive];if(I!==void 0){var K=I.call(T,A);if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(v,"string");return typeof b=="symbol"?b:String(b)}(f))in $?Object.defineProperty($,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):$[f]=g,$}class te{constructor(){let{type:f,date:g,dp:v,opts:b,body:T}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};E(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),E(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),E(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),E(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),E(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),E(this,"onChangeFocusDate",A=>{if(!A)return void(this.focused&&this.removeFocus());let I=F(A,this.date,this.type);I?this.focus():!I&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),E(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=f,this.singleType=this.type.slice(0,-1),this.date=g,this.dp=v,this.opts=b,this.body=T,this.customData=!1,this.init()}init(){let{range:f,onRenderCell:g}=this.opts;g&&(this.customData=g({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),f&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(o.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(o.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(o.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(o.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var f;let{year:g,month:v,date:b}=_(this.date),T=((f=this.customData)===null||f===void 0?void 0:f.attrs)||{};this.$cell=h({className:this._getClassName(),attrs:{"data-year":g,"data-month":v,"data-date":b,...T}})}_getClassName(){var f,g;let v=new Date,{selectOtherMonths:b,selectOtherYears:T}=this.opts,{minDate:A,maxDate:I}=this.dp,{day:K}=_(this.date),Y=this._isOutOfMinMaxRange(),q=(f=this.customData)===null||f===void 0?void 0:f.disabled,ae=L("air-datepicker-cell",`-${this.singleType}-`,{"-current-":F(v,this.date,this.type),"-min-date-":A&&F(A,this.date,this.type),"-max-date-":I&&F(I,this.date,this.type)}),ie="";switch(this.type){case o.days:ie=L({"-weekend-":this.dp.isWeekend(K),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!b||Y||q});break;case o.months:ie=L({"-disabled-":Y||q});break;case o.years:ie=L({"-other-decade-":this.isOtherDecade,"-disabled-":Y||this.isOtherDecade&&!T||q})}return L(ae,ie,(g=this.customData)===null||g===void 0?void 0:g.classes)}_getHtml(){var f;let{year:g,month:v,date:b}=_(this.date),{showOtherMonths:T,showOtherYears:A}=this.opts;if((f=this.customData)!==null&&f!==void 0&&f.html)return this.customData.html;switch(this.type){case o.days:return!T&&this.isOtherMonth?"":b;case o.months:return this.dp.locale[this.opts.monthsField][v];case o.years:return!A&&this.isOtherDecade?"":g}}_isOutOfMinMaxRange(){let{minDate:f,maxDate:g}=this.dp,{type:v,date:b}=this,{month:T,year:A,date:I}=_(b),K=v===o.days,Y=v===o.years,q=!!f&&new Date(A,Y?f.getMonth():T,K?I:f.getDate()),ae=!!g&&new Date(A,Y?g.getMonth():T,K?I:g.getDate());return f&&g?z(q,f)||J(ae,g):f?z(q,f):g?J(ae,g):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:f,rangeDateTo:g}=this.dp,v=L({"-in-range-":f&&g&&(b=this.date,T=f,A=g,J(b,T)&&z(b,A)),"-range-from-":f&&F(this.date,f,this.type),"-range-to-":g&&F(this.date,g,this.type)});var b,T,A;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),v&&this.$cell.classList.add(...v.split(" "))}_handleSelectedStatus(){let f=this.dp._checkIfDateIsSelected(this.date,this.type);f?this.select():!f&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){F(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function X($,f,g){return(f=function(v){var b=function(T,A){if(typeof T!="object"||T===null)return T;var I=T[Symbol.toPrimitive];if(I!==void 0){var K=I.call(T,A);if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(v,"string");return typeof b=="symbol"?b:String(b)}(f))in $?Object.defineProperty($,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):$[f]=g,$}let Me={[o.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${o.days}-"></div>`,[o.months]:`<div class="air-datepicker-body--cells -${o.months}-"></div>`,[o.years]:`<div class="air-datepicker-body--cells -${o.years}-"></div>`};const Ee=".air-datepicker-cell";class it{constructor(f){let{dp:g,type:v,opts:b}=f;X(this,"handleClick",T=>{let A=T.target.closest(Ee).adpCell;if(A.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let I=this.dp._checkIfDateIsSelected(A.date,A.type);I?this.dp._handleAlreadySelectedDates(I,A.date):this.dp.selectDate(A.date)}),X(this,"handleDayNameClick",T=>{let A=T.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(A),datepicker:this.dp})}),X(this,"onChangeCurrentView",T=>{T!==this.type?this.hide():(this.show(),this.render())}),X(this,"onMouseOverCell",T=>{let A=Z(T.target,Ee);this.dp.setFocusDate(!!A&&A.adpCell.date)}),X(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),X(this,"onClickBody",T=>{let{onClickDayName:A}=this.opts,I=T.target;I.closest(Ee)&&this.handleClick(T),A&&I.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(T)}),X(this,"onMouseDown",T=>{this.pressed=!0;let A=Z(T.target,Ee),I=A&&A.adpCell;F(I.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),F(I.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),X(this,"onMouseMove",T=>{if(!this.pressed||!this.dp.isMinViewReached)return;T.preventDefault();let A=Z(T.target,Ee),I=A&&A.adpCell,{selectedDates:K,rangeDateTo:Y,rangeDateFrom:q}=this.dp;if(!I||I.isDisabled)return;let{date:ae}=I;if(K.length===2){if(this.rangeFromFocused&&!J(ae,Y)){let{hours:ie,minutes:he}=_(q);ae.setHours(ie),ae.setMinutes(he),this.dp.rangeDateFrom=ae,this.dp.replaceDate(q,ae)}if(this.rangeToFocused&&!z(ae,q)){let{hours:ie,minutes:he}=_(Y);ae.setHours(ie),ae.setMinutes(he),this.dp.rangeDateTo=ae,this.dp.replaceDate(Y,ae)}}}),X(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),X(this,"onChangeViewDate",(T,A)=>{if(!this.isVisible)return;let I=R(T),K=R(A);switch(this.dp.currentView){case o.days:if(F(T,A,o.months))return;break;case o.months:if(F(T,A,o.years))return;break;case o.years:if(I[0]===K[0]&&I[1]===K[1])return}this.render()}),X(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(T=>{this.$cells.appendChild(T.render())})}),this.dp=g,this.type=v,this.opts=b,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===o.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:f,dynamicRange:g}=this.opts;j(this.$el,"mouseover",this.onMouseOverCell),j(this.$el,"mouseout",this.onMouseOutCell),j(this.$el,"click",this.onClickBody),f&&g&&(j(this.$el,"mousedown",this.onMouseDown),j(this.$el,"mousemove",this.onMouseMove),j(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(o.eventChangeViewDate,this.onChangeViewDate),this.dp.on(o.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=h({className:`air-datepicker-body -${this.type}-`,innerHtml:Me[this.type]}),this.$names=u(".air-datepicker-body--day-names",this.$el),this.$cells=u(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,g="",v=this.dp.isWeekend,{onClickDayName:b}=this.opts,T=f,A=0;for(;A<7;){let I=T%7;g+=`<div class="${L("air-datepicker-body--day-name",{[o.cssClassWeekend]:v(I),"-clickable-":!!b})}" data-day-index='${I}'>${this.dp.locale.daysMin[I]}</div>`,A++,T++}return g}_getDaysCells(){let{viewDate:f,locale:{firstDay:g}}=this.dp,v=d(f),{year:b,month:T}=_(f),A=new Date(b,T,1),I=new Date(b,T,v),K=A.getDay()-g,Y=6-I.getDay()+g;K=K<0?K+7:K,Y=Y>6?Y-7:Y;let q=function(ke,Le){let{year:me,month:S,date:m}=_(ke);return new Date(me,S,m-Le)}(A,K),ae=v+K+Y,ie=q.getDate(),{year:he,month:ge}=_(q),xe=0;for(;xe<ae;){let ke=new Date(he,ge,ie+xe);this._generateCell(ke),xe++}}_generateCell(f){let{type:g,dp:v,opts:b}=this,T=new te({type:g,dp:v,opts:b,date:f,body:this});return this.cells.push(T),T}_generateDayCells(){this._getDaysCells()}_generateMonthCells(){let{year:f}=this.dp.parsedViewDate,g=0;for(;g<12;)this.cells.push(this._generateCell(new Date(f,g))),g++}_generateYearCells(){let f=R(this.dp.viewDate),g=f[0]-1,v=f[1]+1,b=g;for(;b<=v;)this.cells.push(this._generateCell(new Date(b,0))),b++}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCells(){switch(this.type){case o.days:this._generateDayCells();break;case o.months:this._generateMonthCells();break;case o.years:this._generateYearCells()}}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(f=>f.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(o.eventChangeViewDate,this.onChangeViewDate),this.dp.off(o.eventChangeCurrentView,this.onChangeCurrentView)}}function Be($,f,g){return(f=function(v){var b=function(T,A){if(typeof T!="object"||T===null)return T;var I=T[Symbol.toPrimitive];if(I!==void 0){var K=I.call(T,A);if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(v,"string");return typeof b=="symbol"?b:String(b)}(f))in $?Object.defineProperty($,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):$[f]=g,$}class De{constructor(f){let{dp:g,opts:v}=f;Be(this,"onClickNav",b=>{let T=Z(b.target,".air-datepicker-nav--action");if(!T)return;let A=T.dataset.action;this.dp[A]()}),Be(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),Be(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),Be(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),Be(this,"update",()=>{let{prevHtml:b,nextHtml:T}=this.opts;this.$prev.innerHTML=b,this.$next.innerHTML=T,this._resetNavStatus(),this.render(),this.handleNavStatus()}),Be(this,"renderDelay",()=>{setTimeout(this.render)}),Be(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(b,T){for(let A in T)T[A]?b.classList.add(A):b.classList.remove(A)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=g,this.opts=v,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=u(".air-datepicker-nav--title",this.$el),this.$prev=u('[data-action="prev"]',this.$el),this.$next=u('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(o.eventChangeViewDate,this.onChangeViewDate),this.dp.on(o.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(o.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(o.eventChangeTime,this.render))}destroy(){this.dp.off(o.eventChangeViewDate,this.onChangeViewDate),this.dp.off(o.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(o.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(o.eventChangeTime,this.render))}_createElement(){this.$el=h({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:f,opts:g}=this,v=g.navTitles[f.currentView];return typeof v=="function"?v(f):f.formatDate(f.viewDate,v)}handleNavStatus(){let{disableNavWhenOutOfRange:f}=this.opts,{minDate:g,maxDate:v}=this.dp;if(!g&&!v||!f)return;let{year:b,month:T}=this.dp.parsedViewDate,A=!!g&&_(g),I=!!v&&_(v);switch(this.dp.currentView){case o.days:g&&A.month>=T&&A.year>=b&&this._disableNav("prev"),v&&I.month<=T&&I.year<=b&&this._disableNav("next");break;case o.months:g&&A.year>=b&&this._disableNav("prev"),v&&I.year<=b&&this._disableNav("next");break;case o.years:{let K=R(this.dp.viewDate);g&&A.year>=K[0]&&this._disableNav("prev"),v&&I.year<=K[1]&&this._disableNav("next");break}}}_disableNav(f){u('[data-action="'+f+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(f){for(var g=arguments.length,v=new Array(g>1?g-1:0),b=1;b<g;b++)v[b-1]=arguments[b];f.length?f.forEach(T=>{T.classList.remove(...v)}):f.classList.remove(...v)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:f,nextHtml:g}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${f}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${g}</div>`}get isNavIsFunction(){let{navTitles:f}=this.opts;return Object.keys(f).find(g=>typeof f[g]=="function")}}var Se={today:{content:$=>$.locale.today,onClick:$=>$.setViewDate(new Date)},clear:{content:$=>$.locale.clear,onClick:$=>$.clear()}};class Tt{constructor(f){let{dp:g,opts:v}=f;this.dp=g,this.opts=v,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=h({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:f}=this.opts;Array.isArray(f)||(f=[f]),f.forEach(g=>{let v=g;typeof g=="string"&&Se[g]&&(v=Se[g]);let b=this.createButton(v);v.onClick&&this.attachEventToButton(b,v.onClick),this.$el.appendChild(b)})}attachEventToButton(f,g){f.addEventListener("click",()=>{g(this.dp)})}createButton(f){let{content:g,className:v,tagName:b="button",attrs:T={}}=f;return h({tagName:b,innerHtml:`<span tabindex='-1'>${typeof g=="function"?g(this.dp):g}</span>`,className:L("air-datepicker-button",v),attrs:T})}render(){this.generateButtons()}}function yt($,f,g){return(f=function(v){var b=function(T,A){if(typeof T!="object"||T===null)return T;var I=T[Symbol.toPrimitive];if(I!==void 0){var K=I.call(T,A);if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(v,"string");return typeof b=="symbol"?b:String(b)}(f))in $?Object.defineProperty($,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):$[f]=g,$}class mt{constructor(){let{opts:f,dp:g}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yt(this,"toggleTimepickerIsActive",b=>{this.dp.timepickerIsActive=b}),yt(this,"onChangeSelectedDate",b=>{let{date:T,updateTime:A=!1}=b;T&&(this.setMinMaxTime(T),this.setCurrentTime(!!A&&T),this.addTimeToDate(T))}),yt(this,"onChangeLastSelectedDate",b=>{b&&(this.setTime(b),this.render())}),yt(this,"onChangeInputRange",b=>{let T=b.target;this[T.getAttribute("name")]=T.value,this.updateText(),this.dp.trigger(o.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),yt(this,"onMouseEnterLeave",b=>{let T=b.target.getAttribute("name"),A=this.$minutesText;T==="hours"&&(A=this.$hoursText),A.classList.toggle("-focus-")}),yt(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),yt(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=f,this.dp=g;let{timeFormat:v}=this.dp.locale;v&&(v.match(k("h"))||v.match(k("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(o.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(o.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let f="input";navigator.userAgent.match(/trident/gi)&&(f="change"),j(this.$ranges,f,this.onChangeInputRange),j(this.$ranges,"mouseenter",this.onMouseEnterLeave),j(this.$ranges,"mouseleave",this.onMouseEnterLeave),j(this.$ranges,"focus",this.onFocus),j(this.$ranges,"mousedown",this.onFocus),j(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=h({className:L("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(o.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(o.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:f,hours:g,displayHours:v,minutes:b,minHours:T,minMinutes:A,maxHours:I,maxMinutes:K,dayPeriod:Y,opts:{hoursStep:q,minutesStep:ae}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${O(v)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${O(b)}</span>   `+(f?`<span class='air-datepicker-time--current-ampm'>${Y}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${g}" min="${T}" max="${I}" step="${q}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${b}" min="${A}" max="${K}" step="${ae}"/>   </div></div>`}defineDOM(){let f=g=>u(g,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=f('[name="hours"]'),this.$minutes=f('[name="minutes"]'),this.$hoursText=f(".air-datepicker-time--current-hours"),this.$minutesText=f(".air-datepicker-time--current-minutes"),this.$ampm=f(".air-datepicker-time--current-ampm")}setTime(f){this.setMinMaxTime(f),this.setCurrentTime(f)}addTimeToDate(f){f&&(f.setHours(this.hours),f.setMinutes(this.minutes))}setMinMaxTime(f){if(this.setMinMaxTimeFromOptions(),f){let{minDate:g,maxDate:v}=this.dp;g&&F(f,g)&&this.setMinTimeFromMinDate(g),v&&F(f,v)&&this.setMaxTimeFromMaxDate(v)}}setCurrentTime(f){let{hours:g,minutes:v}=f?_(f):this;this.hours=se(g,this.minHours,this.maxHours),this.minutes=se(v,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:f,minMinutes:g,maxHours:v,maxMinutes:b}=this.opts;this.minHours=se(f,0,23),this.minMinutes=se(g,0,59),this.maxHours=se(v,0,23),this.maxMinutes=se(b,0,59)}setMinTimeFromMinDate(f){let{lastSelectedDate:g}=this.dp;this.minHours=f.getHours(),g&&g.getHours()>f.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=f.getMinutes()}setMaxTimeFromMaxDate(f){let{lastSelectedDate:g}=this.dp;this.maxHours=f.getHours(),g&&g.getHours()<f.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=f.getMinutes()}updateSliders(){p(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,p(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=O(this.displayHours),this.$minutesText.innerHTML=O(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(f){this._hours=f;let{hours:g,dayPeriod:v}=w(f);this.displayHours=this.ampm?g:f,this.dayPeriod=v}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function xt($,f,g){return(f=function(v){var b=function(T,A){if(typeof T!="object"||T===null)return T;var I=T[Symbol.toPrimitive];if(I!==void 0){var K=I.call(T,A);if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(v,"string");return typeof b=="symbol"?b:String(b)}(f))in $?Object.defineProperty($,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):$[f]=g,$}class kn{constructor(f){let{dp:g,opts:v}=f;xt(this,"pressedKeys",new Set),xt(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],b=>b.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],b=>b.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],b=>b.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],b=>b.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],b=>b.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],b=>b.year-=10],[["Control","Shift","ArrowUp"],(b,T)=>T.up()]])),xt(this,"handleHotKey",b=>{let T=this.hotKeys.get(b),A=_(this.getInitialFocusDate());T(A,this.dp);let{year:I,month:K,date:Y}=A,q=d(new Date(I,K));q<Y&&(Y=q);let ae=this.dp.getClampedDate(new Date(I,K,Y));this.dp.setFocusDate(ae,{viewDateTransition:!0})}),xt(this,"isHotKeyPressed",()=>{let b=!1,T=this.pressedKeys.size,A=I=>this.pressedKeys.has(I);for(let[I]of this.hotKeys){if(b)break;if(Array.isArray(I[0]))I.forEach(K=>{b||T!==K.length||(b=K.every(A)&&I)});else{if(T!==I.length)continue;b=I.every(A)&&I}}return b}),xt(this,"isArrow",b=>b>=37&&b<=40),xt(this,"onKeyDown",b=>{let{key:T,which:A}=b,{dp:I,dp:{focusDate:K},opts:Y}=this;this.registerKey(T);let q=this.isHotKeyPressed();if(q)return b.preventDefault(),void this.handleHotKey(q);if(this.isArrow(A))return b.preventDefault(),void this.focusNextCell(T);if(T==="Enter"){if(I.currentView!==Y.minView)return void I.down();if(K){let ae=I._checkIfDateIsSelected(K);return void(ae?I._handleAlreadySelectedDates(ae,K):I.selectDate(K))}}T==="Escape"&&this.dp.hide()}),xt(this,"onKeyUp",b=>{this.removeKey(b.key)}),this.dp=g,this.opts=v,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:f}=this.dp;f.addEventListener("keydown",this.onKeyDown),f.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:f}=this.dp;f.removeEventListener("keydown",this.onKeyDown),f.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:f,currentView:g,selectedDates:v,parsedViewDate:{year:b,month:T}}=this.dp,A=f||v[v.length-1];if(!A)switch(g){case o.days:A=new Date(b,T,new Date().getDate());break;case o.months:A=new Date(b,T,1);break;case o.years:A=new Date(b,0,1)}return A}focusNextCell(f){let g=this.getInitialFocusDate(),{currentView:v}=this.dp,{days:b,months:T,years:A}=o,I=_(g),K=I.year,Y=I.month,q=I.date;switch(f){case"ArrowLeft":v===b&&(q-=1),v===T&&(Y-=1),v===A&&(K-=1);break;case"ArrowUp":v===b&&(q-=7),v===T&&(Y-=3),v===A&&(K-=4);break;case"ArrowRight":v===b&&(q+=1),v===T&&(Y+=1),v===A&&(K+=1);break;case"ArrowDown":v===b&&(q+=7),v===T&&(Y+=3),v===A&&(K+=4)}let ae=this.dp.getClampedDate(new Date(K,Y,q));this.dp.setFocusDate(ae,{viewDateTransition:!0})}registerKey(f){this.pressedKeys.add(f)}removeKey(f){this.pressedKeys.delete(f)}}let Re={on($,f){this.__events||(this.__events={}),this.__events[$]?this.__events[$].push(f):this.__events[$]=[f]},off($,f){this.__events&&this.__events[$]&&(this.__events[$]=this.__events[$].filter(g=>g!==f))},removeAllEvents(){this.__events={}},trigger($){for(var f=arguments.length,g=new Array(f>1?f-1:0),v=1;v<f;v++)g[v-1]=arguments[v];this.__events&&this.__events[$]&&this.__events[$].forEach(b=>{b(...g)})}};function Te($,f,g){return(f=function(v){var b=function(T,A){if(typeof T!="object"||T===null)return T;var I=T[Symbol.toPrimitive];if(I!==void 0){var K=I.call(T,A);if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(v,"string");return typeof b=="symbol"?b:String(b)}(f))in $?Object.defineProperty($,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):$[f]=g,$}let ot="",ee="",le=!1;class oe{static buildGlobalContainer(f){le=!0,ot=h({className:f,id:f}),u("body").appendChild(ot)}constructor(f,g){var v=this;if(Te(this,"viewIndexes",[o.days,o.months,o.years]),Te(this,"next",()=>{let{year:A,month:I}=this.parsedViewDate;switch(this.currentView){case o.days:this.setViewDate(new Date(A,I+1,1));break;case o.months:this.setViewDate(new Date(A+1,I,1));break;case o.years:this.setViewDate(new Date(A+10,0,1))}}),Te(this,"prev",()=>{let{year:A,month:I}=this.parsedViewDate;switch(this.currentView){case o.days:this.setViewDate(new Date(A,I-1,1));break;case o.months:this.setViewDate(new Date(A-1,I,1));break;case o.years:this.setViewDate(new Date(A-10,0,1))}}),Te(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),Te(this,"setPosition",function(A){let I=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(A=A||v.opts.position)=="function")return void(v.customHide=A({$datepicker:v.$datepicker,$target:v.$el,$pointer:v.$pointer,isViewChange:I,done:v._finishHide}));let K,Y,{isMobile:q}=v.opts,ae=v.$el.getBoundingClientRect(),ie=v.$el.getBoundingClientRect(),he=v.$datepicker.offsetParent,ge=v.$el.offsetParent,xe=v.$datepicker.getBoundingClientRect(),ke=A.split(" "),Le=window.scrollY,me=window.scrollX,S=v.opts.offset,m=ke[0],D=ke[1];if(q)v.$datepicker.style.cssText="left: 50%; top: 50%";else{if(he===ge&&he!==document.body&&(ie={top:v.$el.offsetTop,left:v.$el.offsetLeft,width:ae.width,height:v.$el.offsetHeight},Le=0,me=0),he!==ge&&he!==document.body){let N=he.getBoundingClientRect();ie={top:ae.top-N.top,left:ae.left-N.left,width:ae.width,height:ae.height},Le=0,me=0}switch(m){case"top":K=ie.top-xe.height-S;break;case"right":Y=ie.left+ie.width+S;break;case"bottom":K=ie.top+ie.height+S;break;case"left":Y=ie.left-xe.width-S}switch(D){case"top":K=ie.top;break;case"right":Y=ie.left+ie.width-xe.width;break;case"bottom":K=ie.top+ie.height-xe.height;break;case"left":Y=ie.left;break;case"center":/left|right/.test(m)?K=ie.top+ie.height/2-xe.height/2:Y=ie.left+ie.width/2-xe.width/2}v.$datepicker.style.cssText=`left: ${Y+me}px; top: ${K+Le}px`}}),Te(this,"_setInputValue",()=>{let{opts:A,$altField:I,locale:{dateFormat:K}}=this,{altFieldDateFormat:Y,altField:q}=A;q&&I&&(I.value=this._getInputValue(Y)),this.$el.value=this._getInputValue(K)}),Te(this,"_getInputValue",A=>{let{selectedDates:I,opts:K}=this,{multipleDates:Y,multipleDatesSeparator:q}=K;if(!I.length)return"";let ae=typeof A=="function",ie=ae?A(Y?I:I[0]):I.map(he=>this.formatDate(he,A));return ie=ae?ie:ie.join(q),ie}),Te(this,"_checkIfDateIsSelected",function(A){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.days,K=!1;return v.selectedDates.some(Y=>{let q=F(A,Y,I);return K=q&&Y,q}),K}),Te(this,"_scheduleCallAfterTransition",A=>{this._cancelScheduledCall(),A&&A(!1),this._onTransitionEnd=()=>{A&&A(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),Te(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),Te(this,"setViewDate",A=>{if(!((A=ve(A))instanceof Date)||F(A,this.viewDate))return;let I=this.viewDate;this.viewDate=A;let{onChangeViewDate:K}=this.opts;if(K){let{month:Y,year:q}=this.parsedViewDate;K({month:Y,year:q,decade:this.curDecade})}this.trigger(o.eventChangeViewDate,A,I)}),Te(this,"setFocusDate",function(A){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!A||(A=ve(A))instanceof Date)&&(v.focusDate=A,v.opts.range&&A&&v._handleRangeOnFocus(),v.trigger(o.eventChangeFocusDate,A,I))}),Te(this,"setCurrentView",A=>{if(this.viewIndexes.includes(A)){if(this.currentView=A,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(o.eventChangeCurrentView,A),!this.views[A]){let I=this.views[A]=new it({dp:this,opts:this.opts,type:A});this.shouldUpdateDOM&&this.$content.appendChild(I.$el)}this.opts.onChangeView&&this.opts.onChangeView(A)}}),Te(this,"_updateLastSelectedDate",A=>{this.lastSelectedDate=A,this.trigger(o.eventChangeLastSelectedDate,A)}),Te(this,"destroy",()=>{let{showEvent:A,isMobile:I}=this.opts,K=this.$datepicker.parentNode;K&&K.removeChild(this.$datepicker),this.$el.removeEventListener(A,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),I&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),Te(this,"update",A=>{let I=ne({},this.opts);ne(this.opts,A);let{timepicker:K,buttons:Y,range:q,selectedDates:ae,isMobile:ie}=this.opts,he=this.visible||this.treatAsInline;this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this._handleLocale(),!I.selectedDates&&ae&&this.selectDate(ae),A.view&&this.setCurrentView(A.view),this._setInputValue(),I.range&&!q?(this.rangeDateTo=!1,this.rangeDateFrom=!1):!I.range&&q&&this.selectedDates.length&&(this.rangeDateFrom=this.selectedDates[0],this.rangeDateTo=this.selectedDates[1]),I.timepicker&&!K?(he&&this.timepicker.destroy(),this.timepicker=!1,this.$timepicker.parentNode.removeChild(this.$timepicker)):!I.timepicker&&K&&this._addTimepicker(),!I.buttons&&Y?this._addButtons():I.buttons&&!Y?(this.buttons.destroy(),this.$buttons.parentNode.removeChild(this.$buttons)):he&&I.buttons&&Y&&this.buttons.clearHtml().render(),!I.isMobile&&ie?(this.treatAsInline||ee||this._createMobileOverlay(),this._addMobileAttributes(),this.visible&&this._showMobileOverlay()):I.isMobile&&!ie&&(this._removeMobileAttributes(),this.visible&&(ee.classList.remove("-active-"),typeof this.opts.position!="function"&&this.setPosition())),he&&(this.nav.update(),this.views[this.currentView].render(),this.currentView===o.days&&this.views[this.currentView].renderDayNames())}),Te(this,"isOtherMonth",A=>{let{month:I}=_(A);return I!==this.parsedViewDate.month}),Te(this,"isOtherYear",A=>{let{year:I}=_(A);return I!==this.parsedViewDate.year}),Te(this,"isOtherDecade",A=>{let{year:I}=_(A),[K,Y]=R(this.viewDate);return I<K||I>Y}),Te(this,"_onChangeSelectedDate",A=>{let{silent:I}=A;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!I&&this._triggerOnSelect()})}),Te(this,"_onChangeFocusedDate",function(A){let{viewDateTransition:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!A)return;let K=!1;I&&(K=v.isOtherMonth(A)||v.isOtherYear(A)||v.isOtherDecade(A)),K&&v.setViewDate(A)}),Te(this,"_onChangeTime",A=>{let{hours:I,minutes:K}=A,Y=new Date,{lastSelectedDate:q,opts:{onSelect:ae}}=this,ie=q;q||(ie=Y);let he=this.getCell(ie,this.currentViewSingular),ge=he&&he.adpCell;ge&&ge.isDisabled||(ie.setHours(I),ie.setMinutes(K),q?(this._setInputValue(),ae&&this._triggerOnSelect()):this.selectDate(ie))}),Te(this,"_onFocus",A=>{this.visible||this.show()}),Te(this,"_onBlur",A=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),Te(this,"_onMouseDown",A=>{this.inFocus=!0}),Te(this,"_onMouseUp",A=>{this.inFocus=!1,this.$el.focus()}),Te(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),Te(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),Te(this,"isWeekend",A=>this.opts.weekends.includes(A)),Te(this,"getClampedDate",A=>{let{minDate:I,maxDate:K}=this,Y=A;return K&&J(A,K)?Y=K:I&&z(A,I)&&(Y=I),Y}),this.$el=u(f),!this.$el)return;this.$datepicker=h({className:"air-datepicker"}),this.opts=ne({},l,g),this.$customContainer=!!this.opts.container&&u(this.opts.container),this.$altField=u(this.opts.altField||!1);let{view:b,startDate:T}=this.opts;T||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=ve(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=b,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:f,treatAsInline:g,opts:{inline:v,isMobile:b,selectedDates:T,keyboardNav:A,onlyTimepicker:I}}=this,K=u("body");(!le||le&&ot&&!K.contains(ot))&&!v&&this.elIsInput&&!this.$customContainer&&oe.buildGlobalContainer(oe.defaultGlobalContainerId),!b||ee||g||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(v||this._bindEvents(),A&&!I&&(this.keyboardNav=new kn({dp:this,opts:f}))),T&&this.selectDate(T,{silent:!0}),this.opts.visible&&!g&&this.show(),b&&!g&&this.$el.setAttribute("readonly",!0),g&&this._createComponents()}_createMobileOverlay(){ee=h({className:"air-datepicker-overlay"}),ot.appendChild(ee)}_createComponents(){let{opts:f,treatAsInline:g,opts:{inline:v,buttons:b,timepicker:T,position:A,classes:I,onlyTimepicker:K,isMobile:Y}}=this;this._buildBaseHtml(),this.elIsInput&&(v||this._setPositionClasses(A)),!v&&this.elIsInput||this.$datepicker.classList.add("-inline-"),I&&this.$datepicker.classList.add(...I.split(" ")),K&&this.$datepicker.classList.add("-only-timepicker-"),Y&&!g&&this._addMobileAttributes(),this.views[this.currentView]=new it({dp:this,type:this.currentView,opts:f}),this.nav=new De({dp:this,opts:f}),T&&this._addTimepicker(),b&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let f in this.views)this.views[f].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){ee.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){ee.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:f,maxDate:g}=this.opts;this.minDate=!!f&&ve(f),this.maxDate=!!g&&ve(g)}_addTimepicker(){this.$timepicker=h({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new mt({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=h({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new Tt({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(o.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(o.eventChangeFocusDate,this._onChangeFocusedDate),this.on(o.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:f}=this.opts;var g,v;this.elIsInput?f?(g=this.$datepicker,(v=this.$el).parentNode.insertBefore(g,v.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=u(".air-datepicker--content",this.$datepicker),this.$pointer=u(".air-datepicker--pointer",this.$datepicker),this.$nav=u(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:f,dateFormat:g,firstDay:v,timepicker:b,onlyTimepicker:T,timeFormat:A,dateTimeSeparator:I}=this.opts;var K;this.locale=(K=f,JSON.parse(JSON.stringify(K))),g&&(this.locale.dateFormat=g),A!==void 0&&A!==""&&(this.locale.timeFormat=A);let{timeFormat:Y}=this.locale;if(v!==""&&(this.locale.firstDay=v),b&&typeof g!="function"){let q=Y?I:"";this.locale.dateFormat=[this.locale.dateFormat,Y||""].join(q)}T&&typeof g!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(f){if(typeof f=="function")return void this.$datepicker.classList.add("-custom-position-");let g=(f=f.split(" "))[0],v=`air-datepicker -${g}-${f[1]}- -from-${g}-`;this.$datepicker.classList.add(...v.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:f,minDate:g,maxDate:v}=this;v&&J(f,v)&&this.setViewDate(v),g&&z(f,g)&&this.setViewDate(g)}formatDate(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,g=arguments.length>1?arguments[1]:void 0;if(f=ve(f),!(f instanceof Date))return;let v=g,b=this.locale,T=_(f),A=T.dayPeriod,I=R(f),K=oe.replacer,Y={T:f.getTime(),m:T.minutes,mm:T.fullMinutes,h:T.hours12,hh:T.fullHours12,H:T.hours,HH:T.fullHours,aa:A,AA:A.toUpperCase(),E:b.daysShort[T.day],EEEE:b.days[T.day],d:T.date,dd:T.fullDate,M:T.month+1,MM:T.fullMonth,MMM:b.monthsShort[T.month],MMMM:b.months[T.month],yy:T.year.toString().slice(-2),yyyy:T.year,yyyy1:I[0],yyyy2:I[1]};for(let[q,ae]of Object.entries(Y))v=K(v,k(q),ae);return v}down(f){this._handleUpDownActions(f,"down")}up(f){this._handleUpDownActions(f,"up")}selectDate(f){let g,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:b,parsedViewDate:T,selectedDates:A}=this,{updateTime:I}=v,{moveToOtherMonthsOnSelect:K,moveToOtherYearsOnSelect:Y,multipleDates:q,range:ae,autoClose:ie}=this.opts,he=A.length;if(Array.isArray(f))return f.forEach(ge=>{this.selectDate(ge,v)}),new Promise(ge=>{setTimeout(ge)});if((f=ve(f))instanceof Date){if(b===o.days&&f.getMonth()!==T.month&&K&&(g=new Date(f.getFullYear(),f.getMonth(),1)),b===o.years&&f.getFullYear()!==T.year&&Y&&(g=new Date(f.getFullYear(),0,1)),g&&this.setViewDate(g),q&&!ae){if(he===q)return;this._checkIfDateIsSelected(f)||A.push(f)}else if(ae)switch(he){case 1:A.push(f),this.rangeDateTo||(this.rangeDateTo=f),J(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=f),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[f],this.rangeDateFrom=f,this.rangeDateTo="";break;default:this.selectedDates=[f],this.rangeDateFrom=f}else this.selectedDates=[f];return this.trigger(o.eventChangeSelectedDate,{action:o.actionSelectDate,silent:v==null?void 0:v.silent,date:f,updateTime:I}),this._updateLastSelectedDate(f),ie&&!this.timepickerIsActive&&this.visible&&(q||ae?ae&&he===1&&this.hide():this.hide()),new Promise(ge=>{setTimeout(ge)})}}unselectDate(f){let g=this.selectedDates,v=this;if((f=ve(f))instanceof Date)return g.some((b,T)=>{if(F(b,f))return g.splice(T,1),v.selectedDates.length?v._updateLastSelectedDate(v.selectedDates[v.selectedDates.length-1]):(v.rangeDateFrom="",v.rangeDateTo="",v._updateLastSelectedDate(!1)),this.trigger(o.eventChangeSelectedDate,{action:o.actionUnselectDate,date:f}),!0})}replaceDate(f,g){let v=this.selectedDates.find(T=>F(T,f,this.currentView)),b=this.selectedDates.indexOf(v);b<0||F(this.selectedDates[b],g,this.currentView)||(this.selectedDates[b]=g,this.trigger(o.eventChangeSelectedDate,{action:o.actionSelectDate,date:g,updateTime:!0}),this._updateLastSelectedDate(g))}clear(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.trigger(o.eventChangeSelectedDate,{action:o.actionUnselectDate,silent:f.silent}),new Promise(g=>{setTimeout(g)})}show(){let{onShow:f,isMobile:g}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,f&&this._scheduleCallAfterTransition(f),g&&this._showMobileOverlay()}hide(){let{onHide:f,isMobile:g}=this.opts,v=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(b=>{!this.customHide&&(b&&v||!b&&!v)&&this._finishHide(),f&&f(b)}),g&&ee.classList.remove("-active-")}_triggerOnSelect(){let f=[],g=[],{selectedDates:v,locale:b,opts:{onSelect:T,multipleDates:A,range:I}}=this,K=A||I,Y=typeof b.dateFormat=="function";v.length&&(f=v.map(B),g=Y?A?b.dateFormat(f):f.map(q=>b.dateFormat(q)):f.map(q=>this.formatDate(q,b.dateFormat))),T({date:K?f:f[0],formattedDate:K?g:g[0],datepicker:this})}_handleAlreadySelectedDates(f,g){let{range:v,toggleSelected:b}=this.opts;v?b?this.unselectDate(g):this.selectedDates.length!==2&&this.selectDate(g):b&&this.unselectDate(g),b||this._updateLastSelectedDate(f)}_handleUpDownActions(f,g){if(!((f=ve(f||this.focusDate||this.viewDate))instanceof Date))return;let v=g==="up"?this.viewIndex+1:this.viewIndex-1;v>2&&(v=2),v<0&&(v=0),this.setViewDate(new Date(f.getFullYear(),f.getMonth(),1)),this.setCurrentView(this.viewIndexes[v])}_handleRangeOnFocus(){this.selectedDates.length===1&&(J(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(f){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.day;if(!((f=ve(f))instanceof Date))return;let{year:v,month:b,date:T}=_(f),A=`[data-year="${v}"]`,I=`[data-month="${b}"]`,K={[o.day]:`${A}${I}[data-date="${T}"]`,[o.month]:`${A}${I}`,[o.year]:`${A}`};return this.views[this.currentView].$el.querySelector(K[g])}_showMobileOverlay(){ee.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((f,g)=>parseFloat(g)+f,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return _(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return R(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===o.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===o.days}get $container(){return this.$customContainer||ot}static replacer(f,g,v){return f.replace(g,function(b,T,A,I){return T+v+I})}}var de;return Te(oe,"defaults",l),Te(oe,"version","3.3.5"),Te(oe,"defaultGlobalContainerId","air-datepicker-global-container"),de=oe.prototype,Object.assign(de,Re),s.default}()})})(yy);var pT=yy.exports;const Rp=iT(pT);class gT{constructor(){Vn(this,"list",Dr([]))}getLastParsingInfo(t){var r;return(r=this.list.value.find(s=>s.url===t.url))==null?void 0:r.parsingResults[0]}async pushParsingResult(t){try{let r=Xe.list.value.find(o=>o.url===t),s=await It.profilesSavedList.where("url").equals(t).toArray();if(s.length&&s[0]&&r){let o=JSON.parse(JSON.stringify(r)),l=s[0];l.parsingResults.unshift({parsingDate:o.parsingDate,rating:o.rating,reviewsCount:o.reviewsCount,deliveryInfo:o.deliveryInfo,subscribers:o.subscribers,activeAdds:o.activeAdds,completedAdds:o.completedAdds});const u=await It.profilesSavedList.put(l)}}catch(r){console.log(r)}finally{}}async apiGetList(t=0,r=0){return t===0&&r===0?await It.profilesSavedList.toArray():[]}async apiProfileUpdate(t){try{let r=JSON.parse(JSON.stringify(t));if(r.opened=!1,r.loading=!1,await It.profilesSavedList.put(r))dt.show("success",ct.ProfileEdited);else throw new Error}catch{dt.show("error",ct.ProfileEditeError)}finally{}}async apiProfileDelete(t){try{await It.profilesSavedList.delete(t.id),dt.show("success",ct.ProfileDeleted)}catch(r){console.log(r),dt.show("error",ct.ProfileDeleteError)}finally{}}}const en=new gT;class yT{constructor(){Vn(this,"list",Dr([]));Vn(this,"state",Pi({loading:!1,currentPage:0,profilesListSortType:"name_asc",profilesInParsingFilter:{}}))}sortProfileList(t="name_asc"){this.state.profilesListSortType=t;let r=JSON.parse(JSON.stringify(this.list.value)),s=[];t==="name_desc"&&(s=cn.orderBy(r,["name"],["desc"])),t==="name_asc"&&(s=cn.orderBy(r,["name"],["asc"])),t==="rating_desc"&&(s=cn.orderBy(r,["rating"],["desc"])),t==="rating_asc"&&(s=cn.orderBy(r,["rating"],["asc"])),t==="reviews_desc"&&(s=cn.orderBy(r,["reviewsCount"],["desc"])),t==="reviews_asc"&&(s=cn.orderBy(r,["reviewsCount"],["asc"])),t==="db_exist_desc"&&(s=cn.orderBy(r,["existsInDataBase"],["desc","asc"])),t==="db_exist_asc"&&(s=cn.orderBy(r,["existsInDataBase"],["asc","desc"])),this.list.value=[],this.list.value=s}async checkProfilesInDB(){let t=await en.apiGetList();this.list.value.forEach(r=>{let s=r.url.split("/")[4];if(s){let o=t.find(l=>l.url.includes(s));o&&o.name===r.name&&(r.existsInDataBase=!0)}})}async pushProfilesList(t){let r=cn.uniqWith(t,cn.isEqual);this.list.value=r,this.sortProfileList(),await this.checkProfilesInDB(),this.checkProfilesInParsingFilter()}checkProfilesInParsingFilter(){Ye.fields.profilesLinks.forEach(r=>{let s=this.list.value.find(o=>o.url===r.url);s&&(this.state.profilesInParsingFilter[s.url]=s)})}removeLinksFromParsingFilter(t){delete this.state.profilesInParsingFilter[t]}clearProfilesList(){window.confirm("Удаляем список продавцов ?")&&(this.list.value=[],this.state.profilesInParsingFilter={},this.apiRemoveList())}async apiCreateList(){try{let t=JSON.parse(JSON.stringify(this.list.value));t.length&&(It.profilesSearchedList.clear(),It.profilesSearchedList.bulkAdd(t),dt.show("success",ct.ProfilesSearchedListCreated))}catch(t){console.log(t)}finally{}}async apiGetList(){try{const t=await It.profilesSearchedList.toArray();if(t.length)return t}catch(t){console.log(t)}finally{}return[]}async apiRemoveList(){try{await It.profilesSearchedList.clear(),dt.show("warning",ct.ProfileInfoListRemovedFromDB)}catch(t){console.log(t)}finally{}}}const Dt=new yT;class mT{constructor(){Vn(this,"fields",Pi({profilesLinks:[{url:"",status:"new",highlight:!1}],productName:"",dateFrom:"",dateTo:"",ratingFrom:4,ratingTo:5,deliveryOnly:!1,closeTabs:!0}));Vn(this,"openedTab",Dr({}))}get profileLinkNew(){return this.fields.profilesLinks.find(t=>t.status==="new")}get profileLinkHighlighted(){return this.fields.profilesLinks.find(t=>t.highlight)}profileLinkGetByUrl(t){return this.fields.profilesLinks.find(r=>r.url===t)}profileLinkPushNew(t=""){this.fields.profilesLinks.push({url:t,status:"new",highlight:!1})}profileLinksRemoveEmpty(){this.fields.profilesLinks.forEach((t,r,s)=>{t.url===""&&s.splice(r,1)})}profileLinkRemove(t,r){Dt.removeLinksFromParsingFilter(t.url),this.fields.profilesLinks.length===1?(this.fields.profilesLinks[0].url="",this.fields.profilesLinks[0].status="new",this.fields.profilesLinks[0].info=""):this.fields.profilesLinks.splice(r,1),this.profileLinksHighlightDuplicates()}profileLinksHighlightDuplicates(){this.fields.profilesLinks.forEach((t,r,s)=>{let o=s.filter(l=>l.url===t.url&&t.url!=="");t.highlight=o.length>1})}profileLinkSetInfo(t,r){const s=this.profileLinkGetByUrl(t);s&&(s.info=`
                ${r.name}&nbsp;&nbsp;/&nbsp;&nbsp; 
                ${r.rating}&nbsp;&nbsp;/&nbsp;&nbsp; 
                ${r.reviewsCount}&nbsp;&nbsp;/&nbsp;&nbsp; 
                ${r.subscribers}&nbsp;&nbsp;/&nbsp;&nbsp; 
                ${r.deliveryInfo}&nbsp;&nbsp;/&nbsp;&nbsp;
                Активные ${r.activeAdds}
                ${r.completedAdds?"&nbsp;&nbsp;/&nbsp;&nbsp; Завершенные "+r.completedAdds:""}
            `)}profileLinksPasteMultiple(t,r){let s=r.value.split(" ");if(s=s.filter(o=>o!==""),s.length>1){s.forEach((o,l)=>{l===0?t.url=o.trim():this.profileLinkPushNew(o.trim())});return}t.url=r.value.trim()}profileLinkSetStatus(t,r){const s=this.profileLinkGetByUrl(t);s&&(s.status=r)}async setFilterFromDB(){try{const t=await this.apiGetFilter();if(t)return this.fields.profilesLinks=t.profilesLinks,this.fields.ratingFrom=t.ratingFrom,this.fields.ratingTo=t.ratingTo,this.fields.productName=t.productName,this.fields.deliveryOnly=t.deliveryOnly,this.fields.closeTabs=t.closeTabs,t}catch(t){console.log(t),dt.show("error",ct.ReviewsFilterGetError)}finally{}}async resetFields(){this.fields.profilesLinks=[{url:"",status:"new",highlight:!1}],this.fields.productName="",this.fields.dateFrom="",this.fields.dateTo="",this.fields.ratingFrom=4,this.fields.ratingTo=5,this.fields.deliveryOnly=!1,this.fields.closeTabs=!0}async parsingStart(){try{if(this.profileLinkNew){const t=this.fields.profilesLinks.map(s=>s.url);Xe.list.value=Xe.list.value.filter(s=>t.includes(s.url)||s.marked);const r=await gy(this.profileLinkNew.url);this.openedTab.value=r,r.id&&chrome.tabs.sendMessage(r.id,{action:"reviews-parsing-start",reviewsFilterFields:this.fields,currentUrl:this.profileLinkNew.url})}else dt.show("warning",ct.ReviewsFilterAllLinksParsed)}catch{dt.show("error",ct.TabOpenError)}}async apiRemoveFilter(){try{await It.profilesParseFilter.clear(),dt.show("warning",ct.ReviewsFilterCleared)}catch(t){console.log(t),dt.show("warning",ct.ReviewsFilterClearError)}}async apiGetFilter(){const t=await It.profilesParseFilter.toArray();if(t.length&&t[0]){const r={...t[0]};return delete r.key,r}return null}async apiCreateFilter(){try{const t=JSON.parse(JSON.stringify(this.fields));t.dateFrom=$p(t.dateFrom),t.dateTo=$p(t.dateTo),await It.profilesParseFilter.clear(),await It.profilesParseFilter.add(t),dt.show("success",ct.ReviewsFilterSaved)}catch(t){console.log(t),dt.show("error",ct.ReviewsFilterSaveError)}}}const Ye=new mT,vT=["onSubmit"],_T={class:"grid grid-cols-4 gap-5"},bT={class:"col-span-4"},wT=G("div",{class:"text-sm font-medium mb-2"},"Ссылки на профили",-1),xT={class:"flex items-center gap-4"},ST={class:"flex-none select-none"},CT={key:0,class:"font-icon text-3xl block text-green-400"},TT={key:1,class:"font-icon text-3xl block text-red-400"},AT={key:2,class:"font-icon text-3xl block text-green-400 animate-spin"},DT={key:3,class:"font-icon text-3xl block text-gray-400"},ET=["onUpdate:modelValue","onInput"],OT={class:"flex-none cursor-pointer select-none"},kT=["onClick"],PT={class:"flex-none cursor-pointer select-none ml-auto"},IT=["innerHTML"],LT=G("div",{class:"mb-2 text-sm font-medium"},"Дата от",-1),$T=G("div",{class:"mb-2 text-sm font-medium"},"Дата до",-1),FT={class:"col-span-2"},NT=G("div",{class:"mb-2 text-sm font-medium"},"Название товара",-1),RT=G("div",{class:"mb-2 text-sm font-medium"},"Рейтинг от",-1),BT=G("div",{class:"mb-2 text-sm font-medium"},"Рейтинг до",-1),MT={class:"col-span-4"},UT={class:"flex items-center"},KT={class:"inline-block w-1/4"},jT=G("div",{class:"mb-3 text-sm font-medium"},"Только с доставкой",-1),HT={class:"inline-block w-1/4"},VT=G("div",{class:"mb-3 text-sm font-medium"},"Закрывать вкладки",-1),WT={class:"flex items-center gap-4 mt-10"},qT=qn({__name:"ProfilesParseFilter",setup(e){const t={dateFrom:null,dateTo:null},r={autoClose:!0,onSelect:({formattedDate:h,datepicker:p})=>{p.$el.id==="dateFrom"&&(Ye.fields.dateFrom=h),p.$el.id==="dateTo"&&(Ye.fields.dateTo=h)}};function s(h,p){Ye.profileLinksPasteMultiple(h,p.target),Ye.profileLinksHighlightDuplicates(),h.status="new",h.info=""}async function o(){window.confirm("Очистить весь список ?")&&(Xe.list.value=[],Xe.apiRemoveList())}async function l(){window.confirm("Очистить список незакрепленных?")&&(Xe.list.value=Xe.list.value.filter(h=>h.marked),Xe.apiRemoveListUnmarkedOnly())}async function u(){if(Ye.profileLinkHighlighted){dt.show("error",ct.ReviewsFilterSimilarLinks);return}Ye.apiCreateFilter(),Ye.parsingStart()}return rs(()=>{t.dateFrom=new Rp("#dateFrom",r),t.dateTo=new Rp("#dateTo",r),t.dateFrom.selectDate(eT()),t.dateTo.selectDate(new Date),setTimeout(async()=>{const h=await Ye.apiGetFilter();h&&(t.dateFrom.selectDate(h.dateFrom),t.dateTo.selectDate(h.dateTo))},0)}),Bo(()=>{t.dateFrom.destroy(),t.dateTo.destroy()}),(h,p)=>(be(),Oe("form",{class:"pb-14 transition-opacity duration-300 delay-100",onSubmit:Yt(u,["prevent"])},[G("div",_T,[G("div",bT,[wT,(be(!0),Oe(Kt,null,Qr(_e(Ye).fields.profilesLinks,(d,_)=>(be(),Oe("div",{key:_,class:_n(_>0?"mt-5":"")},[G("div",xT,[G("div",ST,[d.status==="success"?(be(),Oe("i",CT,"check_circle")):bt("",!0),d.status==="error"?(be(),Oe("i",TT,"cancel")):bt("",!0),d.status==="wait"?(be(),Oe("i",AT,"rotate_right")):bt("",!0),d.status==="new"?(be(),Oe("i",DT,"watch_later")):bt("",!0)]),nr(G("input",{"onUpdate:modelValue":w=>d.url=w,tabindex:"1",type:"search",required:"",class:_n(["text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400",{"ring-4 ring-red-400":d.highlight}]),onInput:w=>s(d,w)},null,42,ET),[[rr,d.url]]),G("div",OT,[G("i",{class:"font-icon text-3xl block text-red-400",onClick:w=>_e(Ye).profileLinkRemove(d,_)},"remove_circle_outline",8,kT)]),G("div",PT,[G("i",{class:"font-icon text-3xl block text-green-400",onClick:p[0]||(p[0]=w=>_e(Ye).profileLinkPushNew())},"add_circle_outline")])]),d.info?(be(),Oe("div",{key:0,class:"mt-3 ml-12 font-medium",innerHTML:d.info},null,8,IT)):bt("",!0)],2))),128))]),G("div",null,[LT,nr(G("input",{"onUpdate:modelValue":p[1]||(p[1]=d=>_e(Ye).fields.dateFrom=d),tabindex:"2",required:"",autocomplete:"off",type:"text",id:"dateFrom",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[rr,_e(Ye).fields.dateFrom]])]),G("div",null,[$T,nr(G("input",{"onUpdate:modelValue":p[2]||(p[2]=d=>_e(Ye).fields.dateTo=d),tabindex:"3",autocomplete:"off",required:"",type:"text",id:"dateTo",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[rr,_e(Ye).fields.dateTo]])]),G("div",FT,[NT,nr(G("input",{"onUpdate:modelValue":p[3]||(p[3]=d=>_e(Ye).fields.productName=d),tabindex:"9",type:"search",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[rr,_e(Ye).fields.productName]])]),G("div",null,[RT,nr(G("input",{"onUpdate:modelValue":p[4]||(p[4]=d=>_e(Ye).fields.ratingFrom=d),tabindex:"4",type:"number",min:"1",max:"5",required:"",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[rr,_e(Ye).fields.ratingFrom]])]),G("div",null,[BT,nr(G("input",{"onUpdate:modelValue":p[5]||(p[5]=d=>_e(Ye).fields.ratingTo=d),tabindex:"5",type:"number",min:"1",max:"5",required:"",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[rr,_e(Ye).fields.ratingTo]])]),G("div",MT,[G("div",UT,[G("label",KT,[jT,ft(Np,{tabindex:6,modelValue:_e(Ye).fields.deliveryOnly,"onUpdate:modelValue":p[6]||(p[6]=d=>_e(Ye).fields.deliveryOnly=d)},null,8,["modelValue"])]),G("label",HT,[VT,ft(Np,{tabindex:7,modelValue:_e(Ye).fields.closeTabs,"onUpdate:modelValue":p[7]||(p[7]=d=>_e(Ye).fields.closeTabs=d)},null,8,["modelValue"])])])])]),G("div",WT,[ft(Cn,{tabindex:"7",theme:"success",type:"submit",icon:"find_in_page"},{default:fn(()=>[hn("Начать парсинг")]),_:1}),ft(Cn,{theme:"warning",type:"button",icon:"delete",onClick:Yt(l,["stop"])},{default:fn(()=>[hn("Очистить незакрепленные")]),_:1},8,["onClick"]),ft(Cn,{theme:"danger",type:"button",icon:"delete_forever",onClick:Yt(o,["stop"])},{default:fn(()=>[hn("Очистить весь список")]),_:1},8,["onClick"])])],40,vT))}}),GT=["onKeydown"],my=qn({__name:"Modal",props:{width:{default:"580px"}},emits:["close"],setup(e,{emit:t}){const r=e,s=Dr();function o(u){const h=u.target;!h.classList.contains("app-modal__body")&&!h.closest(".app-modal__body")&&l()}function l(){t("close")}return Bo(()=>{document.body.classList.remove("overflow-hidden")}),rs(()=>{var u;(u=s==null?void 0:s.value)==null||u.focus({preventScroll:!0}),document.body.classList.add("overflow-hidden")}),(u,h)=>(be(),Oe("div",{ref_key:"modalRef",ref:s,tabindex:"0",class:"app-modal fixed inset-0 bg-black bg-opacity-60 z-100 overflow-y-scroll p-10 flex",onClick:o,onKeydown:ZS(l,["esc"])},[G("div",{class:"app-modal__body relative bg-gray-600 shadow-xl rounded-xl p-10 m-auto max-w-full min-h-[100px] break-all",style:Ji({width:r.width})},[G("div",{class:"font-icon absolute right-4 top-4 z-10 cursor-pointer text-3xl",onClick:l},"close"),xg(u.$slots,"default")],4)],40,GT))}}),JT=["onClick"],xi=qn({__name:"SortHeading",props:{currentSortType:{default:""},sortTypes:{default:()=>[]},label:{default:""}},emits:["sort"],setup(e,{emit:t}){const r=e,s=rf(()=>!!(r.sortTypes.includes(r.currentSortType)&&r.currentSortType.includes("asc")));function o(){r.currentSortType.includes("desc")?t("sort",r.sortTypes.find(l=>l.includes("asc"))):t("sort",r.sortTypes.find(l=>l.includes("desc")))}return(l,u)=>(be(),Oe("div",{class:"flex items-center cursor-pointer select-none whitespace-nowrap",onClick:Yt(o,["prevent"])},[G("div",{class:_n(["font-icon mr-2",[{"text-cyan-400":r.sortTypes.includes(r.currentSortType)},{"rotate-180":s.value}]])},"sort",2),G("div",null,Ze(r.label),1)],8,JT))}}),YT={key:0,class:"pb-10"},zT=["onClick"],XT={class:"min-w-0 flex-1"},ZT={class:"flex items-center gap-4 mb-4"},QT=["onClick"],eA={key:0,class:"text-[16px] text-sky-300 font-medium italic"},tA={class:"flex flex-wrap items-center gap-x-4 gap-y-2 text-[16px] font-medium"},nA={class:"text-orange-300"},rA={class:"text-yellow-300"},iA={class:"text-teal-300"},sA={class:"text-rose-300"},oA={class:"text-amber-300"},aA={key:0,class:"text-lime-300"},lA={key:1,class:"text-gray-300"},uA={class:"flex-none flex items-center gap-4"},cA=["onClick"],fA={key:0,class:"font-icon text-3xl text-white drop-shadow-xl"},hA=["onClick"],dA=["onClick"],pA={key:0,class:"text-[14px] px-4 p-5"},gA={key:0,class:"mb-8"},yA=G("div",{class:"mb-3 opacity-80"},"Комментарий:",-1),mA=["onUpdate:modelValue"],vA={key:0},_A={class:"mb-8 font-bold text-xl"},bA={class:"w-full relative"},wA={class:"text-[16px] sticky top-[64px] bg-gray-600"},xA={class:"text-left px-4 py-2 border border-white border-opacity-50"},SA={class:"text-left px-4 py-2 border border-white border-opacity-50"},CA={class:"text-left px-4 py-2 border border-white border-opacity-50"},TA={class:"text-left px-4 py-2 border border-white border-opacity-50"},AA={class:"px-4 py-2 border border-white border-opacity-50 font-medium"},DA={class:"px-4 py-2 border border-white border-opacity-50"},EA={class:"flex-none flex items-center"},OA={class:"text-base font-medium mr-1"},kA=["ley"],PA={class:"px-4 py-2 border border-white border-opacity-50"},IA={class:"flex items-center gap-4"},LA=["onClick"],$A={class:"px-4 py-2 border border-white border-opacity-50"},FA={key:2,class:"text-xl font-bold text-red-300"},NA=["title"],RA=["onClick"],BA=["href"],MA={key:0},UA={key:1},KA={key:1,class:"text-center text-xl font-bold"},jA={key:1,class:"text-center text-xl font-bold pb-10"},HA=qn({__name:"ProfilesParsedList",setup(e){function t(){Xe.state.contentModalVisible=!1,Xe.state.contentModalData=[]}function r(d){mf(d),dt.show("success",ct.ProductNameCopied)}function s(d,_){Xe.sortResults(d,_)}function o(d){d.opened===void 0&&(d.opened=!0),d.opened=!d.opened}function l(d){d.url&&window.open(d.url,"_blank")}async function u(d){await Xe.apiCreateProfile(d),d.id&&Xe.apiUpdateProfile(d)}function h(d){d.marked=!d.marked,d.id&&Xe.apiUpdateProfile(d)}async function p(d,_){d.id&&Xe.apiRemoveProfile(d.id),Xe.list.value.splice(_,1)}return Bo(()=>{Xe.state.viewAllButtonVisible=!1,Xe.state.viewMoreThanButtonVisible=!1}),rs(async()=>{Xe.state.viewAllButtonVisible=!0,Xe.state.viewMoreThanButtonVisible=!0,Xe.list.value.length===1&&(Xe.list.value[0].opened=!0)}),(d,_)=>_e(Xe).list.value.length?(be(),Oe("div",YT,[(be(!0),Oe(Kt,null,Qr(_e(Xe).list.value,(w,O)=>{var R;return be(),Oe("div",{key:O,class:_n(["relative rounded-xl shadow-xl bg-gray-600 text-[16px] mb-3",w.opened?"ring ring-blue-400":""])},[G("div",{class:"relative flex items-start p-4 select-none cursor-pointer rounded-xl",style:Ji({"background-image":`linear-gradient(45deg, rgb(75 85 99) 0%, rgb(75 85 99) 70%, ${w.color.bg} 100%)`}),onClick:L=>o(w)},[G("div",XT,[G("div",ZT,[G("a",{class:"text-white hover:text-white text-xl font-medium border-b border-dashed border-white",onClick:Yt(L=>l(w),["stop"])},Ze(w.name),9,QT),w.comment?(be(),Oe("div",eA,Ze(w.comment),1)):bt("",!0)]),G("div",tA,[G("div",nA,Ze(w.rating),1),G("div",rA,Ze(w.reviewsCount),1),G("div",iA,Ze(w.subscribers),1),G("div",sA,Ze(w.deliveryInfo),1),G("div",oA,"Активные - "+Ze(w.activeAdds),1),w.completedAdds?(be(),Oe("div",aA,"Завершенные - "+Ze(w.completedAdds),1)):bt("",!0),w.savedDate?(be(),Oe("div",lA,Ze(w.savedDate?_e(Bs)(w.savedDate):""),1)):bt("",!0)])]),G("div",uA,[G("i",{class:"font-icon text-3xl drop-shadow-xl",onClick:Yt(L=>p(w,O),["stop"])},"delete_forever",8,cA),w.existsInDataBase?(be(),Oe("i",fA,"storage")):(be(),Oe("i",{key:1,class:"font-icon text-3xl text-white drop-shadow-xl",onClick:Yt(L=>u(w),["stop"])},"cloud_upload",8,hA)),G("i",{class:"font-icon text-3xl drop-shadow-xl",onClick:Yt(L=>h(w),["stop"])},Ze(w.marked?"bookmark":"bookmark_border"),9,dA)])],12,zT),w.opened?(be(),Oe("div",pA,[w.existsInDataBase?bt("",!0):(be(),Oe("div",gA,[yA,nr(G("input",{"onUpdate:modelValue":L=>w.comment=L,type:"search",required:"",class:"text-base w-1/4 max-w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,8,mA),[[rr,w.comment]])])),(R=w.reviewsList)!=null&&R.length?(be(),Oe(Kt,{key:1},[w.opened?(be(),Oe("div",vA,[G("div",_A,[G("div",null,[hn("Найдено отзывов - "),G("strong",null,Ze(w.reviewsList.length),1)])]),G("table",bA,[G("tr",wA,[G("th",xA,[ft(xi,{"sort-types":["date_desc","date_asc"],"current-sort-type":w.reviewsSortedBy,label:"Дата",onSort:L=>s(w,L)},null,8,["current-sort-type","onSort"])]),G("th",SA,[ft(xi,{"sort-types":["rating_desc","rating_asc"],"current-sort-type":w.reviewsSortedBy,label:"Оценка",onSort:L=>s(w,L)},null,8,["current-sort-type","onSort"])]),G("th",CA,[ft(xi,{"sort-types":["product_name_desc","product_name_asc"],"current-sort-type":w.reviewsSortedBy,label:"Название товара",onSort:L=>s(w,L)},null,8,["current-sort-type","onSort"])]),G("th",TA,[ft(xi,{"sort-types":["delivery_desc","delivery_asc"],"current-sort-type":w.reviewsSortedBy,label:"Доставка",onSort:L=>s(w,L)},null,8,["current-sort-type","onSort"])])]),(be(!0),Oe(Kt,null,Qr(w.reviewsList,(L,F)=>{var J;return be(),Oe("tr",{key:F,class:"text-[14px] hover:bg-gray-600"},[G("td",AA,Ze((J=_e(Bs)(L.date))==null?void 0:J.slice(0,10)),1),G("td",DA,[G("div",EA,[G("div",OA,"("+Ze(L.rating)+") - ",1),(be(!0),Oe(Kt,null,Qr(L.rating,(z,B)=>(be(),Oe("div",{ley:B,class:"text-[18px] font-icon text-yellow-400"},"star",8,kA))),256))])]),G("td",PA,[G("div",IA,[G("div",{class:"font-icon text-green-400 cursor-pointer",onClick:Yt(z=>r(L.productName),["stop"])},"content_copy",8,LA),G("div",null,Ze(L.productName),1)])]),G("td",$A,[G("strong",{class:_n(L.delivery?"text-green-400":"text-red-400")},Ze(L.delivery?"Да":"Нет"),3)])])}),128))])])):bt("",!0)],64)):(be(),Oe("div",FA,"Результатов не найдено"))])):bt("",!0)],2)}),128)),_e(Xe).state.contentModalVisible?(be(),ir(my,{key:0,width:"800px",onClose:t},{default:fn(()=>[_e(Xe).state.contentModalData.length?(be(!0),Oe(Kt,{key:0},Qr(_e(Xe).state.contentModalData,(w,O)=>{var R;return be(),Oe("div",{key:O,class:"flex text-sm items-center gap-2 py-0.5 px-1 mb-[2px] mr-5 font-medium",style:Ji({"background-color":w.color.bg,color:w.color.text}),title:w.info},[G("i",{class:"font-icon text-xl cursor-pointer drop-shadow-xl",onClick:L=>r(w.productName)},"content_copy",8,RA),G("a",{target:"_blank",href:w.profileUrl,style:Ji({color:w.color.text}),class:"font-icon text-xl cursor-pointer drop-shadow-xl"},"account_box",12,BA),G("div",null,Ze(w.productName),1),w.count?bt("",!0):(be(),Oe("div",MA,Ze((R=_e(Bs)(w.date))==null?void 0:R.slice(0,10)),1)),w.count?(be(),Oe("strong",UA,"("+Ze(w.count)+")",1)):bt("",!0)],12,NA)}),128)):(be(),Oe("div",KA,"Результаты не найдены"))]),_:1})):bt("",!0)])):(be(),Oe("div",jA,"Результаты не найдены"))}}),VA=qn({__name:"ProfilesParsedPage",setup(e){return(t,r)=>(be(),Oe(Kt,null,[ft(qT),ft(HA)],64))}});class WA{constructor(){Vn(this,"openedTab",Dr({}));Vn(this,"fields",Pi({pageTitle:"",reviewsCount:100,categoryUrl:"",profileName:"",pageStart:1,pageEnd:10}))}async parsingStart(){this.apiCreateFilter();const t=await gy(this.fields.categoryUrl);this.openedTab.value=t,t.id&&chrome.tabs.sendMessage(t.id,{action:"profiles-parsing-start",profilesFilterFields:this.fields,currentUrl:this.fields.categoryUrl})}async resetFields(){this.fields.pageTitle="",this.fields.reviewsCount=100,this.fields.categoryUrl="",this.fields.profileName="",this.fields.pageStart=1,this.fields.pageEnd=10}async setFilterFromDB(){try{const t=await this.apiGetFilter();if(t)return this.fields.categoryUrl=t.categoryUrl,this.fields.pageEnd=t.pageEnd,this.fields.pageStart=t.pageStart,this.fields.profileName=t.profileName,this.fields.reviewsCount=t.reviewsCount,this.fields.pageTitle=t.pageTitle,t}catch(t){console.log(t),dt.show("error",ct.ProfilesSearchFilterGetError)}finally{}}async apiRemoveFilter(){try{await It.profilesSearchFilter.clear(),dt.show("warning",ct.ProfilesSearchFilterCleared)}catch(t){console.log(t),dt.show("warning",ct.ProfilesSearchFilterClearError)}}async apiGetFilter(){const t=await It.profilesSearchFilter.toArray();if(t.length&&t[0]){const r={...t[0]};return delete r.key,r}return null}async apiCreateFilter(){try{const t=JSON.parse(JSON.stringify(this.fields));await It.profilesSearchFilter.clear(),await It.profilesSearchFilter.add(t),dt.show("success",ct.ProfilesSearchFilterSaved)}catch(t){console.log(t),dt.show("error",ct.ProfilesSearchFilterSaveError)}}}const tn=new WA,qA={class:"grid grid-cols-4 gap-5"},GA={class:"col-span-4"},JA=G("div",{class:"mb-2 text-sm font-medium"},"Страница категории",-1),YA={class:"flex items-center gap-4"},zA={key:0,class:"font-icon text-3xl block text-green-400 animate-spin"},XA={key:1,class:"flex-none font-medium text-[16px]"},ZA={class:"text-green-400"},QA={class:"flex-1"},eD=["innerHTML"],tD=G("div",{class:"mb-2 text-sm font-medium"},"Страница от",-1),nD=G("div",{class:"mb-2 text-sm font-medium"},"Страница до",-1),rD=G("div",{class:"mb-2 text-sm font-medium"},"Количество отзывов профиля",-1),iD=G("div",{class:"mb-2 text-sm font-medium"},"Имя профиля",-1),sD={class:"flex items-center gap-4 mt-10"},oD=qn({__name:"ProfilesSearchFilter",setup(e){async function t(){tn.parsingStart()}return(r,s)=>(be(),Oe("form",{class:_n(["pb-14",{"pointer-events-none":_e(Dt).state.loading}]),onSubmit:s[6]||(s[6]=Yt(o=>t(),["prevent"]))},[G("div",qA,[G("div",GA,[JA,G("div",YA,[_e(Dt).state.loading?(be(),Oe("i",zA,"rotate_right")):bt("",!0),_e(Dt).state.currentPage>0?(be(),Oe("div",XA,[G("strong",ZA,Ze(_e(Dt).state.currentPage),1),hn(" - "+Ze(_e(tn).fields.pageEnd),1)])):bt("",!0),G("div",QA,[nr(G("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>_e(tn).fields.categoryUrl=o),type:"search",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[rr,_e(tn).fields.categoryUrl]]),_e(tn).fields.pageTitle?(be(),Oe("div",{key:0,class:"mt-3 font-medium",innerHTML:_e(tn).fields.pageTitle},null,8,eD)):bt("",!0)])])]),G("div",null,[tD,nr(G("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>_e(tn).fields.pageStart=o),required:"",type:"number",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[rr,_e(tn).fields.pageStart]])]),G("div",null,[nD,nr(G("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>_e(tn).fields.pageEnd=o),required:"",type:"number",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[rr,_e(tn).fields.pageEnd]])]),G("div",null,[rD,nr(G("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>_e(tn).fields.reviewsCount=o),type:"number",min:"0",step:"100",required:"",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[rr,_e(tn).fields.reviewsCount]])]),G("div",null,[iD,nr(G("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>_e(tn).fields.profileName=o),type:"text",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[rr,_e(tn).fields.profileName]])])]),G("div",sD,[ft(Cn,{theme:"success",type:"submit",icon:"find_in_page"},{default:fn(()=>[hn("Начать поиск")]),_:1}),ft(Cn,{theme:"danger",type:"button",icon:"delete_sweep",onClick:s[5]||(s[5]=o=>_e(Dt).clearProfilesList())},{default:fn(()=>[hn("Очистить список")]),_:1})])],34))}}),aD={key:0,class:"pb-14"},lD={class:"mb-8 font-bold text-xl flex items-center gap-4"},uD={class:"w-full relative"},cD={class:"text-[16px] sticky top-[64px] bg-gray-600"},fD={class:"text-left px-4 py-2 border border-white border-opacity-50"},hD={class:"text-left px-4 py-2 border border-white border-opacity-50"},dD={class:"text-left px-4 py-2 border border-white border-opacity-50"},pD={class:"text-left px-4 py-2 border border-white border-opacity-50"},gD={class:"px-4 py-2 border border-white border-opacity-50 font-medium"},yD={class:"flex items-center gap-4"},mD=["onClick"],vD=["onClick"],_D=["href"],bD={class:"px-4 py-2 border border-white border-opacity-50 font-medium"},wD={class:"px-4 py-2 border border-white border-opacity-50 font-medium"},xD={class:"px-4 py-2 border border-white border-opacity-50 font-medium"},SD=qn({__name:"ProfilesSearchedList",setup(e){function t(l){Dt.sortProfileList(l)}function r(l){s(l)||(Ye.profileLinkPushNew(l.url),Ye.profileLinksHighlightDuplicates(),Ye.profileLinksRemoveEmpty(),Dt.state.profilesInParsingFilter[l.url]=l)}function s(l){return l.url in Dt.state.profilesInParsingFilter}function o(){Dt.list.value.forEach(l=>{Dt.state.profilesInParsingFilter[l.url]=l,Ye.profileLinkGetByUrl(l.url)||Ye.profileLinkPushNew(l.url)}),Ye.profileLinksHighlightDuplicates(),Ye.profileLinksRemoveEmpty()}return(l,u)=>_e(Dt).list.value.length?(be(),Oe("div",aD,[G("div",lD,[G("div",null,[hn("Найдено продавцов - "),G("strong",null,Ze(_e(Dt).list.value.length),1)]),G("i",{class:"font-icon text-green-400 cursor-pointer ml-auto text-3xl",onClick:u[0]||(u[0]=h=>o())},"playlist_add")]),G("table",uD,[G("tr",cD,[G("th",fD,[ft(xi,{label:"Имя","sort-types":["name_desc","name_asc"],"current-sort-type":_e(Dt).state.profilesListSortType,onSort:t},null,8,["current-sort-type"])]),G("th",hD,[ft(xi,{label:"Рейтинг","sort-types":["rating_desc","rating_asc"],"current-sort-type":_e(Dt).state.profilesListSortType,onSort:t},null,8,["current-sort-type"])]),G("th",dD,[ft(xi,{label:"Отзывы","sort-types":["reviews_desc","reviews_asc"],"current-sort-type":_e(Dt).state.profilesListSortType,onSort:t},null,8,["current-sort-type"])]),G("th",pD,[ft(xi,{label:"Найден в базе","sort-types":["db_exist_desc","db_exist_asc"],"current-sort-type":_e(Dt).state.profilesListSortType,onSort:t},null,8,["current-sort-type"])])]),(be(!0),Oe(Kt,null,Qr(_e(Dt).list.value,(h,p)=>(be(),Oe("tr",{key:p,class:"text-[14px] hover:bg-gray-600"},[G("td",gD,[G("div",yD,[s(h)?(be(),Oe("i",{key:0,class:"font-icon text-3xl text-green-400",onClick:d=>r(h)},"filter_none",8,mD)):(be(),Oe("i",{key:1,class:"font-icon text-3xl text-amber-400 cursor-pointer",onClick:d=>r(h)},"add_to_photos",8,vD)),G("a",{class:"text-white hover:text-white text-xl font-medium border-b border-dashed border-white",target:"_blank",href:h.url},Ze(h.name),9,_D)])]),G("td",bD,Ze(h.rating),1),G("td",wD,Ze(h.reviewsCount),1),G("td",xD,[G("strong",{class:_n(h.existsInDataBase?"text-green-400":"text-red-400")},Ze(h.existsInDataBase?"Да":"Нет"),3)])]))),128))])])):bt("",!0)}}),CD=qn({__name:"ProfilesSearchPage",setup(e){return(t,r)=>(be(),Oe(Kt,null,[ft(oD),ft(SD)],64))}});const TD=(e,t)=>{const r=e.__vccOpts||e;for(const[s,o]of t)r[s]=o;return r},AD={},DD=G("svg",{class:"spinner",viewBox:"0 0 50 50"},[G("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none","stroke-width":"5"})],-1),ED=[DD];function OD(e,t){return be(),Oe("div",null,ED)}const vy=TD(AD,[["render",OD]]),kD={key:0,class:"flex justify-center"},PD=["onClick"],ID={class:"min-w-0 flex-1"},LD={class:"flex items-center gap-4 mb-4"},$D=["onClick"],FD={key:0,class:"text-[16px] text-sky-300 font-medium italic"},ND={class:"flex flex-wrap items-center gap-4 text-[16px] font-medium"},RD={class:"text-orange-300"},BD={class:"text-yellow-300"},MD={class:"text-teal-300"},UD={class:"text-rose-300"},KD={class:"text-amber-300"},jD={key:0,class:"text-lime-300"},HD={class:"text-gray-300"},VD={class:"flex-none flex items-center gap-4"},WD=["onClick"],qD=G("i",{class:"font-icon text-3xl text-amber-400"},"add_to_photos",-1),GD=[qD],JD=["onClick"],YD=G("i",{class:"font-icon text-3xl text-green-400"},"edit",-1),zD=[YD],XD=["onClick"],ZD=G("i",{class:"font-icon text-3xl text-sky-400"},"content_copy",-1),QD=[ZD],eE=["onClick"],tE=G("i",{class:"font-icon text-3xl text-red-400"},"delete_forever",-1),nE=[tE],rE={key:0,class:"text-[14px] px-4 p-5"},iE={key:0,class:"w-full"},sE=G("tr",null,[G("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},"Дата парсинга"),G("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},"Рейтинг"),G("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},"Отзывы"),G("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},"Подписки"),G("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},"Продаж с доставкой"),G("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},"Активные"),G("th",{class:"text-left px-4 py-2 border border-white border-opacity-50"},"Завершенные")],-1),oE={class:"text-left px-4 py-2 border border-white border-opacity-50"},aE={class:"text-left px-4 py-2 border border-white border-opacity-50"},lE={class:"text-left px-4 py-2 border border-white border-opacity-50"},uE={class:"text-left px-4 py-2 border border-white border-opacity-50"},cE={class:"text-left px-4 py-2 border border-white border-opacity-50"},fE={class:"text-left px-4 py-2 border border-white border-opacity-50"},hE={class:"text-left px-4 py-2 border border-white border-opacity-50"},dE={key:1,class:"text-center text-xl font-medium"},pE={key:2,class:"text-center text-xl font-bold"},gE={key:0},yE={class:"text-2xl font-bold mb-5 pr-10"},mE={class:"mb-6"},vE=G("div",{class:"mb-2 text-sm font-medium"},"Комментарий",-1),_E=qn({__name:"ProfilesSavedPage",setup(e){const t=Dr(!1),r=Dr(null),s=Dr(!1);function o(O){O.url&&window.open(O.url,"_blank")}function l(O){O.url&&(mf(O.url),dt.show("success",ct.ProfileLinkCopied))}function u(O){O.opened=!O.opened}function h(){t.value=!1,r.value=null}function p(O){t.value=!0,r.value=O}function d(O){Ye.profileLinkPushNew(O.url),Ye.profileLinksHighlightDuplicates(),Ye.profileLinksRemoveEmpty(),dt.show("success",ct.ProfileLinkAddedInReviewsFilter)}async function _(O){en.apiProfileUpdate(O),t.value=!1,r.value=null}async function w(O){window.confirm(`Удаляем "${O.name}" ?`)&&O.id&&(await en.apiProfileDelete(O),setTimeout(async()=>{en.list.value=await en.apiGetList()},0))}return rs(async()=>{setTimeout(async()=>{en.list.value=await en.apiGetList()},0)}),_g(()=>{en.list.value.forEach(O=>O.opened=!1)}),(O,R)=>(be(),Oe(Kt,null,[s.value?(be(),Oe("div",kD,[ft(vy,{class:"w-10 h-10 flex-none"})])):_e(en).list.value.length?(be(!0),Oe(Kt,{key:1},Qr(_e(en).list.value,L=>{var F,J,z,B,M,j,Z,se,ne,ve;return be(),Oe("div",{key:L.id,class:_n([L.opened?"ring ring-blue-400":"","rounded-xl bg-gray-600 shadow-xl mb-3"])},[G("div",{class:"flex items-start p-4 select-none cursor-pointer",onClick:k=>u(L)},[G("div",ID,[G("div",LD,[G("a",{class:"text-white hover:text-white text-xl font-medium border-b border-dashed border-white",onClick:Yt(k=>o(L),["stop"])},Ze(L.name),9,$D),L.comment?(be(),Oe("div",FD,Ze(L.comment),1)):bt("",!0)]),G("div",ND,[G("div",RD,Ze((F=_e(en).getLastParsingInfo(L))==null?void 0:F.rating),1),G("div",BD,Ze((J=_e(en).getLastParsingInfo(L))==null?void 0:J.reviewsCount),1),G("div",MD,Ze((z=_e(en).getLastParsingInfo(L))==null?void 0:z.subscribers),1),G("div",UD,Ze((B=_e(en).getLastParsingInfo(L))==null?void 0:B.deliveryInfo),1),G("div",KD,"Активные - "+Ze((M=_e(en).getLastParsingInfo(L))==null?void 0:M.activeAdds),1),(j=_e(en).getLastParsingInfo(L))!=null&&j.completedAdds?(be(),Oe("div",jD,"Завершенные - "+Ze((Z=_e(en).getLastParsingInfo(L))==null?void 0:Z.completedAdds),1)):bt("",!0),G("div",HD,Ze((se=_e(en).getLastParsingInfo(L))!=null&&se.parsingDate?_e(Bs)((ne=_e(en).getLastParsingInfo(L))==null?void 0:ne.parsingDate):""),1)])]),G("div",VD,[G("div",{class:"flex-none ml-auto",onClick:Yt(k=>d(L),["stop"])},GD,8,WD),G("div",{class:"flex-none ml-auto",onClick:Yt(k=>p(L),["stop"])},zD,8,JD),G("div",{class:"flex-none",onClick:Yt(k=>l(L),["stop"])},QD,8,XD),G("div",{class:"flex-none",onClick:Yt(k=>w(L),["stop"])},nE,8,eE)])],8,PD),L.opened?(be(),Oe("div",rE,[(ve=L.parsingResults)!=null&&ve.length?(be(),Oe("table",iE,[sE,(be(!0),Oe(Kt,null,Qr(L.parsingResults,(k,E)=>(be(),Oe("tr",{key:E},[G("td",oE,Ze(_e(Bs)(k.parsingDate)),1),G("td",aE,Ze(k.rating),1),G("td",lE,Ze(k.reviewsCount),1),G("td",uE,Ze(k.subscribers),1),G("td",cE,Ze(k.deliveryInfo),1),G("td",fE,Ze(k.activeAdds),1),G("td",hE,Ze(k.completedAdds||_e(ct).InfoNotFound),1)]))),128))])):(be(),Oe("div",dE,"Парсинги не найдены"))])):bt("",!0)],2)}),128)):(be(),Oe("div",pE,"Ничего не найдено")),t.value?(be(),ir(my,{key:3,onClose:h},{default:fn(()=>[r.value?(be(),Oe("div",gE,[G("form",{onSubmit:R[1]||(R[1]=Yt(L=>_(r.value),["prevent"]))},[G("div",yE,Ze(r.value.name),1),G("div",mE,[vE,nr(G("input",{"onUpdate:modelValue":R[0]||(R[0]=L=>r.value.comment=L),type:"search",required:"",class:"text-base w-full text-black px-3 py-2 rounded-lg outline-none focus:outline-blue-400"},null,512),[[rr,r.value.comment]])]),G("div",null,[ft(Cn,{type:"submit",theme:"success"},{default:fn(()=>[hn("Сохранить")]),_:1})])],32)])):bt("",!0)]),_:1})):bt("",!0)],64))}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ki(e,t,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function h(_){try{d(s.next(_))}catch(w){u(w)}}function p(_){try{d(s.throw(_))}catch(w){u(w)}}function d(_){_.done?l(_.value):o(_.value).then(h,p)}d((s=s.apply(e,t||[])).next())})}function Tr(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(d){return function(_){return p([d,_])}}function p(d){if(s)throw new TypeError("Generator is already executing.");for(;r;)try{if(s=1,o&&(l=d[0]&2?o.return:d[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,d[1])).done)return l;switch(o=0,l&&(d=[d[0]&2,l.value]),d[0]){case 0:case 1:l=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!l||d[1]>l[0]&&d[1]<l[3])){r.label=d[1];break}if(d[0]===6&&r.label<l[1]){r.label=l[1],l=d;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(d);break}l[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(_){d=[6,_],o=0}finally{s=l=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function bE(e){var t=[e.schema.primKey].concat(e.schema.indexes);return t.map(function(r){return r.src}).join(",")}function wE(e){for(var t={},r=0,s=e.tables;r<s.length;r++){var o=s[r];t[o.name]=o.schema}return t}function _y(e,t){return new Promise(function(r,s){var o=new FileReader;o.onabort=function(l){return s(new Error("file read aborted"))},o.onerror=function(l){return s(l.target.error)},o.onload=function(l){return r(l.target.result)},t==="binary"?o.readAsArrayBuffer(e):o.readAsText(e)})}function by(e,t){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var r=new FileReaderSync,s=t==="binary"?r.readAsArrayBuffer(e):r.readAsText(e);return s}var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vf(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Tl=vf(function(e,t){(function(r,s){e.exports=s()})(Nc,function(){function r(ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(le){return typeof le}:r=function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},r(ee)}function s(ee,le,oe,de,$,f,g){try{var v=ee[f](g),b=v.value}catch(T){oe(T);return}v.done?le(b):Promise.resolve(b).then(de,$)}function o(ee){return function(){var le=this,oe=arguments;return new Promise(function(de,$){var f=ee.apply(le,oe);function g(b){s(f,de,$,g,v,"next",b)}function v(b){s(f,de,$,g,v,"throw",b)}g(void 0)})}}function l(ee,le){if(!(ee instanceof le))throw new TypeError("Cannot call a class as a function")}function u(ee,le){for(var oe=0;oe<le.length;oe++){var de=le[oe];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(ee,de.key,de)}}function h(ee,le,oe){return le&&u(ee.prototype,le),oe&&u(ee,oe),ee}function p(ee,le,oe){return le in ee?Object.defineProperty(ee,le,{value:oe,enumerable:!0,configurable:!0,writable:!0}):ee[le]=oe,ee}function d(ee,le){var oe=Object.keys(ee);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(ee);le&&(de=de.filter(function($){return Object.getOwnPropertyDescriptor(ee,$).enumerable})),oe.push.apply(oe,de)}return oe}function _(ee){for(var le=1;le<arguments.length;le++){var oe=arguments[le]!=null?arguments[le]:{};le%2?d(Object(oe),!0).forEach(function(de){p(ee,de,oe[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(oe)):d(Object(oe)).forEach(function(de){Object.defineProperty(ee,de,Object.getOwnPropertyDescriptor(oe,de))})}return ee}function w(ee,le){return L(ee)||J(ee,le)||B()}function O(ee){return R(ee)||F(ee)||z()}function R(ee){if(Array.isArray(ee)){for(var le=0,oe=new Array(ee.length);le<ee.length;le++)oe[le]=ee[le];return oe}}function L(ee){if(Array.isArray(ee))return ee}function F(ee){if(Symbol.iterator in Object(ee)||Object.prototype.toString.call(ee)==="[object Arguments]")return Array.from(ee)}function J(ee,le){if(Symbol.iterator in Object(ee)||Object.prototype.toString.call(ee)==="[object Arguments]"){var oe=[],de=!0,$=!1,f=void 0;try{for(var g=ee[Symbol.iterator](),v;!(de=(v=g.next()).done)&&(oe.push(v.value),!(le&&oe.length===le));de=!0);}catch(b){$=!0,f=b}finally{try{!de&&g.return!=null&&g.return()}finally{if($)throw f}}return oe}}function z(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function B(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var M=function ee(le){l(this,ee),this.p=new Promise(le)};M.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(M.prototype[Symbol.toStringTag]="TypesonPromise"),M.prototype.then=function(ee,le){var oe=this;return new M(function(de,$){oe.p.then(function(f){de(ee?ee(f):f)}).catch(function(f){return le?le(f):Promise.reject(f)}).then(de,$)})},M.prototype.catch=function(ee){return this.then(null,ee)},M.resolve=function(ee){return new M(function(le){le(ee)})},M.reject=function(ee){return new M(function(le,oe){oe(ee)})},["all","race"].forEach(function(ee){M[ee]=function(le){return new M(function(oe,de){Promise[ee](le.map(function($){return $&&$.constructor&&$.constructor.__typeson__type__==="TypesonPromise"?$.p:$})).then(oe,de)})}});var j={},Z=j.toString,se={}.hasOwnProperty,ne=Object.getPrototypeOf,ve=se.toString;function k(ee,le){return Ee(ee)&&typeof ee.then=="function"&&(!le||typeof ee.catch=="function")}function E(ee){return Z.call(ee).slice(8,-1)}function te(ee,le){if(!ee||r(ee)!=="object")return!1;var oe=ne(ee);if(!oe)return le===null;var de=se.call(oe,"constructor")&&oe.constructor;return typeof de!="function"?le===null:le===de||le!==null&&ve.call(de)===ve.call(le)||typeof le=="function"&&typeof de.__typeson__type__=="string"&&de.__typeson__type__===le.__typeson__type__}function X(ee){if(!ee||E(ee)!=="Object")return!1;var le=ne(ee);return le?te(ee,Object):!0}function Me(ee){if(!ee||E(ee)!=="Object")return!1;var le=ne(ee);return le?te(ee,Object)||Me(le):!0}function Ee(ee){return ee&&r(ee)==="object"}function it(ee){return ee.replace(/~/g,"~0").replace(/\./g,"~1")}function Be(ee){return ee.replace(/~1/g,".").replace(/~0/g,"~")}function De(ee,le){if(le==="")return ee;var oe=le.indexOf(".");if(oe>-1){var de=ee[Be(le.slice(0,oe))];return de===void 0?void 0:De(de,le.slice(oe+1))}return ee[Be(le)]}function Se(ee,le,oe){if(le==="")return oe;var de=le.indexOf(".");if(de>-1){var $=ee[Be(le.slice(0,de))];return Se($,le.slice(de+1),oe)}return ee[Be(le)]=oe,ee}function Tt(ee){return ee===null?"null":Array.isArray(ee)?"array":r(ee)}var yt=Object.keys,mt=Array.isArray,xt={}.hasOwnProperty,kn=["type","replaced","iterateIn","iterateUnsetNumeric"];function Re(ee,le){if(ee.keypath==="")return-1;var oe=ee.keypath.match(/\./g)||0,de=le.keypath.match(/\./g)||0;return oe&&(oe=oe.length),de&&(de=de.length),oe>de?-1:oe<de?1:ee.keypath<le.keypath?-1:ee.keypath>le.keypath}var Te=function(){function ee(le){l(this,ee),this.options=le,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return h(ee,[{key:"stringify",value:function(oe,de,$,f){f=_({},this.options,{},f,{stringification:!0});var g=this.encapsulate(oe,null,f);return mt(g)?JSON.stringify(g[0],de,$):g.then(function(v){return JSON.stringify(v,de,$)})}},{key:"stringifySync",value:function(oe,de,$,f){return this.stringify(oe,de,$,_({throwOnBadSyncType:!0},f,{sync:!0}))}},{key:"stringifyAsync",value:function(oe,de,$,f){return this.stringify(oe,de,$,_({throwOnBadSyncType:!0},f,{sync:!1}))}},{key:"parse",value:function(oe,de,$){return $=_({},this.options,{},$,{parse:!0}),this.revive(JSON.parse(oe,de),$)}},{key:"parseSync",value:function(oe,de,$){return this.parse(oe,de,_({throwOnBadSyncType:!0},$,{sync:!0}))}},{key:"parseAsync",value:function(oe,de,$){return this.parse(oe,de,_({throwOnBadSyncType:!0},$,{sync:!1}))}},{key:"specialTypeNames",value:function(oe,de){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.returnTypeNames=!0,this.encapsulate(oe,de,$)}},{key:"rootTypeName",value:function(oe,de){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.iterateNone=!0,this.encapsulate(oe,de,$)}},{key:"encapsulate",value:function(oe,de,$){$=_({sync:!0},this.options,{},$);var f=$,g=f.sync,v=this,b={},T=[],A=[],I=[],K="cyclic"in $?$.cyclic:!0,Y=$,q=Y.encapsulateObserver,ae=ke("",oe,K,de||{},I);function ie(me){var S=Object.values(b);if($.iterateNone)return S.length?S[0]:ee.getJSONType(me);if(S.length){if($.returnTypeNames)return O(new Set(S));!me||!X(me)||xt.call(me,"$types")?me={$:me,$types:{$:b}}:me.$types=b}else Ee(me)&&xt.call(me,"$types")&&(me={$:me,$types:!0});return $.returnTypeNames?!1:me}function he(me,S){return ge.apply(this,arguments)}function ge(){return ge=o(regeneratorRuntime.mark(function me(S,m){var D;return regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,Promise.all(m.map(function(pe){return pe[1].p}));case 2:return D=V.sent,V.next=5,Promise.all(D.map(function(){var pe=o(regeneratorRuntime.mark(function ye($e){var Ae,He,at,lt,Ct,wt,vt,Lt,$t,Qe,sn,Fe,we,Ue;return regeneratorRuntime.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(Ae=[],He=m.splice(0,1),at=w(He,1),lt=at[0],Ct=w(lt,7),wt=Ct[0],vt=Ct[2],Lt=Ct[3],$t=Ct[4],Qe=Ct[5],sn=Ct[6],Fe=ke(wt,$e,vt,Lt,Ae,!0,sn),we=te(Fe,M),!(wt&&we)){Ve.next=11;break}return Ve.next=8,Fe.p;case 8:return Ue=Ve.sent,$t[Qe]=Ue,Ve.abrupt("return",he(S,Ae));case 11:return wt?$t[Qe]=Fe:we?S=Fe.p:S=Fe,Ve.abrupt("return",he(S,Ae));case 13:case"end":return Ve.stop()}},ye)}));return function(ye){return pe.apply(this,arguments)}}()));case 5:return V.abrupt("return",S);case 6:case"end":return V.stop()}},me)})),ge.apply(this,arguments)}function xe(me,S,m){Object.assign(me,S);var D=kn.map(function(N){var V=me[N];return delete me[N],V});m(),kn.forEach(function(N,V){me[N]=D[V]})}function ke(me,S,m,D,N,V,pe){var ye,$e={},Ae=r(S),He=q?function(we){var Ue=pe||D.type||ee.getJSONType(S);q(Object.assign(we||$e,{keypath:me,value:S,cyclic:m,stateObj:D,promisesData:N,resolvingTypesonPromise:V,awaitingTypesonPromise:te(S,M)},{type:Ue}))}:null;if(["string","boolean","number","undefined"].includes(Ae))return S===void 0||Ae==="number"&&(isNaN(S)||S===-1/0||S===1/0)?(D.replaced?ye=S:ye=Le(me,S,D,N,!1,V,He),ye!==S&&($e={replaced:ye})):ye=S,He&&He(),ye;if(S===null)return He&&He(),S;if(m&&!D.iterateIn&&!D.iterateUnsetNumeric&&S&&r(S)==="object"){var at=T.indexOf(S);if(at<0)m===!0&&(T.push(S),A.push(me));else return b[me]="#",He&&He({cyclicKeypath:A[at]}),"#"+A[at]}var lt=X(S),Ct=mt(S),wt=(lt||Ct)&&(!v.plainObjectReplacers.length||D.replaced)||D.iterateIn?S:Le(me,S,D,N,lt||Ct,null,He),vt;if(wt!==S?(ye=wt,$e={replaced:wt}):me===""&&te(S,M)?(N.push([me,S,m,D,void 0,void 0,D.type]),ye=S):Ct&&D.iterateIn!=="object"||D.iterateIn==="array"?(vt=new Array(S.length),$e={clone:vt}):!["function","symbol"].includes(r(S))&&!("toJSON"in S)&&!te(S,M)&&!te(S,Promise)&&!te(S,ArrayBuffer)||lt||D.iterateIn==="object"?(vt={},D.addLength&&(vt.length=S.length),$e={clone:vt}):ye=S,He&&He(),$.iterateNone)return vt||ye;if(!vt)return ye;if(D.iterateIn){var Lt=function(Ue){var Ke={ownKeys:xt.call(S,Ue)};xe(D,Ke,function(){var Ve=me+(me?".":"")+it(Ue),ht=ke(Ve,S[Ue],!!m,D,N,V);te(ht,M)?N.push([Ve,ht,!!m,D,vt,Ue,D.type]):ht!==void 0&&(vt[Ue]=ht)})};for(var $t in S)Lt($t);He&&He({endIterateIn:!0,end:!0})}else yt(S).forEach(function(we){var Ue=me+(me?".":"")+it(we),Ke={ownKeys:!0};xe(D,Ke,function(){var Ve=ke(Ue,S[we],!!m,D,N,V);te(Ve,M)?N.push([Ue,Ve,!!m,D,vt,we,D.type]):Ve!==void 0&&(vt[we]=Ve)})}),He&&He({endIterateOwn:!0,end:!0});if(D.iterateUnsetNumeric){for(var Qe=S.length,sn=function(Ue){if(!(Ue in S)){var Ke=me+(me?".":"")+Ue,Ve={ownKeys:!1};xe(D,Ve,function(){var ht=ke(Ke,void 0,!!m,D,N,V);te(ht,M)?N.push([Ke,ht,!!m,D,vt,Ue,D.type]):ht!==void 0&&(vt[Ue]=ht)})}},Fe=0;Fe<Qe;Fe++)sn(Fe);He&&He({endIterateUnsetNumeric:!0,end:!0})}return vt}function Le(me,S,m,D,N,V,pe){for(var ye=N?v.plainObjectReplacers:v.nonplainObjectReplacers,$e=ye.length;$e--;){var Ae=ye[$e];if(Ae.test(S,m)){var He=Ae.type;if(v.revivers[He]){var at=b[me];b[me]=at?[He].concat(at):He}if(Object.assign(m,{type:He,replaced:!0}),(g||!Ae.replaceAsync)&&!Ae.replace)return pe&&pe({typeDetected:!0}),ke(me,S,K&&"readonly",m,D,V,He);pe&&pe({replacing:!0});var lt=g||!Ae.replaceAsync?"replace":"replaceAsync";return ke(me,Ae[lt](S,m),K&&"readonly",m,D,V,He)}}return S}return I.length?g&&$.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(he(ae,I)).then(ie):!g&&$.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():$.stringification&&g?[ie(ae)]:g?ie(ae):Promise.resolve(ie(ae))}},{key:"encapsulateSync",value:function(oe,de,$){return this.encapsulate(oe,de,_({throwOnBadSyncType:!0},$,{sync:!0}))}},{key:"encapsulateAsync",value:function(oe,de,$){return this.encapsulate(oe,de,_({throwOnBadSyncType:!0},$,{sync:!1}))}},{key:"revive",value:function(oe,de){var $=oe&&oe.$types;if(!$)return oe;if($===!0)return oe.$;de=_({sync:!0},this.options,{},de);var f=de,g=f.sync,v=[],b={},T=!0;$.$&&X($.$)&&(oe=oe.$,$=$.$,T=!1);var A=this;function I(ge,xe){var ke=A.revivers[ge]||[],Le=w(ke,1),me=Le[0];if(!me)throw new Error("Unregistered type: "+ge);return g&&!("revive"in me)?xe:me[g&&me.revive?"revive":!g&&me.reviveAsync?"reviveAsync":"revive"](xe,b)}function K(){var ge=[];if(Object.entries($).forEach(function(xe){var ke=w(xe,2),Le=ke[0],me=ke[1];me!=="#"&&[].concat(me).forEach(function(S){var m=A.revivers[S]||[null,{}],D=w(m,2),N=D[1].plain;N&&(ge.push({keypath:Le,type:S}),delete $[Le])})}),!!ge.length)return ge.sort(Re).reduce(function xe(ke,Le){var me=Le.keypath,S=Le.type;if(k(ke))return ke.then(function(N){return xe(N,{keypath:me,type:S})});var m=De(oe,me);if(m=I(S,m),te(m,M))return m.then(function(N){var V=Se(oe,me,N);V===N&&(oe=V)});var D=Se(oe,me,m);D===m&&(oe=D)},void 0)}var Y=[];function q(ge,xe,ke,Le,me){if(!(T&&ge==="$types")){var S=$[ge],m=mt(xe);if(m||X(xe)){var D=m?new Array(xe.length):{};for(yt(xe).forEach(function(at){var lt=q(ge+(ge?".":"")+it(at),xe[at],ke||D,D,at),Ct=function(vt){return te(vt,ot)?D[at]=void 0:vt!==void 0&&(D[at]=vt),vt};te(lt,M)?Y.push(lt.then(function(wt){return Ct(wt)})):Ct(lt)}),xe=D;v.length;){var N=w(v[0],4),V=N[0],pe=N[1],ye=N[2],$e=N[3],Ae=De(V,pe);if(Ae!==void 0)ye[$e]=Ae;else break;v.splice(0,1)}}if(!S)return xe;if(S==="#"){var He=De(ke,xe.slice(1));return He===void 0&&v.push([ke,xe.slice(1),Le,me]),He}return[].concat(S).reduce(function at(lt,Ct){return te(lt,M)?lt.then(function(wt){return at(wt,Ct)}):I(Ct,lt)},xe)}}function ae(ge){return te(ge,ot)?void 0:ge}var ie=K(),he;return te(ie,M)?he=ie.then(function(){return oe}):(he=q("",oe,null),Y.length&&(he=M.resolve(he).then(function(ge){return M.all([ge].concat(Y))}).then(function(ge){var xe=w(ge,1),ke=xe[0];return ke}))),k(he)?g&&de.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():te(he,M)?he.p.then(ae):he:!g&&de.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():g?ae(he):Promise.resolve(ae(he))}},{key:"reviveSync",value:function(oe,de){return this.revive(oe,_({throwOnBadSyncType:!0},de,{sync:!0}))}},{key:"reviveAsync",value:function(oe,de){return this.revive(oe,_({throwOnBadSyncType:!0},de,{sync:!1}))}},{key:"register",value:function(oe,de){return de=de||{},[].concat(oe).forEach(function $(f){var g=this;if(mt(f))return f.map(function(v){return $.call(g,v)});f&&yt(f).forEach(function(v){if(v==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(ee.JSON_TYPES.includes(v))throw new TypeError("Plain JSON object types are reserved as type names");var b=f[v],T=b&&b.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,A=T.filter(function(ke){return ke.type===v});if(A.length&&(T.splice(T.indexOf(A[0]),1),delete this.revivers[v],delete this.types[v]),typeof b=="function"){var I=b;b={test:function(Le){return Le&&Le.constructor===I},replace:function(Le){return _({},Le)},revive:function(Le){return Object.assign(Object.create(I.prototype),Le)}}}else if(mt(b)){var K=b,Y=w(K,3),q=Y[0],ae=Y[1],ie=Y[2];b={test:q,replace:ae,revive:ie}}if(!(!b||!b.test)){var he={type:v,test:b.test.bind(b)};b.replace&&(he.replace=b.replace.bind(b)),b.replaceAsync&&(he.replaceAsync=b.replaceAsync.bind(b));var ge=typeof de.fallback=="number"?de.fallback:de.fallback?0:1/0;if(b.testPlainObjects?this.plainObjectReplacers.splice(ge,0,he):this.nonplainObjectReplacers.splice(ge,0,he),b.revive||b.reviveAsync){var xe={};b.revive&&(xe.revive=b.revive.bind(b)),b.reviveAsync&&(xe.reviveAsync=b.reviveAsync.bind(b)),this.revivers[v]=[xe,{plain:b.testPlainObjects}]}this.types[v]=b}},this)},this),this}}]),ee}(),ot=function ee(){l(this,ee)};return ot.__typeson__type__="TypesonUndefined",Te.Undefined=ot,Te.Promise=M,Te.isThenable=k,Te.toStringTag=E,Te.hasConstructorOf=te,Te.isObject=Ee,Te.isPlainObject=X,Te.isUserObject=Me,Te.escapeKeyPathComponent=it,Te.unescapeKeyPathComponent=Be,Te.getByKeyPath=De,Te.getJSONType=Tt,Te.JSON_TYPES=["null","boolean","number","string","array","object"],Te})}),xE=vf(function(e,t){(function(r,s){e.exports=s()})(Nc,function(){function r(S){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(S)}function s(S,m){if(!(S instanceof m))throw new TypeError("Cannot call a class as a function")}function o(S,m){for(var D=0;D<m.length;D++){var N=m[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}function l(S,m,D){return m in S?Object.defineProperty(S,m,{value:D,enumerable:!0,configurable:!0,writable:!0}):S[m]=D,S}function u(S,m){var D=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);m&&(N=N.filter(function(V){return Object.getOwnPropertyDescriptor(S,V).enumerable})),D.push.apply(D,N)}return D}function h(S){return function(D){if(Array.isArray(D))return p(D)}(S)||function(D){if(typeof Symbol<"u"&&Symbol.iterator in Object(D))return Array.from(D)}(S)||function(D,N){if(D){if(typeof D=="string")return p(D,N);var V=Object.prototype.toString.call(D).slice(8,-1);if(V==="Object"&&D.constructor&&(V=D.constructor.name),V==="Map"||V==="Set")return Array.from(D);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return p(D,N)}}(S)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(S,m){(m==null||m>S.length)&&(m=S.length);for(var D=0,N=new Array(m);D<m;D++)N[D]=S[D];return N}function d(S){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(S)}function _(S,m){if(!(S instanceof m))throw new TypeError("Cannot call a class as a function")}function w(S,m){for(var D=0;D<m.length;D++){var N=m[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}function O(S,m,D){return m in S?Object.defineProperty(S,m,{value:D,enumerable:!0,configurable:!0,writable:!0}):S[m]=D,S}function R(S,m){var D=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);m&&(N=N.filter(function(V){return Object.getOwnPropertyDescriptor(S,V).enumerable})),D.push.apply(D,N)}return D}function L(S){for(var m=1;m<arguments.length;m++){var D=arguments[m]!=null?arguments[m]:{};m%2?R(Object(D),!0).forEach(function(N){O(S,N,D[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(D)):R(Object(D)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(D,N))})}return S}function F(S,m){return function(N){if(Array.isArray(N))return N}(S)||function(N,V){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(N)))){var pe=[],ye=!0,$e=!1,Ae=void 0;try{for(var He,at=N[Symbol.iterator]();!(ye=(He=at.next()).done)&&(pe.push(He.value),!V||pe.length!==V);ye=!0);}catch(lt){$e=!0,Ae=lt}finally{try{ye||at.return==null||at.return()}finally{if($e)throw Ae}}return pe}}(S,m)||z(S,m)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function J(S){return function(D){if(Array.isArray(D))return B(D)}(S)||function(D){if(typeof Symbol<"u"&&Symbol.iterator in Object(D))return Array.from(D)}(S)||z(S)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function z(S,m){if(S){if(typeof S=="string")return B(S,m);var D=Object.prototype.toString.call(S).slice(8,-1);return D==="Object"&&S.constructor&&(D=S.constructor.name),D==="Map"||D==="Set"?Array.from(S):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?B(S,m):void 0}}function B(S,m){(m==null||m>S.length)&&(m=S.length);for(var D=0,N=new Array(m);D<m;D++)N[D]=S[D];return N}var M=function S(m){_(this,S),this.p=new Promise(m)};M.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(M.prototype[Symbol.toStringTag]="TypesonPromise"),M.prototype.then=function(S,m){var D=this;return new M(function(N,V){D.p.then(function(pe){N(S?S(pe):pe)}).catch(function(pe){return m?m(pe):Promise.reject(pe)}).then(N,V)})},M.prototype.catch=function(S){return this.then(null,S)},M.resolve=function(S){return new M(function(m){m(S)})},M.reject=function(S){return new M(function(m,D){D(S)})},["all","race"].forEach(function(S){M[S]=function(m){return new M(function(D,N){Promise[S](m.map(function(V){return V&&V.constructor&&V.constructor.__typeson__type__==="TypesonPromise"?V.p:V})).then(D,N)})}});var j={}.toString,Z={}.hasOwnProperty,se=Object.getPrototypeOf,ne=Z.toString;function ve(S,m){return X(S)&&typeof S.then=="function"&&(!m||typeof S.catch=="function")}function k(S){return j.call(S).slice(8,-1)}function E(S,m){if(!S||d(S)!=="object")return!1;var D=se(S);if(!D)return m===null;var N=Z.call(D,"constructor")&&D.constructor;return typeof N!="function"?m===null:m===N||m!==null&&ne.call(N)===ne.call(m)||typeof m=="function"&&typeof N.__typeson__type__=="string"&&N.__typeson__type__===m.__typeson__type__}function te(S){return!(!S||k(S)!=="Object")&&(!se(S)||E(S,Object))}function X(S){return S&&d(S)==="object"}function Me(S){return S.replace(/~/g,"~0").replace(/\./g,"~1")}function Ee(S){return S.replace(/~1/g,".").replace(/~0/g,"~")}function it(S,m){if(m==="")return S;var D=m.indexOf(".");if(D>-1){var N=S[Ee(m.slice(0,D))];return N===void 0?void 0:it(N,m.slice(D+1))}return S[Ee(m)]}function Be(S,m,D){if(m==="")return D;var N=m.indexOf(".");return N>-1?Be(S[Ee(m.slice(0,N))],m.slice(N+1),D):(S[Ee(m)]=D,S)}function De(S,m,D){return D?m?m(S):S:(S&&S.then||(S=Promise.resolve(S)),m?S.then(m):S)}var Se=Object.keys,Tt=Array.isArray,yt={}.hasOwnProperty,mt=["type","replaced","iterateIn","iterateUnsetNumeric"];function xt(S){return function(){for(var m=[],D=0;D<arguments.length;D++)m[D]=arguments[D];try{return Promise.resolve(S.apply(this,m))}catch(N){return Promise.reject(N)}}}function kn(S,m){if(S.keypath==="")return-1;var D=S.keypath.match(/\./g)||0,N=m.keypath.match(/\./g)||0;return D&&(D=D.length),N&&(N=N.length),D>N?-1:D<N?1:S.keypath<m.keypath?-1:S.keypath>m.keypath}var Re=function(){function S(m){_(this,S),this.options=m,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(D,N,V){return N&&w(D.prototype,N),V&&w(D,V),D}(S,[{key:"stringify",value:function(D,N,V,pe){pe=L(L(L({},this.options),pe),{},{stringification:!0});var ye=this.encapsulate(D,null,pe);return Tt(ye)?JSON.stringify(ye[0],N,V):ye.then(function($e){return JSON.stringify($e,N,V)})}},{key:"stringifySync",value:function(D,N,V,pe){return this.stringify(D,N,V,L(L({throwOnBadSyncType:!0},pe),{},{sync:!0}))}},{key:"stringifyAsync",value:function(D,N,V,pe){return this.stringify(D,N,V,L(L({throwOnBadSyncType:!0},pe),{},{sync:!1}))}},{key:"parse",value:function(D,N,V){return V=L(L(L({},this.options),V),{},{parse:!0}),this.revive(JSON.parse(D,N),V)}},{key:"parseSync",value:function(D,N,V){return this.parse(D,N,L(L({throwOnBadSyncType:!0},V),{},{sync:!0}))}},{key:"parseAsync",value:function(D,N,V){return this.parse(D,N,L(L({throwOnBadSyncType:!0},V),{},{sync:!1}))}},{key:"specialTypeNames",value:function(D,N){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V.returnTypeNames=!0,this.encapsulate(D,N,V)}},{key:"rootTypeName",value:function(D,N){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V.iterateNone=!0,this.encapsulate(D,N,V)}},{key:"encapsulate",value:function(D,N,V){var pe=xt(function(Fe,we){return De(Promise.all(we.map(function(Ue){return Ue[1].p})),function(Ue){return De(Promise.all(Ue.map(xt(function(Ke){var Ve=!1,ht=[],Pn=F(we.splice(0,1),1),Wt=F(Pn[0],7),bn=Wt[0],Bn=Wt[2],Ot=Wt[3],Mn=Wt[4],Ft=Wt[5],wn=Wt[6],pn=Qe(bn,Ke,Bn,Ot,ht,!0,wn),Gn=E(pn,M);return function(Gs,ss){var oi=Gs();return oi&&oi.then?oi.then(ss):ss(oi)}(function(){if(bn&&Gn)return De(pn.p,function(Jn){return Mn[Ft]=Jn,Ve=!0,pe(Fe,ht)})},function(Jn){return Ve?Jn:(bn?Mn[Ft]=pn:Fe=Gn?pn.p:pn,pe(Fe,ht))})}))),function(){return Fe})})}),ye=(V=L(L({sync:!0},this.options),V)).sync,$e=this,Ae={},He=[],at=[],lt=[],Ct=!("cyclic"in V)||V.cyclic,wt=V.encapsulateObserver,vt=Qe("",D,Ct,N||{},lt);function Lt(Fe){var we=Object.values(Ae);if(V.iterateNone)return we.length?we[0]:S.getJSONType(Fe);if(we.length){if(V.returnTypeNames)return J(new Set(we));Fe&&te(Fe)&&!yt.call(Fe,"$types")?Fe.$types=Ae:Fe={$:Fe,$types:{$:Ae}}}else X(Fe)&&yt.call(Fe,"$types")&&(Fe={$:Fe,$types:!0});return!V.returnTypeNames&&Fe}function $t(Fe,we,Ue){Object.assign(Fe,we);var Ke=mt.map(function(Ve){var ht=Fe[Ve];return delete Fe[Ve],ht});Ue(),mt.forEach(function(Ve,ht){Fe[Ve]=Ke[ht]})}function Qe(Fe,we,Ue,Ke,Ve,ht,Pn){var Wt,bn={},Bn=d(we),Ot=wt?function(kr){var Qt=Pn||Ke.type||S.getJSONType(we);wt(Object.assign(kr||bn,{keypath:Fe,value:we,cyclic:Ue,stateObj:Ke,promisesData:Ve,resolvingTypesonPromise:ht,awaitingTypesonPromise:E(we,M)},{type:Qt}))}:null;if(["string","boolean","number","undefined"].includes(Bn))return we===void 0||Number.isNaN(we)||we===Number.NEGATIVE_INFINITY||we===Number.POSITIVE_INFINITY?(Wt=Ke.replaced?we:sn(Fe,we,Ke,Ve,!1,ht,Ot))!==we&&(bn={replaced:Wt}):Wt=we,Ot&&Ot(),Wt;if(we===null)return Ot&&Ot(),we;if(Ue&&!Ke.iterateIn&&!Ke.iterateUnsetNumeric&&we&&d(we)==="object"){var Mn=He.indexOf(we);if(!(Mn<0))return Ae[Fe]="#",Ot&&Ot({cyclicKeypath:at[Mn]}),"#"+at[Mn];Ue===!0&&(He.push(we),at.push(Fe))}var Ft,wn=te(we),pn=Tt(we),Gn=(wn||pn)&&(!$e.plainObjectReplacers.length||Ke.replaced)||Ke.iterateIn?we:sn(Fe,we,Ke,Ve,wn||pn,null,Ot);if(Gn!==we?(Wt=Gn,bn={replaced:Gn}):Fe===""&&E(we,M)?(Ve.push([Fe,we,Ue,Ke,void 0,void 0,Ke.type]),Wt=we):pn&&Ke.iterateIn!=="object"||Ke.iterateIn==="array"?(Ft=new Array(we.length),bn={clone:Ft}):(["function","symbol"].includes(d(we))||"toJSON"in we||E(we,M)||E(we,Promise)||E(we,ArrayBuffer))&&!wn&&Ke.iterateIn!=="object"?Wt=we:(Ft={},Ke.addLength&&(Ft.length=we.length),bn={clone:Ft}),Ot&&Ot(),V.iterateNone)return Ft||Wt;if(!Ft)return Wt;if(Ke.iterateIn){var Jn=function(Qt){var mr={ownKeys:yt.call(we,Qt)};$t(Ke,mr,function(){var Br=Fe+(Fe?".":"")+Me(Qt),os=Qe(Br,we[Qt],!!Ue,Ke,Ve,ht);E(os,M)?Ve.push([Br,os,!!Ue,Ke,Ft,Qt,Ke.type]):os!==void 0&&(Ft[Qt]=os)})};for(var Gs in we)Jn(Gs);Ot&&Ot({endIterateIn:!0,end:!0})}else Se(we).forEach(function(kr){var Qt=Fe+(Fe?".":"")+Me(kr);$t(Ke,{ownKeys:!0},function(){var mr=Qe(Qt,we[kr],!!Ue,Ke,Ve,ht);E(mr,M)?Ve.push([Qt,mr,!!Ue,Ke,Ft,kr,Ke.type]):mr!==void 0&&(Ft[kr]=mr)})}),Ot&&Ot({endIterateOwn:!0,end:!0});if(Ke.iterateUnsetNumeric){for(var ss=we.length,oi=function(Qt){if(!(Qt in we)){var mr=Fe+(Fe?".":"")+Qt;$t(Ke,{ownKeys:!1},function(){var Br=Qe(mr,void 0,!!Ue,Ke,Ve,ht);E(Br,M)?Ve.push([mr,Br,!!Ue,Ke,Ft,Qt,Ke.type]):Br!==void 0&&(Ft[Qt]=Br)})}},ai=0;ai<ss;ai++)oi(ai);Ot&&Ot({endIterateUnsetNumeric:!0,end:!0})}return Ft}function sn(Fe,we,Ue,Ke,Ve,ht,Pn){for(var Wt=Ve?$e.plainObjectReplacers:$e.nonplainObjectReplacers,bn=Wt.length;bn--;){var Bn=Wt[bn];if(Bn.test(we,Ue)){var Ot=Bn.type;if($e.revivers[Ot]){var Mn=Ae[Fe];Ae[Fe]=Mn?[Ot].concat(Mn):Ot}return Object.assign(Ue,{type:Ot,replaced:!0}),!ye&&Bn.replaceAsync||Bn.replace?(Pn&&Pn({replacing:!0}),Qe(Fe,Bn[ye||!Bn.replaceAsync?"replace":"replaceAsync"](we,Ue),Ct&&"readonly",Ue,Ke,ht,Ot)):(Pn&&Pn({typeDetected:!0}),Qe(Fe,we,Ct&&"readonly",Ue,Ke,ht,Ot))}}return we}return lt.length?ye&&V.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(pe(vt,lt)).then(Lt):!ye&&V.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():V.stringification&&ye?[Lt(vt)]:ye?Lt(vt):Promise.resolve(Lt(vt))}},{key:"encapsulateSync",value:function(D,N,V){return this.encapsulate(D,N,L(L({throwOnBadSyncType:!0},V),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(D,N,V){return this.encapsulate(D,N,L(L({throwOnBadSyncType:!0},V),{},{sync:!1}))}},{key:"revive",value:function(D,N){var V=D&&D.$types;if(!V)return D;if(V===!0)return D.$;var pe=(N=L(L({sync:!0},this.options),N)).sync,ye=[],$e={},Ae=!0;V.$&&te(V.$)&&(D=D.$,V=V.$,Ae=!1);var He=this;function at(Lt,$t){var Qe=F(He.revivers[Lt]||[],1)[0];if(!Qe)throw new Error("Unregistered type: "+Lt);return pe&&!("revive"in Qe)?$t:Qe[pe&&Qe.revive?"revive":!pe&&Qe.reviveAsync?"reviveAsync":"revive"]($t,$e)}var lt=[];function Ct(Lt){return E(Lt,Te)?void 0:Lt}var wt,vt=function(){var $t=[];if(Object.entries(V).forEach(function(Qe){var sn=F(Qe,2),Fe=sn[0],we=sn[1];we!=="#"&&[].concat(we).forEach(function(Ue){F(He.revivers[Ue]||[null,{}],2)[1].plain&&($t.push({keypath:Fe,type:Ue}),delete V[Fe])})}),$t.length)return $t.sort(kn).reduce(function Qe(sn,Fe){var we=Fe.keypath,Ue=Fe.type;if(ve(sn))return sn.then(function(ht){return Qe(ht,{keypath:we,type:Ue})});var Ke=it(D,we);if(E(Ke=at(Ue,Ke),M))return Ke.then(function(ht){var Pn=Be(D,we,ht);Pn===ht&&(D=Pn)});var Ve=Be(D,we,Ke);Ve===Ke&&(D=Ve)},void 0)}();return E(vt,M)?wt=vt.then(function(){return D}):(wt=function Lt($t,Qe,sn,Fe,we){if(!Ae||$t!=="$types"){var Ue=V[$t],Ke=Tt(Qe);if(Ke||te(Qe)){var Ve=Ke?new Array(Qe.length):{};for(Se(Qe).forEach(function(Ft){var wn=Lt($t+($t?".":"")+Me(Ft),Qe[Ft],sn||Ve,Ve,Ft),pn=function(Jn){return E(Jn,Te)?Ve[Ft]=void 0:Jn!==void 0&&(Ve[Ft]=Jn),Jn};E(wn,M)?lt.push(wn.then(function(Gn){return pn(Gn)})):pn(wn)}),Qe=Ve;ye.length;){var ht=F(ye[0],4),Pn=ht[0],Wt=ht[1],bn=ht[2],Bn=ht[3],Ot=it(Pn,Wt);if(Ot===void 0)break;bn[Bn]=Ot,ye.splice(0,1)}}if(!Ue)return Qe;if(Ue==="#"){var Mn=it(sn,Qe.slice(1));return Mn===void 0&&ye.push([sn,Qe.slice(1),Fe,we]),Mn}return[].concat(Ue).reduce(function Ft(wn,pn){return E(wn,M)?wn.then(function(Gn){return Ft(Gn,pn)}):at(pn,wn)},Qe)}}("",D,null),lt.length&&(wt=M.resolve(wt).then(function(Lt){return M.all([Lt].concat(lt))}).then(function(Lt){return F(Lt,1)[0]}))),ve(wt)?pe&&N.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():E(wt,M)?wt.p.then(Ct):wt:!pe&&N.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():pe?Ct(wt):Promise.resolve(Ct(wt))}},{key:"reviveSync",value:function(D,N){return this.revive(D,L(L({throwOnBadSyncType:!0},N),{},{sync:!0}))}},{key:"reviveAsync",value:function(D,N){return this.revive(D,L(L({throwOnBadSyncType:!0},N),{},{sync:!1}))}},{key:"register",value:function(D,N){return N=N||{},[].concat(D).forEach(function V(pe){var ye=this;if(Tt(pe))return pe.map(function($e){return V.call(ye,$e)});pe&&Se(pe).forEach(function($e){if($e==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(S.JSON_TYPES.includes($e))throw new TypeError("Plain JSON object types are reserved as type names");var Ae=pe[$e],He=Ae&&Ae.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,at=He.filter(function($t){return $t.type===$e});if(at.length&&(He.splice(He.indexOf(at[0]),1),delete this.revivers[$e],delete this.types[$e]),typeof Ae=="function"){var lt=Ae;Ae={test:function(Qe){return Qe&&Qe.constructor===lt},replace:function(Qe){return L({},Qe)},revive:function(Qe){return Object.assign(Object.create(lt.prototype),Qe)}}}else if(Tt(Ae)){var Ct=F(Ae,3);Ae={test:Ct[0],replace:Ct[1],revive:Ct[2]}}if(Ae&&Ae.test){var wt={type:$e,test:Ae.test.bind(Ae)};Ae.replace&&(wt.replace=Ae.replace.bind(Ae)),Ae.replaceAsync&&(wt.replaceAsync=Ae.replaceAsync.bind(Ae));var vt=typeof N.fallback=="number"?N.fallback:N.fallback?0:Number.POSITIVE_INFINITY;if(Ae.testPlainObjects?this.plainObjectReplacers.splice(vt,0,wt):this.nonplainObjectReplacers.splice(vt,0,wt),Ae.revive||Ae.reviveAsync){var Lt={};Ae.revive&&(Lt.revive=Ae.revive.bind(Ae)),Ae.reviveAsync&&(Lt.reviveAsync=Ae.reviveAsync.bind(Ae)),this.revivers[$e]=[Lt,{plain:Ae.testPlainObjects}]}this.types[$e]=Ae}},this)},this),this}}]),S}(),Te=function S(){_(this,S)};Te.__typeson__type__="TypesonUndefined",Re.Undefined=Te,Re.Promise=M,Re.isThenable=ve,Re.toStringTag=k,Re.hasConstructorOf=E,Re.isObject=X,Re.isPlainObject=te,Re.isUserObject=function S(m){if(!m||k(m)!=="Object")return!1;var D=se(m);return!D||E(m,Object)||S(D)},Re.escapeKeyPathComponent=Me,Re.unescapeKeyPathComponent=Ee,Re.getByKeyPath=it,Re.getJSONType=function(m){return m===null?"null":Array.isArray(m)?"array":d(m)},Re.JSON_TYPES=["null","boolean","number","string","array","object"];for(var ot={userObject:{test:function(m,D){return Re.isUserObject(m)},replace:function(m){return function(N){for(var V=1;V<arguments.length;V++){var pe=arguments[V]!=null?arguments[V]:{};V%2?u(Object(pe),!0).forEach(function(ye){l(N,ye,pe[ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(pe)):u(Object(pe)).forEach(function(ye){Object.defineProperty(N,ye,Object.getOwnPropertyDescriptor(pe,ye))})}return N}({},m)},revive:function(m){return m}}},ee=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(m,D){return!!Array.isArray(m)&&(Object.keys(m).some(function(N){return String(Number.parseInt(N))!==N})&&(D.iterateIn="object",D.addLength=!0),!0)},replace:function(m,D){return D.iterateUnsetNumeric=!0,m},revive:function(m){if(Array.isArray(m))return m;var D=[];return Object.keys(m).forEach(function(N){var V=m[N];D[N]=V}),D}}},{sparseUndefined:{test:function(m,D){return m===void 0&&D.ownKeys===!1},replace:function(m){return 0},revive:function(m){}}}],le={undef:{test:function(m,D){return m===void 0&&(D.ownKeys||!("ownKeys"in D))},replace:function(m){return 0},revive:function(m){return new Re.Undefined}}},oe={StringObject:{test:function(m){return Re.toStringTag(m)==="String"&&r(m)==="object"},replace:function(m){return String(m)},revive:function(m){return new String(m)}},BooleanObject:{test:function(m){return Re.toStringTag(m)==="Boolean"&&r(m)==="object"},replace:function(m){return!!m},revive:function(m){return new Boolean(m)}},NumberObject:{test:function(m){return Re.toStringTag(m)==="Number"&&r(m)==="object"},replace:function(m){return Number(m)},revive:function(m){return new Number(m)}}},de=[{nan:{test:function(m){return Number.isNaN(m)},replace:function(m){return"NaN"},revive:function(m){return Number.NaN}}},{infinity:{test:function(m){return m===Number.POSITIVE_INFINITY},replace:function(m){return"Infinity"},revive:function(m){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(m){return m===Number.NEGATIVE_INFINITY},replace:function(m){return"-Infinity"},revive:function(m){return Number.NEGATIVE_INFINITY}}}],$={date:{test:function(m){return Re.toStringTag(m)==="Date"},replace:function(m){var D=m.getTime();return Number.isNaN(D)?"NaN":D},revive:function(m){return m==="NaN"?new Date(Number.NaN):new Date(m)}}},f={regexp:{test:function(m){return Re.toStringTag(m)==="RegExp"},replace:function(m){return{source:m.source,flags:(m.global?"g":"")+(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.sticky?"y":"")+(m.unicode?"u":"")}},revive:function(m){var D=m.source,N=m.flags;return new RegExp(D,N)}}},g={map:{test:function(m){return Re.toStringTag(m)==="Map"},replace:function(m){return h(m.entries())},revive:function(m){return new Map(m)}}},v={set:{test:function(m){return Re.toStringTag(m)==="Set"},replace:function(m){return h(m.values())},revive:function(m){return new Set(m)}}},b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=new Uint8Array(256),A=0;A<b.length;A++)T[b.charCodeAt(A)]=A;var I=function(m,D,N){N==null&&(N=m.byteLength);for(var V=new Uint8Array(m,D||0,N),pe=V.length,ye="",$e=0;$e<pe;$e+=3)ye+=b[V[$e]>>2],ye+=b[(3&V[$e])<<4|V[$e+1]>>4],ye+=b[(15&V[$e+1])<<2|V[$e+2]>>6],ye+=b[63&V[$e+2]];return pe%3==2?ye=ye.slice(0,-1)+"=":pe%3==1&&(ye=ye.slice(0,-2)+"=="),ye},K=function(m){var D,N,V,pe,ye=m.length,$e=.75*m.length,Ae=0;m[m.length-1]==="="&&($e--,m[m.length-2]==="="&&$e--);for(var He=new ArrayBuffer($e),at=new Uint8Array(He),lt=0;lt<ye;lt+=4)D=T[m.charCodeAt(lt)],N=T[m.charCodeAt(lt+1)],V=T[m.charCodeAt(lt+2)],pe=T[m.charCodeAt(lt+3)],at[Ae++]=D<<2|N>>4,at[Ae++]=(15&N)<<4|V>>2,at[Ae++]=(3&V)<<6|63&pe;return He},Y={arraybuffer:{test:function(m){return Re.toStringTag(m)==="ArrayBuffer"},replace:function(m,D){D.buffers||(D.buffers=[]);var N=D.buffers.indexOf(m);return N>-1?{index:N}:(D.buffers.push(m),I(m))},revive:function(m,D){if(D.buffers||(D.buffers=[]),r(m)==="object")return D.buffers[m.index];var N=K(m);return D.buffers.push(N),N}}},q=typeof self>"u"?Nc:self,ae={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(S){var m=S,D=q[m];D&&(ae[S.toLowerCase()]={test:function(V){return Re.toStringTag(V)===m},replace:function(V,pe){var ye=V.buffer,$e=V.byteOffset,Ae=V.length;pe.buffers||(pe.buffers=[]);var He=pe.buffers.indexOf(ye);return He>-1?{index:He,byteOffset:$e,length:Ae}:(pe.buffers.push(ye),{encoded:I(ye),byteOffset:$e,length:Ae})},revive:function(V,pe){pe.buffers||(pe.buffers=[]);var ye,$e=V.byteOffset,Ae=V.length,He=V.encoded,at=V.index;return"index"in V?ye=pe.buffers[at]:(ye=K(He),pe.buffers.push(ye)),new D(ye,$e,Ae)}})});var ie={dataview:{test:function(m){return Re.toStringTag(m)==="DataView"},replace:function(m,D){var N=m.buffer,V=m.byteOffset,pe=m.byteLength;D.buffers||(D.buffers=[]);var ye=D.buffers.indexOf(N);return ye>-1?{index:ye,byteOffset:V,byteLength:pe}:(D.buffers.push(N),{encoded:I(N),byteOffset:V,byteLength:pe})},revive:function(m,D){D.buffers||(D.buffers=[]);var N,V=m.byteOffset,pe=m.byteLength,ye=m.encoded,$e=m.index;return"index"in m?N=D.buffers[$e]:(N=K(ye),D.buffers.push(N)),new DataView(N,V,pe)}}},he={IntlCollator:{test:function(m){return Re.hasConstructorOf(m,Intl.Collator)},replace:function(m){return m.resolvedOptions()},revive:function(m){return new Intl.Collator(m.locale,m)}},IntlDateTimeFormat:{test:function(m){return Re.hasConstructorOf(m,Intl.DateTimeFormat)},replace:function(m){return m.resolvedOptions()},revive:function(m){return new Intl.DateTimeFormat(m.locale,m)}},IntlNumberFormat:{test:function(m){return Re.hasConstructorOf(m,Intl.NumberFormat)},replace:function(m){return m.resolvedOptions()},revive:function(m){return new Intl.NumberFormat(m.locale,m)}}};function ge(S){for(var m=new Uint8Array(S.length),D=0;D<S.length;D++)m[D]=S.charCodeAt(D);return m.buffer}var xe={file:{test:function(m){return Re.toStringTag(m)==="File"},replace:function(m){var D=new XMLHttpRequest;if(D.overrideMimeType("text/plain; charset=x-user-defined"),D.open("GET",URL.createObjectURL(m),!1),D.send(),D.status!==200&&D.status!==0)throw new Error("Bad File access: "+D.status);return{type:m.type,stringContents:D.responseText,name:m.name,lastModified:m.lastModified}},revive:function(m){var D=m.name,N=m.type,V=m.stringContents,pe=m.lastModified;return new File([ge(V)],D,{type:N,lastModified:pe})},replaceAsync:function(m){return new Re.Promise(function(D,N){var V=new FileReader;V.addEventListener("load",function(){D({type:m.type,stringContents:V.result,name:m.name,lastModified:m.lastModified})}),V.addEventListener("error",function(){N(V.error)}),V.readAsBinaryString(m)})}}},ke={bigint:{test:function(m){return typeof m=="bigint"},replace:function(m){return String(m)},revive:function(m){return BigInt(m)}}},Le={bigintObject:{test:function(m){return r(m)==="object"&&Re.hasConstructorOf(m,BigInt)},replace:function(m){return String(m)},revive:function(m){return new Object(BigInt(m))}}},me={cryptokey:{test:function(m){return Re.toStringTag(m)==="CryptoKey"&&m.extractable},replaceAsync:function(m){return new Re.Promise(function(D,N){crypto.subtle.exportKey("jwk",m).catch(function(V){N(V)}).then(function(V){D({jwk:V,algorithm:m.algorithm,usages:m.usages})})})},revive:function(m){var D=m.jwk,N=m.algorithm,V=m.usages;return crypto.subtle.importKey("jwk",D,N,!0,V)}}};return[ot,le,ee,oe,de,$,f,{imagedata:{test:function(m){return Re.toStringTag(m)==="ImageData"},replace:function(m){return{array:h(m.data),width:m.width,height:m.height}},revive:function(m){return new ImageData(new Uint8ClampedArray(m.array),m.width,m.height)}}},{imagebitmap:{test:function(m){return Re.toStringTag(m)==="ImageBitmap"||m&&m.dataset&&m.dataset.toStringTag==="ImageBitmap"},replace:function(m){var D=document.createElement("canvas");return D.getContext("2d").drawImage(m,0,0),D.toDataURL()},revive:function(m){var D=document.createElement("canvas"),N=D.getContext("2d"),V=document.createElement("img");return V.addEventListener("load",function(){N.drawImage(V,0,0)}),V.src=m,D},reviveAsync:function(m){var D=document.createElement("canvas"),N=D.getContext("2d"),V=document.createElement("img");return V.addEventListener("load",function(){N.drawImage(V,0,0)}),V.src=m,createImageBitmap(D)}}},xe,{file:xe.file,filelist:{test:function(m){return Re.toStringTag(m)==="FileList"},replace:function(m){for(var D=[],N=0;N<m.length;N++)D[N]=m.item(N);return D},revive:function(m){return new(function(){function D(){s(this,D),this._files=arguments[0],this.length=this._files.length}return function(V,pe,ye){return pe&&o(V.prototype,pe),ye&&o(V,ye),V}(D,[{key:"item",value:function(V){return this._files[V]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}]),D}())(m)}}},{blob:{test:function(m){return Re.toStringTag(m)==="Blob"},replace:function(m){var D=new XMLHttpRequest;if(D.overrideMimeType("text/plain; charset=x-user-defined"),D.open("GET",URL.createObjectURL(m),!1),D.send(),D.status!==200&&D.status!==0)throw new Error("Bad Blob access: "+D.status);return{type:m.type,stringContents:D.responseText}},revive:function(m){var D=m.type,N=m.stringContents;return new Blob([ge(N)],{type:D})},replaceAsync:function(m){return new Re.Promise(function(D,N){var V=new FileReader;V.addEventListener("load",function(){D({type:m.type,stringContents:V.result})}),V.addEventListener("error",function(){N(V.error)}),V.readAsBinaryString(m)})}}}].concat(typeof Map=="function"?g:[],typeof Set=="function"?v:[],typeof ArrayBuffer=="function"?Y:[],typeof Uint8Array=="function"?ae:[],typeof DataView=="function"?ie:[],typeof Intl<"u"?he:[],typeof crypto<"u"?me:[],typeof BigInt<"u"?[ke,Le]:[])})}),Es="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yo=new Uint8Array(256);for(var Ka=0;Ka<Es.length;Ka++)yo[Es.codePointAt(Ka)]=Ka;var Rc=function(t,r,s){s==null&&(s=t.byteLength);for(var o=new Uint8Array(t,r||0,s),l=o.length,u="",h=0;h<l;h+=3)u+=Es[o[h]>>2],u+=Es[(o[h]&3)<<4|o[h+1]>>4],u+=Es[(o[h+1]&15)<<2|o[h+2]>>6],u+=Es[o[h+2]&63];return l%3===2?u=u.slice(0,-1)+"=":l%3===1&&(u=u.slice(0,-2)+"=="),u},wy=function(t){var r=t.length,s=t.length*.75,o=0,l,u,h,p;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);for(var d=new ArrayBuffer(s),_=new Uint8Array(d),w=0;w<r;w+=4)l=yo[t.codePointAt(w)],u=yo[t.codePointAt(w+1)],h=yo[t.codePointAt(w+2)],p=yo[t.codePointAt(w+3)],_[o++]=l<<2|u>>4,_[o++]=(u&15)<<4|h>>2,_[o++]=(h&3)<<6|p&63;return d},SE=typeof self>"u"?global:self,xy={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(e){var t=e,r=SE[t];r&&(xy[e.toLowerCase()+"2"]={test:function(s){return Tl.toStringTag(s)===t},replace:function(s){var o=s.buffer,l=s.byteOffset,u=s.length;return{buffer:o,byteOffset:l,length:u}},revive:function(s){var o=s.buffer,l=s.byteOffset,u=s.length;return new r(o,l,u)}})});var CE={arraybuffer:{test:function(e){return Tl.toStringTag(e)==="ArrayBuffer"},replace:function(e){return Rc(e,0,e.byteLength)},revive:function(e){var t=wy(e);return t}}},yr=new Tl().register(xE),TE="FileReaderSync"in self,dl=[],Xu=0;yr.register([CE,xy,{blob2:{test:function(e){return Tl.toStringTag(e)==="Blob"},replace:function(e){if(e.isClosed)throw new Error("The Blob is closed");if(TE){var t=by(e,"binary"),r=Rc(t,0,t.byteLength);return{type:e.type,data:r}}else{dl.push(e);var s={type:e.type,data:{start:Xu,end:Xu+e.size}};return Xu+=e.size,s}},finalize:function(e,t){e.data=Rc(t,0,t.byteLength)},revive:function(e){var t=e.type,r=e.data;return new Blob([wy(r)],{type:t})}}}]);yr.mustFinalize=function(){return dl.length>0};yr.finalize=function(e){return ki(void 0,void 0,void 0,function(){var t,r,s,o,l,u,h,p,d,_;return Tr(this,function(w){switch(w.label){case 0:return[4,_y(new Blob(dl),"binary")];case 1:if(t=w.sent(),e){for(r=0,s=e;r<s.length;r++)if(o=s[r],o.$types){l=o.$types,u=l.$,u&&(l=l.$);for(h in l)p=l[h],d=yr.types[p],d&&d.finalize&&(_=Zt.getByKeyPath(o,u?"$."+h:h),d.finalize(_,t.slice(_.start,_.end)))}}return dl=[],[2]}})})};var AE=2e3;function Sy(e,t){return ki(this,void 0,void 0,function(){function r(){return ki(this,void 0,void 0,function(){var d,_,w,O,R,L,F,J,z;return Tr(this,function(B){switch(B.label){case 0:return[4,Promise.all(e.tables.map(function(M){return M.count()}))];case 1:d=B.sent(),d.forEach(function(M,j){return o[j].rowCount=M}),p.totalRows=d.reduce(function(M,j){return M+j}),_=JSON.stringify(u,void 0,l?2:void 0),w=_.lastIndexOf("]"),O=_.substring(0,w),s.push(O),R=t.filter,L=function(M){var j,Z,se,ne,ve,k,E,te,X,Me,Ee,it;return Tr(this,function(Be){switch(Be.label){case 0:j=e.table(M),Z=j.schema.primKey,se=!!Z.keyPath,ne=t.numRowsPerChunk||AE,ve=se?{tableName:j.name,inbound:!0,rows:[]}:{tableName:j.name,inbound:!1,rows:[]},k=JSON.stringify(ve,void 0,l?2:void 0),l&&(k=k.split(`
`).join(`
    `)),E=k.lastIndexOf("]"),s.push(k.substring(0,E)),te=null,X=0,Me=!0,Ee=function(){var De,Se,Tt,yt,Re,mt,xt,kn,Re;return Tr(this,function(Te){switch(Te.label){case 0:return h&&Zt.ignoreTransaction(function(){return h(p)}),De=te==null?j.limit(ne):j.where(":id").above(te).limit(ne),[4,De.toArray()];case 1:return Se=Te.sent(),Se.length===0?[2,"break"]:(te!=null&&X>0&&(s.push(","),l&&s.push(`
      `)),Me=Se.length===ne,se?(Tt=R?Se.filter(function(ot){return R(M,ot)}):Se,yt=Tt.map(function(ot){return yr.encapsulate(ot)}),yr.mustFinalize()?[4,Zt.waitFor(yr.finalize(yt))]:[3,3]):[3,4]);case 2:Te.sent(),Te.label=3;case 3:return Re=JSON.stringify(yt,void 0,l?2:void 0),l&&(Re=Re.split(`
`).join(`
      `)),s.push(new Blob([Re.substring(1,Re.length-1)])),X=Tt.length,te=Se.length>0?Zt.getByKeyPath(Se[Se.length-1],Z.keyPath):null,[3,8];case 4:return[4,De.primaryKeys()];case 5:return mt=Te.sent(),xt=mt.map(function(ot,ee){return[ot,Se[ee]]}),R&&(xt=xt.filter(function(ot){var ee=ot[0],le=ot[1];return R(M,le,ee)})),kn=xt.map(function(ot){return yr.encapsulate(ot)}),yr.mustFinalize()?[4,Zt.waitFor(yr.finalize(kn))]:[3,7];case 6:Te.sent(),Te.label=7;case 7:Re=JSON.stringify(kn,void 0,l?2:void 0),l&&(Re=Re.split(`
`).join(`
      `)),s.push(new Blob([Re.substring(1,Re.length-1)])),X=xt.length,te=mt.length>0?mt[mt.length-1]:null,Te.label=8;case 8:return p.completedRows+=Se.length,[2]}})},Be.label=1;case 1:return Me?[5,Ee()]:[3,3];case 2:return it=Be.sent(),it==="break"?[3,3]:[3,1];case 3:return s.push(k.substr(E)),p.completedTables+=1,p.completedTables<p.totalTables&&s.push(","),[2]}})},F=0,J=o,B.label=2;case 2:return F<J.length?(z=J[F].name,[5,L(z)]):[3,5];case 3:B.sent(),B.label=4;case 4:return F++,[3,2];case 5:return s.push(_.substr(w)),p.done=!0,h&&Zt.ignoreTransaction(function(){return h(p)}),[2]}})})}var s,o,l,u,h,p;return Tr(this,function(d){switch(d.label){case 0:t=t||{},s=[],o=e.tables.map(function(_){return{name:_.name,schema:bE(_),rowCount:0}}),l=t.prettyJson,u={formatName:"dexie",formatVersion:1,data:{databaseName:e.name,databaseVersion:e.verno,tables:o,data:[]}},h=t.progressCallback,p={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:e.tables.length},d.label=1;case 1:return d.trys.push([1,,6,7]),t.noTransaction?[4,r()]:[3,3];case 2:return d.sent(),[3,5];case 3:return[4,e.transaction("r",e.tables,r)];case 4:d.sent(),d.label=5;case 5:return[3,7];case 6:return yr.finalize(),[7];case 7:return[2,new Blob(s,{type:"text/json"})]}})})}var DE=1,EE={Stream:function(){}},OE=vf(function(e,t){(function(r){var s=typeof process=="object"&&process.env?process.env:self;r.parser=function(k){return new R(k)},r.CParser=R,r.CStream=F,r.createStream=L,r.MAX_BUFFER_LENGTH=10*1024*1024,r.DEBUG=s.CDEBUG==="debug",r.INFO=s.CDEBUG==="debug"||s.CDEBUG==="info",r.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var o={textNode:void 0,numberNode:""},l=r.EVENTS.filter(function(k){return k!=="error"&&k!=="end"}),u=0,h;r.STATE={BEGIN:u++,VALUE:u++,OPEN_OBJECT:u++,CLOSE_OBJECT:u++,OPEN_ARRAY:u++,CLOSE_ARRAY:u++,TEXT_ESCAPE:u++,STRING:u++,BACKSLASH:u++,END:u++,OPEN_KEY:u++,CLOSE_KEY:u++,TRUE:u++,TRUE2:u++,TRUE3:u++,FALSE:u++,FALSE2:u++,FALSE3:u++,FALSE4:u++,NULL:u++,NULL2:u++,NULL3:u++,NUMBER_DECIMAL_POINT:u++,NUMBER_DIGIT:u++};for(var p in r.STATE)r.STATE[r.STATE[p]]=p;u=r.STATE;const d={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(k){function E(){this.__proto__=k}return E.prototype=k,new E}),Object.getPrototypeOf||(Object.getPrototypeOf=function(k){return k.__proto__}),Object.keys||(Object.keys=function(k){var E=[];for(var te in k)k.hasOwnProperty(te)&&E.push(te);return E});function _(k){var E=Math.max(r.MAX_BUFFER_LENGTH,10),te=0;for(var X in o){var Me=k[X]===void 0?0:k[X].length;if(Me>E)switch(X){case"text":closeText(k);break;default:Z(k,"Max buffer length exceeded: "+X)}te=Math.max(te,Me)}k.bufferCheckPosition=r.MAX_BUFFER_LENGTH-te+k.position}function w(k){for(var E in o)k[E]=o[E]}var O=/[\\"\n]/g;function R(k){if(!(this instanceof R))return new R(k);var E=this;w(E),E.bufferCheckPosition=r.MAX_BUFFER_LENGTH,E.q=E.c=E.p="",E.opt=k||{},E.closed=E.closedRoot=E.sawRoot=!1,E.tag=E.error=null,E.state=u.BEGIN,E.stack=new Array,E.position=E.column=0,E.line=1,E.slashed=!1,E.unicodeI=0,E.unicodeS=null,E.depth=0,J(E,"onready")}R.prototype={end:function(){se(this)},write:ve,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{h=EE.Stream}catch{h=function(){}}function L(k){return new F(k)}function F(k){if(!(this instanceof F))return new F(k);this._parser=new R(k),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var E=this;h.apply(E),this._parser.onend=function(){E.emit("end")},this._parser.onerror=function(te){E.emit("error",te),E._parser.error=null},l.forEach(function(te){Object.defineProperty(E,"on"+te,{get:function(){return E._parser["on"+te]},set:function(X){if(!X)return E.removeAllListeners(te),E._parser["on"+te]=X,X;E.on(te,X)},enumerable:!0,configurable:!1})})}F.prototype=Object.create(h.prototype,{constructor:{value:F}}),F.prototype.write=function(k){k=new Buffer(k);for(var E=0;E<k.length;E++){var te=k[E];if(this.bytes_remaining>0){for(var X=0;X<this.bytes_remaining;X++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+X]=k[X];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,E=E+X-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&te>=128)if(te>=194&&te<=223&&(this.bytes_in_sequence=2),te>=224&&te<=239&&(this.bytes_in_sequence=3),te>=240&&te<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+E>k.length){for(var Me=0;Me<=k.length-1-E;Me++)this.temp_buffs[this.bytes_in_sequence][Me]=k[E+Me];return this.bytes_remaining=E+this.bytes_in_sequence-k.length,!0}else{this.string=k.slice(E,E+this.bytes_in_sequence).toString(),E=E+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var Ee=E;Ee<k.length&&!(k[Ee]>=128);Ee++);this.string=k.slice(E,Ee).toString(),this._parser.write(this.string),this.emit("data",this.string),E=Ee-1}},F.prototype.end=function(k){return k&&k.length&&this._parser.write(k.toString()),this._parser.end(),!0},F.prototype.on=function(k,E){var te=this;return!te._parser["on"+k]&&l.indexOf(k)!==-1&&(te._parser["on"+k]=function(){var X=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);X.splice(0,0,k),te.emit.apply(te,X)}),h.prototype.on.call(te,k,E)},F.prototype.destroy=function(){w(this._parser),this.emit("close")};function J(k,E,te){r.INFO&&console.log("-- emit",E,te),k[E]&&k[E](te)}function z(k,E,te){B(k),J(k,E,te)}function B(k,E){k.textNode=j(k.opt,k.textNode),k.textNode!==void 0&&J(k,E||"onvalue",k.textNode),k.textNode=void 0}function M(k){k.numberNode&&J(k,"onvalue",parseFloat(k.numberNode)),k.numberNode=""}function j(k,E){return E===void 0||(k.trim&&(E=E.trim()),k.normalize&&(E=E.replace(/\s+/g," "))),E}function Z(k,E){return B(k),E+=`
Line: `+k.line+`
Column: `+k.column+`
Char: `+k.c,E=new Error(E),k.error=E,J(k,"onerror",E),k}function se(k){return(k.state!==u.VALUE||k.depth!==0)&&Z(k,"Unexpected end"),B(k),k.c="",k.closed=!0,J(k,"onend"),R.call(k,k.opt),k}function ne(k){return k===d.carriageReturn||k===d.lineFeed||k===d.space||k===d.tab}function ve(k){var E=this;if(this.error)throw this.error;if(E.closed)return Z(E,"Cannot write after close. Assign an onready handler.");if(k===null)return se(E);var te=0,X=k.charCodeAt(0),Me=E.p;for(r.DEBUG&&console.log("write -> ["+k+"]");X&&(Me=X,E.c=X=k.charCodeAt(te++),Me!==X?E.p=Me:Me=E.p,!!X);)switch(r.DEBUG&&console.log(te,X,r.STATE[E.state]),E.position++,X===d.lineFeed?(E.line++,E.column=0):E.column++,E.state){case u.BEGIN:X===d.openBrace?E.state=u.OPEN_OBJECT:X===d.openBracket?E.state=u.OPEN_ARRAY:ne(X)||Z(E,"Non-whitespace before {[.");continue;case u.OPEN_KEY:case u.OPEN_OBJECT:if(ne(X))continue;if(E.state===u.OPEN_KEY)E.stack.push(u.CLOSE_KEY);else if(X===d.closeBrace){J(E,"onopenobject"),this.depth++,J(E,"oncloseobject"),this.depth--,E.state=E.stack.pop()||u.VALUE;continue}else E.stack.push(u.CLOSE_OBJECT);X===d.doubleQuote?E.state=u.STRING:Z(E,'Malformed object key should start with "');continue;case u.CLOSE_KEY:case u.CLOSE_OBJECT:if(ne(X))continue;E.state,u.CLOSE_KEY,X===d.colon?(E.state===u.CLOSE_OBJECT?(E.stack.push(u.CLOSE_OBJECT),B(E,"onopenobject"),this.depth++):B(E,"onkey"),E.state=u.VALUE):X===d.closeBrace?(z(E,"oncloseobject"),this.depth--,E.state=E.stack.pop()||u.VALUE):X===d.comma?(E.state===u.CLOSE_OBJECT&&E.stack.push(u.CLOSE_OBJECT),B(E),E.state=u.OPEN_KEY):Z(E,"Bad object");continue;case u.OPEN_ARRAY:case u.VALUE:if(ne(X))continue;if(E.state===u.OPEN_ARRAY)if(J(E,"onopenarray"),this.depth++,E.state=u.VALUE,X===d.closeBracket){J(E,"onclosearray"),this.depth--,E.state=E.stack.pop()||u.VALUE;continue}else E.stack.push(u.CLOSE_ARRAY);X===d.doubleQuote?E.state=u.STRING:X===d.openBrace?E.state=u.OPEN_OBJECT:X===d.openBracket?E.state=u.OPEN_ARRAY:X===d.t?E.state=u.TRUE:X===d.f?E.state=u.FALSE:X===d.n?E.state=u.NULL:X===d.minus?E.numberNode+="-":d._0<=X&&X<=d._9?(E.numberNode+=String.fromCharCode(X),E.state=u.NUMBER_DIGIT):Z(E,"Bad value");continue;case u.CLOSE_ARRAY:if(X===d.comma)E.stack.push(u.CLOSE_ARRAY),B(E,"onvalue"),E.state=u.VALUE;else if(X===d.closeBracket)z(E,"onclosearray"),this.depth--,E.state=E.stack.pop()||u.VALUE;else{if(ne(X))continue;Z(E,"Bad array")}continue;case u.STRING:E.textNode===void 0&&(E.textNode="");var Ee=te-1,it=E.slashed,Be=E.unicodeI;e:for(;;){for(r.DEBUG&&console.log(te,X,r.STATE[E.state],it);Be>0;)if(E.unicodeS+=String.fromCharCode(X),X=k.charCodeAt(te++),E.position++,Be===4?(E.textNode+=String.fromCharCode(parseInt(E.unicodeS,16)),Be=0,Ee=te-1):Be++,!X)break e;if(X===d.doubleQuote&&!it){E.state=E.stack.pop()||u.VALUE,E.textNode+=k.substring(Ee,te-1),E.position+=te-1-Ee;break}if(X===d.backslash&&!it&&(it=!0,E.textNode+=k.substring(Ee,te-1),E.position+=te-1-Ee,X=k.charCodeAt(te++),E.position++,!X))break;if(it){if(it=!1,X===d.n?E.textNode+=`
`:X===d.r?E.textNode+="\r":X===d.t?E.textNode+="	":X===d.f?E.textNode+="\f":X===d.b?E.textNode+="\b":X===d.u?(Be=1,E.unicodeS=""):E.textNode+=String.fromCharCode(X),X=k.charCodeAt(te++),E.position++,Ee=te-1,X)continue;break}O.lastIndex=te;var De=O.exec(k);if(De===null){te=k.length+1,E.textNode+=k.substring(Ee,te-1),E.position+=te-1-Ee;break}if(te=De.index+1,X=k.charCodeAt(De.index),!X){E.textNode+=k.substring(Ee,te-1),E.position+=te-1-Ee;break}}E.slashed=it,E.unicodeI=Be;continue;case u.TRUE:X===d.r?E.state=u.TRUE2:Z(E,"Invalid true started with t"+X);continue;case u.TRUE2:X===d.u?E.state=u.TRUE3:Z(E,"Invalid true started with tr"+X);continue;case u.TRUE3:X===d.e?(J(E,"onvalue",!0),E.state=E.stack.pop()||u.VALUE):Z(E,"Invalid true started with tru"+X);continue;case u.FALSE:X===d.a?E.state=u.FALSE2:Z(E,"Invalid false started with f"+X);continue;case u.FALSE2:X===d.l?E.state=u.FALSE3:Z(E,"Invalid false started with fa"+X);continue;case u.FALSE3:X===d.s?E.state=u.FALSE4:Z(E,"Invalid false started with fal"+X);continue;case u.FALSE4:X===d.e?(J(E,"onvalue",!1),E.state=E.stack.pop()||u.VALUE):Z(E,"Invalid false started with fals"+X);continue;case u.NULL:X===d.u?E.state=u.NULL2:Z(E,"Invalid null started with n"+X);continue;case u.NULL2:X===d.l?E.state=u.NULL3:Z(E,"Invalid null started with nu"+X);continue;case u.NULL3:X===d.l?(J(E,"onvalue",null),E.state=E.stack.pop()||u.VALUE):Z(E,"Invalid null started with nul"+X);continue;case u.NUMBER_DECIMAL_POINT:X===d.period?(E.numberNode+=".",E.state=u.NUMBER_DIGIT):Z(E,"Leading zero not followed by .");continue;case u.NUMBER_DIGIT:d._0<=X&&X<=d._9?E.numberNode+=String.fromCharCode(X):X===d.period?(E.numberNode.indexOf(".")!==-1&&Z(E,"Invalid number has two dots"),E.numberNode+="."):X===d.e||X===d.E?((E.numberNode.indexOf("e")!==-1||E.numberNode.indexOf("E")!==-1)&&Z(E,"Invalid number has two exponential"),E.numberNode+="e"):X===d.plus||X===d.minus?(Me===d.e||Me===d.E||Z(E,"Invalid symbol in number"),E.numberNode+=String.fromCharCode(X)):(M(E),te--,E.state=E.stack.pop()||u.VALUE);continue;default:Z(E,"Unknown state: "+E.state)}return E.position>=E.bufferCheckPosition&&_(E),E}})(t)});function kE(e){var t=0,r=PE(!0),s={pullAsync:function(o){return ki(this,void 0,void 0,function(){var l,u,h;return Tr(this,function(p){switch(p.label){case 0:return l=e.slice(t,t+o),t+=o,[4,_y(l,"text")];case 1:return u=p.sent(),h=r.write(u),s.result=h||{},[2,h]}})})},pullSync:function(o){var l=e.slice(t,t+o);t+=o;var u=by(l,"text"),h=r.write(u);return s.result=h||{},h},done:function(){return r.done()},eof:function(){return t>=e.size},result:{}};return s}function PE(e){var t=OE.parser(),r=0,s,o=[],l,u,h=!1,p=!1;return t.onopenobject=function(d){var _={};_.incomplete=!0,s||(s=_),l&&(o.push([u,l,p]),e&&(p?l.push(_):l[u]=_)),l=_,u=d,p=!1,++r},t.onkey=function(d){return u=d},t.onvalue=function(d){return p?l.push(d):l[u]=d},t.oncloseobject=function(){var d;if(delete l.incomplete,u=null,--r===0)h=!0;else{var _=l;d=o.pop(),u=d[0],l=d[1],p=d[2],e||(p?l.push(_):l[u]=_)}},t.onopenarray=function(){var d=[];d.incomplete=!0,s||(s=d),l&&(o.push([u,l,p]),e&&(p?l.push(d):l[u]=d)),l=d,p=!0,u=null,++r},t.onclosearray=function(){var d;if(delete l.incomplete,u=null,--r===0)h=!0;else{var _=l;d=o.pop(),u=d[0],l=d[1],p=d[2],e||(p?l.push(_):l[u]=_)}},{write:function(d){return t.write(d),s},done:function(){return h}}}var Cy=1024;function Ty(e,t){return ki(this,void 0,void 0,function(){var r,s,o,l;return Tr(this,function(u){switch(u.label){case 0:return t=t||{},r=t.chunkSizeBytes||Cy*1024,[4,Dy(e,r)];case 1:return s=u.sent(),o=s.result.data,l=new Zt(o.databaseName),l.version(o.databaseVersion).stores(wE(o)),[4,Ay(l,s,t)];case 2:return u.sent(),[2,l]}})})}function Ay(e,t,r){return ki(this,void 0,void 0,function(){function s(){return ki(this,void 0,void 0,function(){var L,F,J,z,B;return Tr(this,function(M){switch(M.label){case 0:L=function(j){var Z,se,ne,ve,k,E,te,X,Me,Ee,it,Be;return Tr(this,function(De){switch(De.label){case 0:if(!j.rows)return[2,"break"];if(!j.rows.incomplete&&j.rows.length===0)return[2,"continue"];if(d&&Zt.ignoreTransaction(function(){return d(_)}),Z=j.tableName,se=e.table(Z),ne=p.tables.filter(function(Se){return Se.name===Z})[0].schema,!se){if(r.acceptMissingTables)return[2,"continue"];throw new Error("Exported table ".concat(j.tableName," is missing in installed database"))}if(!r.acceptChangedPrimaryKey&&ne.split(",")[0]!=se.schema.primKey.src)throw new Error("Primary key differs for table ".concat(j.tableName,". "));for(ve=j.rows,k=[],E=0;E<ve.length&&(te=ve[E],!te.incomplete);E++)k.push(yr.revive(te));return X=r.filter,Me=X?j.inbound?k.filter(function(Se){return X(Z,Se)}):k.filter(function(Se){var Tt=Se[0],yt=Se[1];return X(Z,yt,Tt)}):k,Ee=j.inbound?[void 0,Me]:[Me.map(function(Se){return Se[0]}),k.map(function(Se){return Se[1]})],it=Ee[0],Be=Ee[1],r.overwriteValues?[4,se.bulkPut(Be,it)]:[3,2];case 1:return De.sent(),[3,4];case 2:return[4,se.bulkAdd(Be,it)];case 3:De.sent(),De.label=4;case 4:return _.completedRows+=k.length,k.incomplete||(_.completedTables+=1),ve.splice(0,k.length),[2]}})},F=0,J=p.data,M.label=1;case 1:return F<J.length?(z=J[F],[5,L(z)]):[3,4];case 2:if(B=M.sent(),B==="break")return[3,4];M.label=3;case 3:return F++,[3,1];case 4:for(;p.data.length>0&&p.data[0].rows&&!p.data[0].rows.incomplete;)p.data.splice(0,1);return!l.done()&&!l.eof()?h?(l.pullSync(o),[3,7]):[3,5]:[3,8];case 5:return[4,Zt.waitFor(l.pullAsync(o))];case 6:M.sent(),M.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var o,l,u,h,p,d,_,w,O,R;return Tr(this,function(L){switch(L.label){case 0:return r=r||{},o=r.chunkSizeBytes||Cy*1024,[4,Dy(t,o)];case 1:if(l=L.sent(),u=l.result,h="FileReaderSync"in self,p=u.data,!r.acceptNameDiff&&e.name!==p.databaseName)throw new Error("Name differs. Current database name is ".concat(e.name," but export is ").concat(p.databaseName));if(!r.acceptVersionDiff&&e.verno!==p.databaseVersion)throw new Error("Database version differs. Current database is in version ".concat(e.verno," but export is ").concat(p.databaseVersion));if(d=r.progressCallback,_={done:!1,completedRows:0,completedTables:0,totalRows:p.tables.reduce(function(F,J){return F+J.rowCount},0),totalTables:p.tables.length},d&&Zt.ignoreTransaction(function(){return d(_)}),!r.clearTablesBeforeImport)return[3,5];w=0,O=e.tables,L.label=2;case 2:return w<O.length?(R=O[w],[4,R.clear()]):[3,5];case 3:L.sent(),L.label=4;case 4:return w++,[3,2];case 5:return r.noTransaction?[4,s()]:[3,7];case 6:return L.sent(),[3,9];case 7:return[4,e.transaction("rw",e.tables,s)];case 8:L.sent(),L.label=9;case 9:return _.done=!0,d&&Zt.ignoreTransaction(function(){return d(_)}),[2]}})})}function Dy(e,t){return ki(this,void 0,void 0,function(){var r,s;return Tr(this,function(o){switch(o.label){case 0:r="slice"in e?kE(e):e,o.label=1;case 1:return r.eof()?[3,3]:[4,r.pullAsync(t)];case 2:return o.sent(),r.result.data&&r.result.data.data?[3,3]:[3,1];case 3:if(s=r.result,!s||s.formatName!="dexie")throw new Error("Given file is not a dexie export");if(s.formatVersion>DE)throw new Error("Format version ".concat(s.formatVersion," not supported"));if(!s.data)throw new Error("No data in export file");if(!s.data.databaseName)throw new Error("Missing databaseName in export file");if(!s.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!s.data.tables)throw new Error("Missing tables in export file");return[2,r]}})})}Zt.prototype.export=function(e){return Sy(this,e)};Zt.prototype.import=function(e,t){return Ay(this,e,t)};Zt.import=function(e,t){return Ty(e,t)};const IE={class:"relative p-5 shadow-xl rounded-xl mb-5 bg-gray-600"},LE=G("div",{class:"text-2xl font-bold mb-6"},"Модули",-1),$E={class:"flex flex-wrap items-center gap-5"},FE={class:"relative p-5 shadow-xl rounded-xl mb-5 bg-gray-600"},NE=G("div",{class:"text-2xl font-bold mb-6"},"База данных",-1),RE={class:"flex flex-wrap items-center gap-5"},BE=G("span",{class:"pointer-events-none"},"Импорт",-1),ME={class:"relative p-5 shadow-xl rounded-xl mb-5 bg-gray-600"},UE=G("div",{class:"text-2xl font-bold mb-6 text-red-400"},"Осторожно!",-1),KE={class:"flex flex-wrap items-center gap-5"},jE=qn({__name:"SettingsPage",setup(e){const t=Pi({dbLoading:!1});rf(()=>!!new URLSearchParams(window.location.search).has("danger"));async function r(){if(window.confirm("Удаляем базу данных ?"))try{await It.close(),window.indexedDB.deleteDatabase("avito_scraper"),chrome.storage.local.set({appStartMessage:ct.DBDropSuccess}),window.location.reload()}catch{dt.show("error",ct.DBDropError)}}async function s(){Ye.apiCreateFilter(),tn.apiCreateFilter(),Xe.apiCreateList(),Dt.apiCreateList()}async function o(){window.confirm("Удалям данные модулей ?")&&(Ye.resetFields(),Ye.apiRemoveFilter(),tn.resetFields(),tn.apiRemoveFilter(),Xe.list.value=[],Dt.list.value=[],Xe.apiRemoveList(),Dt.apiRemoveList())}async function l(){window.confirm("Чистим хранилище ?")&&(await chrome.storage.local.clear(),window.location.reload())}async function u(p){let d=p.target;if(d.files&&d.files[0])try{let _=d.files[0],w=new Blob([_],{type:"application/json"});await Ty(w),chrome.storage.local.set({appStartMessage:ct.DBImportSuccess}),window.location.reload()}catch(_){console.log(_),dt.show("error",ct.DBImportError)}finally{}}async function h(){t.dbLoading=!0;try{const _=`avito-scraper-dump----${new Date().toLocaleString().replace(",","----").replace(" ","").replace(/\:/g,"-").replace(/\./g,"-")}.json`,w=await Sy(It),O=new Blob([w],{type:"text/json"}),R=document.createElement("a");R.href=URL.createObjectURL(O),R.download=_,R.click(),R.remove(),dt.show("success",ct.DBExportSuccess)}catch{dt.show("error",ct.DBExportError)}finally{t.dbLoading=!1}}return(p,d)=>(be(),Oe(Kt,null,[G("div",IE,[LE,G("div",$E,[ft(Cn,{theme:"info",icon:"save",onClick:Yt(s,["stop"])},{default:fn(()=>[hn("Сохранить данные")]),_:1},8,["onClick"]),ft(Cn,{theme:"danger",icon:"restore",onClick:Yt(o,["stop"])},{default:fn(()=>[hn("Сбросить данные")]),_:1},8,["onClick"])])]),G("div",FE,[t.dbLoading?(be(),ir(vy,{key:0,class:"w-8 h-8 absolute right-5 top-5"})):bt("",!0),NE,G("div",RE,[ft(Cn,{theme:"success",icon:"cloud_upload"},{default:fn(()=>[G("input",{type:"file",accept:"application/JSON",class:"p-0 m-0 absolute inset-0 z-10 opacity-0 cursor-pointer",onChange:u},null,32),BE]),_:1}),ft(Cn,{theme:"info",icon:"cloud_download",onClick:h},{default:fn(()=>[hn("Экспорт")]),_:1})])]),G("div",ME,[UE,G("div",KE,[ft(Cn,{theme:"danger",icon:"delete_sweep",onClick:Yt(l,["stop"])},{default:fn(()=>[hn("Очистить localStorage")]),_:1},8,["onClick"]),ft(Cn,{theme:"danger",icon:"delete_forever",onClick:Yt(r,["stop"])},{default:fn(()=>[hn("Очистить IndexedDB")]),_:1},8,["onClick"])])])],64))}}),HE={class:"centered"},VE=qn({__name:"App",setup(e){const t=Dr(!1);return rs(async()=>{ZC(),chrome.runtime.onMessage.addListener(async({message:r,action:s,status:o,currentUrl:l,data:u})=>{if(o&&r&&dt.show(o,r),s==="reviews-parsing-started"&&Ye.profileLinkSetStatus(l,"wait"),s==="reviews-parsing-ended")if(o==="success"&&(Xe.pushResultsByUrl(l,u),en.pushParsingResult(l),Ye.profileLinkSetStatus(l,"success")),o==="error"&&Ye.profileLinkSetStatus(l,"error"),Ye.profileLinkNew){const h=dt.show("success",ct.WaitOpenPage,{duration:172800});await tT(nT(2,10)*1e3),dt.drop(h),Ye.parsingStart()}else Fp(),dt.show("success",ct.ParsingReviewsFinished,{duration:172800}),gr.changeTab(zr.ProfilesParsing),Ye.apiCreateFilter(),Xe.apiCreateList();s==="profile-info"&&(Xe.list.value.push(u),Ye.profileLinkSetInfo(l,u)),s==="profiles-parsing-started"&&o==="success"&&(Dt.state.loading=!0),s==="profiles-parsing-current-page"&&o==="success"&&(Dt.state.currentPage=u),s==="profiles-parsing-category-info"&&o==="success"&&(tn.fields.pageTitle=u),s==="profiles-parsing-ended"&&(o==="success"&&(Fp(),dt.show("success",ct.ProfilesParsingEnded,{duration:172800}),gr.changeTab(zr.ProfilesSearch),Dt.state.loading=!1,Dt.pushProfilesList(u),Dt.apiCreateList(),tn.apiCreateFilter()),o==="error"&&(Dt.state.loading=!1,dt.show("error",ct.ProfilesParsingError,{duration:172800})))}),document.fonts.onloadingdone=()=>{t.value=!0},gr.setActiveTabFromStorage(),rT(),setTimeout(async()=>{Ye.setFilterFromDB(),tn.setFilterFromDB(),Xe.list.value=await Xe.apiGetList(),Dt.list.value=await Dt.apiGetList(),Dt.checkProfilesInParsingFilter(),Dt.checkProfilesInDB()},0)}),(r,s)=>(be(),Oe("div",{class:_n(["app-wrapper transition-opacity duration-200 delay-100",t.value?"opacity-100":"opacity-0"])},[ft(uT),G("main",HE,[(be(),ir(jx,null,[_e(gr).active.value===_e(zr).ProfilesSearch?(be(),ir(CD,{key:0})):bt("",!0),_e(gr).active.value===_e(zr).ProfilesParsing?(be(),ir(VA,{key:1})):bt("",!0)],1024)),_e(gr).active.value===_e(zr).ProfilesSaved?(be(),ir(_E,{key:0})):bt("",!0),_e(gr).active.value===_e(zr).Settings?(be(),ir(jE,{key:1})):bt("",!0)])],2))}});tC(VE).mount("#options");
